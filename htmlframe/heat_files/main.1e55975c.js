(function(){"use strict";function noop$1(){}function assign$1(t,e){for(const n in e)t[n]=e[n];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let src_url_equal_anchor;function src_url_equal(t,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,t===src_url_equal_anchor.href}function is_empty(t){return 0===Object.keys(t).length}function subscribe(t){if(null==t)return noop$1;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function component_subscribe(t,e,n){t.$$.on_destroy.push(subscribe(e,n))}function create_slot(t,e,n,r){if(t){const o=get_slot_context(t,e,n,r);return t[0](o)}}function get_slot_context(t,e,n,r){return t[1]&&r?assign$1(n.ctx.slice(),t[1](r(e))):n.ctx}function get_slot_changes(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function update_slot_base(t,e,n,r,o,a){if(o){const i=get_slot_context(e,n,r,a);t.p(i,o)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function exclude_internal_props(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function compute_rest_props(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function compute_slots(t){const e={};for(const n in t)e[n]=!0;return e}function null_to_empty(t){return null==t?"":t}function set_store_value(t,e,n){return t.set(n),e}let is_hydrating=!1,crossorigin,current_component;function start_hydrating(){is_hydrating=!0}function end_hydrating(){is_hydrating=!1}function upper_bound(t,e,n,r){for(;t<e;){const o=t+(e-t>>1);n(o)<=r?t=o+1:e=o}return t}function init_hydrate(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const r=e[n];void 0!==r.claim_order&&t.push(r)}e=t}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let o=0;for(let t=0;t<e.length;t++){const a=e[t].claim_order,i=(o>0&&e[n[o]].claim_order<=a?o+1:upper_bound(1,o,(t=>e[n[t]].claim_order),a))-1;r[t]=n[i]+1;const s=i+1;n[s]=t,o=Math.max(s,o)}const a=[],i=[];let s=e.length-1;for(let t=n[o]+1;0!=t;t=r[t-1]){for(a.push(e[t-1]);s>=t;s--)i.push(e[s]);s--}for(;s>=0;s--)i.push(e[s]);a.reverse(),i.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<i.length;e++){for(;n<a.length&&i[e].claim_order>=a[n].claim_order;)n++;const r=n<a.length?a[n]:null;t.insertBefore(i[e],r)}}function append$1(t,e){t.appendChild(e)}function append_styles(t,e,n){const r=get_root_for_style(t);if(!r.getElementById(e)){const t=element("style");t.id=e,t.textContent=n,append_stylesheet(r,t)}}function get_root_for_style(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function append_stylesheet(t,e){return append$1(t.head||t,e),e.sheet}function append_hydration(t,e){if(is_hydrating){for(init_hydrate(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function insert_hydration(t,e,n){is_hydrating&&!n?append_hydration(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function detach(t){t.parentNode&&t.parentNode.removeChild(t)}function destroy_each(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function prevent_default(t){return function(e){return e.preventDefault(),t.call(this,e)}}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function attr(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function set_attributes(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:attr(t,r,e[r])}function set_custom_element_data_map(t,e){Object.keys(e).forEach((n=>{set_custom_element_data(t,n,e[n])}))}function set_custom_element_data(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:attr(t,e,n)}function children(t){return Array.from(t.childNodes)}function init_claim_info(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}function claim_node(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];init_claim_info(t);const a=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const a=t[r];if(e(a)){const e=n(a);return void 0===e?t.splice(r,1):t[r]=e,o||(t.claim_info.last_index=r),a}}for(let r=t.claim_info.last_index-1;r>=0;r--){const a=t[r];if(e(a)){const e=n(a);return void 0===e?t.splice(r,1):t[r]=e,o?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=r,a}}return r()})();return a.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,a}function claim_element_base(t,e,n,r){return claim_node(t,(t=>t.nodeName===e),(t=>{const e=[];for(let r=0;r<t.attributes.length;r++){const o=t.attributes[r];n[o.name]||e.push(o.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>r(e)))}function claim_element(t,e,n){return claim_element_base(t,e,n,element)}function claim_svg_element(t,e,n){return claim_element_base(t,e,n,svg_element)}function claim_text(t,e){return claim_node(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>text(e)),!0)}function claim_space(t){return claim_text(t," ")}function find_comment(t,e,n){for(let r=n;r<t.length;r+=1){const n=t[r];if(8===n.nodeType&&n.textContent.trim()===e)return r}return t.length}function claim_html_tag(t,e){const n=find_comment(t,"HTML_TAG_START",0),r=find_comment(t,"HTML_TAG_END",n);if(n===r)return new HtmlTagHydration(void 0,e);init_claim_info(t);const o=t.splice(n,r-n+1);detach(o[0]),detach(o[o.length-1]);const a=o.slice(1,o.length-1);for(const e of a)e.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1;return new HtmlTagHydration(a,e)}function set_data(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function set_style(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function select_option(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function select_value(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function is_crossorigin(){if(void 0===crossorigin){crossorigin=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){crossorigin=!0}}return crossorigin}function add_resize_listener(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=element("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=is_crossorigin();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=listen(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{o=listen(n.contentWindow,"resize",e)}),append$1(t,n),()=>{(r||o&&n.contentWindow)&&o(),detach(n)}}function toggle_class(t,e,n){t.classList[n?"add":"remove"](e)}function custom_event(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}function head_selector(t,e){const n=[];let r=0;for(const o of e.childNodes)if(8===o.nodeType){const e=o.textContent.trim();e==="HEAD_".concat(t,"_END")?(r-=1,n.push(o)):e==="HEAD_".concat(t,"_START")&&(r+=1,n.push(o))}else r>0&&n.push(o);return n}class HtmlTag{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=svg_element(e.nodeName):this.e=element(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)insert(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(detach)}}class HtmlTagHydration extends HtmlTag{constructor(t){super(arguments.length>1&&void 0!==arguments[1]&&arguments[1]),this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let e=0;e<this.n.length;e+=1)insert_hydration(this.t,this.n[e],t)}}function construct_svelte_component(t,e){return new t(e)}function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function afterUpdate(t){get_current_component().$$.after_update.push(t)}function createEventDispatcher(){const t=get_current_component();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.$$.callbacks[e];if(o){const a=custom_event(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,a)})),!a.defaultPrevented}return!0}}function setContext(t,e){return get_current_component().$$.context.set(t,e),e}function getContext(t){return get_current_component().$$.context.get(t)}function bubble(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(t){render_callbacks.push(t)}function add_flush_callback(t){flush_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(0!==flushidx)return;const t=current_component;do{try{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}}catch(t){throw dirty_components.length=0,flushidx=0,t}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,n,r){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push((()=>{outroing.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function get_spread_update(t,e){const n={},r={},o={$$scope:1};let a=t.length;for(;a--;){const i=t[a],s=e[a];if(s){for(const t in i)t in s||(r[t]=1);for(const t in s)o[t]||(n[t]=s[t],o[t]=1);t[a]=s}else for(const t in i)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function get_spread_object(t){return"object"==typeof t&&null!==t?t:{}}function bind$1(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function create_component(t){t&&t.c()}function claim_component(t,e){t&&t.l(e)}function mount_component(t,e,n,r){const{fragment:o,after_update:a}=t.$$;o&&o.m(e,n),r||add_render_callback((()=>{const e=t.$$.on_mount.map(run).filter(is_function);t.$$.on_destroy?t.$$.on_destroy.push(...e):run_all(e),t.$$.on_mount=[]})),a.forEach(add_render_callback)}function destroy_component(t,e){const n=t.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,n,r,o,a,i){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const c=current_component;set_current_component(t);const l=t.$$={fragment:null,ctx:[],props:a,update:noop$1,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};i&&i(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return l.ctx&&o(l.ctx[e],l.ctx[e]=r)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](r),u&&make_dirty(t,e)),n})):[],l.update(),u=!0,run_all(l.before_update),l.fragment=!!r&&r(l.ctx),e.target){if(e.hydrate){start_hydrating();const t=children(e.target);l.fragment&&l.fragment.l(t),t.forEach(detach)}else l.fragment&&l.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),end_hydrating(),flush()}set_current_component(c)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(t,e){if(!is_function(e))return noop$1;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const subscriber_queue=[];function writable(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$1;const r=new Set;function o(n){if(safe_not_equal(t,n)&&(t=n,e)){const e=!subscriber_queue.length;for(const e of r)e[1](),subscriber_queue.push(e,t);if(e){for(let t=0;t<subscriber_queue.length;t+=2)subscriber_queue[t][0](subscriber_queue[t+1]);subscriber_queue.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a){const i=[a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$1];return r.add(i),1===r.size&&(e=n(o)||noop$1),a(t),()=>{r.delete(i),0===r.size&&(e(),e=null)}}}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getAugmentedNamespace(t){var e=t.default;if("function"==typeof e){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var purify={exports:{}},module;/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */module=purify,module.exports=function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,o,a){return r=n()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var a=new(Function.bind.apply(t,o));return r&&e(a,r.prototype),a},r.apply(null,arguments)}function o(t){return a(t)||i(t)||s(t)||l()}function a(t){if(Array.isArray(t))return c(t)}function i(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function s(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,d=Object.setPrototypeOf,p=Object.isFrozen,f=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,_=Object.create,y="undefined"!=typeof Reflect&&Reflect,b=y.apply,$=y.construct;b||(b=function(t,e,n){return t.apply(e,n)}),m||(m=function(t){return t}),g||(g=function(t){return t}),$||($=function(t,e){return r(t,o(e))});var v=D(Array.prototype.forEach),k=D(Array.prototype.pop),x=D(Array.prototype.push),w=D(String.prototype.toLowerCase),E=D(String.prototype.match),T=D(String.prototype.replace),S=D(String.prototype.indexOf),M=D(String.prototype.trim),A=D(RegExp.prototype.test),C=O(TypeError);function D(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return b(t,e,r)}}function O(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return $(t,n)}}function N(t,e,n){n=n||w,d&&d(t,null);for(var r=e.length;r--;){var o=e[r];if("string"==typeof o){var a=n(o);a!==o&&(p(e)||(e[r]=a),o=a)}t[o]=!0}return t}function I(t){var e,n=_(null);for(e in t)b(u,t,[e])&&(n[e]=t[e]);return n}function P(t,e){for(;null!==t;){var n=h(t,e);if(n){if(n.get)return D(n.get);if("function"==typeof n.value)return D(n.value)}t=f(t)}function r(t){return console.warn("fallback value for",t),null}return r}var R=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=m(["#text"]),Y=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),W=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=g(/<%[\w\W]*|[\w\W]*%>/gm),K=g(/^data-[\-\w.\u00B7-\uFFFF]/),J=g(/^aria-[\-\w]+$/),Z=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X=g(/^(?:\w+script|data):/i),Q=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tt=g(/^html$/i),et=function(){return"undefined"==typeof window?null:window},nt=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et(),n=function(t){return rt(t)};if(n.version="2.4.0",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,a=e.document,i=e.DocumentFragment,s=e.HTMLTemplateElement,c=e.Node,l=e.Element,u=e.NodeFilter,d=e.NamedNodeMap,p=void 0===d?e.NamedNodeMap||e.MozNamedAttrMap:d,f=e.HTMLFormElement,h=e.DOMParser,g=e.trustedTypes,_=l.prototype,y=P(_,"cloneNode"),b=P(_,"nextSibling"),$=P(_,"childNodes"),D=P(_,"parentNode");if("function"==typeof s){var O=a.createElement("template");O.content&&O.content.ownerDocument&&(a=O.content.ownerDocument)}var ot=nt(g,r),at=ot?ot.createHTML(""):"",it=a,st=it.implementation,ct=it.createNodeIterator,lt=it.createDocumentFragment,ut=it.getElementsByTagName,dt=r.importNode,pt={};try{pt=I(a).documentMode?a.documentMode:{}}catch(t){}var ft={};n.isSupported="function"==typeof D&&st&&void 0!==st.createHTMLDocument&&9!==pt;var ht,mt,gt=V,_t=G,yt=K,bt=J,$t=X,vt=Q,kt=Z,xt=null,wt=N({},[].concat(o(R),o(L),o(F),o(U),o(H))),Et=null,Tt=N({},[].concat(o(Y),o(z),o(W),o(q))),St=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Mt=null,At=null,Ct=!0,Dt=!0,Ot=!1,Nt=!1,It=!1,Pt=!1,Rt=!1,Lt=!1,Ft=!1,Bt=!1,Ut=!0,jt=!1,Ht="user-content-",Yt=!0,zt=!1,Wt={},qt=null,Vt=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Gt=null,Kt=N({},["audio","video","img","source","image","track"]),Jt=null,Zt=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,ne=!1,re=["application/xhtml+xml","text/html"],oe="text/html",ae=null,ie=a.createElement("form"),se=function(t){return t instanceof RegExp||t instanceof Function},ce=function(e){ae&&ae===e||(e&&"object"===t(e)||(e={}),e=I(e),ht=ht=-1===re.indexOf(e.PARSER_MEDIA_TYPE)?oe:e.PARSER_MEDIA_TYPE,mt="application/xhtml+xml"===ht?function(t){return t}:w,xt="ALLOWED_TAGS"in e?N({},e.ALLOWED_TAGS,mt):wt,Et="ALLOWED_ATTR"in e?N({},e.ALLOWED_ATTR,mt):Tt,Jt="ADD_URI_SAFE_ATTR"in e?N(I(Zt),e.ADD_URI_SAFE_ATTR,mt):Zt,Gt="ADD_DATA_URI_TAGS"in e?N(I(Kt),e.ADD_DATA_URI_TAGS,mt):Kt,qt="FORBID_CONTENTS"in e?N({},e.FORBID_CONTENTS,mt):Vt,Mt="FORBID_TAGS"in e?N({},e.FORBID_TAGS,mt):{},At="FORBID_ATTR"in e?N({},e.FORBID_ATTR,mt):{},Wt="USE_PROFILES"in e&&e.USE_PROFILES,Ct=!1!==e.ALLOW_ARIA_ATTR,Dt=!1!==e.ALLOW_DATA_ATTR,Ot=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=e.SAFE_FOR_TEMPLATES||!1,It=e.WHOLE_DOCUMENT||!1,Lt=e.RETURN_DOM||!1,Ft=e.RETURN_DOM_FRAGMENT||!1,Bt=e.RETURN_TRUSTED_TYPE||!1,Rt=e.FORCE_BODY||!1,Ut=!1!==e.SANITIZE_DOM,jt=e.SANITIZE_NAMED_PROPS||!1,Yt=!1!==e.KEEP_CONTENT,zt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,ee=e.NAMESPACE||te,e.CUSTOM_ELEMENT_HANDLING&&se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(St.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(St.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(St.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nt&&(Dt=!1),Ft&&(Lt=!0),Wt&&(xt=N({},o(H)),Et=[],!0===Wt.html&&(N(xt,R),N(Et,Y)),!0===Wt.svg&&(N(xt,L),N(Et,z),N(Et,q)),!0===Wt.svgFilters&&(N(xt,F),N(Et,z),N(Et,q)),!0===Wt.mathMl&&(N(xt,U),N(Et,W),N(Et,q))),e.ADD_TAGS&&(xt===wt&&(xt=I(xt)),N(xt,e.ADD_TAGS,mt)),e.ADD_ATTR&&(Et===Tt&&(Et=I(Et)),N(Et,e.ADD_ATTR,mt)),e.ADD_URI_SAFE_ATTR&&N(Jt,e.ADD_URI_SAFE_ATTR,mt),e.FORBID_CONTENTS&&(qt===Vt&&(qt=I(qt)),N(qt,e.FORBID_CONTENTS,mt)),Yt&&(xt["#text"]=!0),It&&N(xt,["html","head","body"]),xt.table&&(N(xt,["tbody"]),delete Mt.tbody),m&&m(e),ae=e)},le=N({},["mi","mo","mn","ms","mtext"]),ue=N({},["foreignobject","desc","title","annotation-xml"]),de=N({},["title","style","font","a","script"]),pe=N({},L);N(pe,F),N(pe,B);var fe=N({},U);N(fe,j);var he=function(t){var e=D(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var n=w(t.tagName),r=w(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===n:e.namespaceURI===Xt?"svg"===n&&("annotation-xml"===r||le[r]):Boolean(pe[n]):t.namespaceURI===Xt?e.namespaceURI===te?"math"===n:e.namespaceURI===Qt?"math"===n&&ue[r]:Boolean(fe[n]):t.namespaceURI===te&&!(e.namespaceURI===Qt&&!ue[r])&&!(e.namespaceURI===Xt&&!le[r])&&!fe[n]&&(de[n]||!pe[n])},me=function(t){x(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=at}catch(e){t.remove()}}},ge=function(t,e){try{x(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){x(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Et[t])if(Lt||Ft)try{me(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},_e=function(t){var e,n;if(Rt)t="<remove></remove>"+t;else{var r=E(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ht&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=ot?ot.createHTML(t):t;if(ee===te)try{e=(new h).parseFromString(o,ht)}catch(t){}if(!e||!e.documentElement){e=st.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ne?"":o}catch(t){}}var i=e.body||e.documentElement;return t&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),ee===te?ut.call(e,It?"html":"body")[0]:It?e.documentElement:i},ye=function(t){return ct.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},be=function(t){return t instanceof f&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof p)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},$e=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ve=function(t,e,r){ft[t]&&v(ft[t],(function(t){t.call(n,e,r,ae)}))},ke=function(t){var e;if(ve("beforeSanitizeElements",t,null),be(t))return me(t),!0;if(A(/[\u0080-\uFFFF]/,t.nodeName))return me(t),!0;var r=mt(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:r,allowedTags:xt}),t.hasChildNodes()&&!$e(t.firstElementChild)&&(!$e(t.content)||!$e(t.content.firstElementChild))&&A(/<[/\w]/g,t.innerHTML)&&A(/<[/\w]/g,t.textContent))return me(t),!0;if("select"===r&&A(/<template/i,t.innerHTML))return me(t),!0;if(!xt[r]||Mt[r]){if(!Mt[r]&&we(r)){if(St.tagNameCheck instanceof RegExp&&A(St.tagNameCheck,r))return!1;if(St.tagNameCheck instanceof Function&&St.tagNameCheck(r))return!1}if(Yt&&!qt[r]){var o=D(t)||t.parentNode,a=$(t)||t.childNodes;if(a&&o)for(var i=a.length-1;i>=0;--i)o.insertBefore(y(a[i],!0),b(t))}return me(t),!0}return t instanceof l&&!he(t)?(me(t),!0):"noscript"!==r&&"noembed"!==r||!A(/<\/no(script|embed)/i,t.innerHTML)?(Nt&&3===t.nodeType&&(e=t.textContent,e=T(e,gt," "),e=T(e,_t," "),t.textContent!==e&&(x(n.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(me(t),!0)},xe=function(t,e,n){if(Ut&&("id"===e||"name"===e)&&(n in a||n in ie))return!1;if(Dt&&!At[e]&&A(yt,e));else if(Ct&&A(bt,e));else if(!Et[e]||At[e]){if(!(we(t)&&(St.tagNameCheck instanceof RegExp&&A(St.tagNameCheck,t)||St.tagNameCheck instanceof Function&&St.tagNameCheck(t))&&(St.attributeNameCheck instanceof RegExp&&A(St.attributeNameCheck,e)||St.attributeNameCheck instanceof Function&&St.attributeNameCheck(e))||"is"===e&&St.allowCustomizedBuiltInElements&&(St.tagNameCheck instanceof RegExp&&A(St.tagNameCheck,n)||St.tagNameCheck instanceof Function&&St.tagNameCheck(n))))return!1}else if(Jt[e]);else if(A(kt,T(n,vt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==S(n,"data:")||!Gt[t])if(Ot&&!A($t,T(n,vt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},Ee=function(e){var r,o,a,i;ve("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Et};for(i=s.length;i--;){var l=r=s[i],u=l.name,d=l.namespaceURI;if(o="value"===u?r.value:M(r.value),a=mt(u),c.attrName=a,c.attrValue=o,c.keepAttr=!0,c.forceKeepAttr=void 0,ve("uponSanitizeAttribute",e,c),o=c.attrValue,!c.forceKeepAttr&&(ge(u,e),c.keepAttr))if(A(/\/>/i,o))ge(u,e);else{Nt&&(o=T(o,gt," "),o=T(o,_t," "));var p=mt(e.nodeName);if(xe(p,a,o)){if(!jt||"id"!==a&&"name"!==a||(ge(u,e),o=Ht+o),ot&&"object"===t(g)&&"function"==typeof g.getAttributeType)if(d);else switch(g.getAttributeType(p,a)){case"TrustedHTML":o=ot.createHTML(o);break;case"TrustedScriptURL":o=ot.createScriptURL(o)}try{d?e.setAttributeNS(d,u,o):e.setAttribute(u,o),k(n.removed)}catch(t){}}}}ve("afterSanitizeAttributes",e,null)}},Te=function t(e){var n,r=ye(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),ke(n)||(n.content instanceof i&&t(n.content),Ee(n));ve("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(o){var a,s,l,u,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ne=!o)&&(o="\x3c!--\x3e"),"string"!=typeof o&&!$e(o)){if("function"!=typeof o.toString)throw C("toString is not a function");if("string"!=typeof(o=o.toString()))throw C("dirty is not a string, aborting")}if(!n.isSupported){if("object"===t(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof o)return e.toStaticHTML(o);if($e(o))return e.toStaticHTML(o.outerHTML)}return o}if(Pt||ce(p),n.removed=[],"string"==typeof o&&(zt=!1),zt){if(o.nodeName){var f=mt(o.nodeName);if(!xt[f]||Mt[f])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof c)1===(s=(a=_e("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!Lt&&!Nt&&!It&&-1===o.indexOf("<"))return ot&&Bt?ot.createHTML(o):o;if(!(a=_e(o)))return Lt?null:Bt?at:""}a&&Rt&&me(a.firstChild);for(var h=ye(zt?o:a);l=h.nextNode();)3===l.nodeType&&l===u||ke(l)||(l.content instanceof i&&Te(l.content),Ee(l),u=l);if(u=null,zt)return o;if(Lt){if(Ft)for(d=lt.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return Et.shadowroot&&(d=dt.call(r,d,!0)),d}var m=It?a.outerHTML:a.innerHTML;return It&&xt["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&A(tt,a.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+m),Nt&&(m=T(m,gt," "),m=T(m,_t," ")),ot&&Bt?ot.createHTML(m):m},n.setConfig=function(t){ce(t),Pt=!0},n.clearConfig=function(){ae=null,Pt=!1},n.isValidAttribute=function(t,e,n){ae||ce({});var r=mt(t),o=mt(e);return xe(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(ft[t]=ft[t]||[],x(ft[t],e))},n.removeHook=function(t){if(ft[t])return k(ft[t])},n.removeHooks=function(t){ft[t]&&(ft[t]=[])},n.removeAllHooks=function(){ft={}},n}var ot=rt();return ot}();var browser=window.DOMPurify||(window.DOMPurify=purify.exports.default||purify.exports),memoizer$1={};Object.defineProperty(memoizer$1,"__esModule",{value:!0}),memoizer$1.createPermanentMemoizer=void 0;const createPermanentMemoizer=function(t,e){let{maxsize:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Map;return{get:o=>{const a=t(o);if(r.has(a))return r.get(a);const i=e(o);return n&&r.size>=n&&(r=new Map),r.set(a,i),i}}};memoizer$1.createPermanentMemoizer=createPermanentMemoizer;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const isomorphic_dompurify_1$1=__importDefault$5(browser),memoizer_1=memoizer$1,DEFAULT_ALLOWED$2=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),MEMOIZER_MAXSIZE=1e5;isomorphic_dompurify_1$1.default.addHook("afterSanitizeElements",(function(t){"a"===t.nodeName.toLowerCase()&&("_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank"),t.setAttribute("rel","nofollow noopener noreferrer"))}));const memoizer=(0,memoizer_1.createPermanentMemoizer)((t=>String(t)),(t=>{const e={ALLOWED_TAGS:void 0===t?DEFAULT_ALLOWED$2:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,memoizer_1.createPermanentMemoizer)((t=>t),(t=>isomorphic_dompurify_1$1.default.sanitize(t,e)),{maxsize:MEMOIZER_MAXSIZE})}),{maxsize:MEMOIZER_MAXSIZE});function purifyHTML(t,e){return t?memoizer.get(e).get(t):t}var purifyHtml=purifyHTML;function get$1(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o}var get_1=get$1;const isArray$1=t=>Array.isArray(t);var set=function(t,e,n){const r=isArray$1(e)?[...e]:e.split(".");if(!r.length)throw new Error("Key should not be empty");const o=r.pop();let a=t;return r.forEach((t=>{void 0!==a[t]&&null!==a[t]||(a[t]={}),a=a[t]})),JSON.stringify(a[o])!==JSON.stringify(n)&&(a[o]=n,!0)};function clone$1(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}var clone_1=clone$1,makeUnique$1={};function makeUnique(t){const e=new Set;return t.map((t=>{let n=t,r=0;for(;e.has(n);)n="".concat(t,"_").concat(++r);return e.add(n),n}))}Object.defineProperty(makeUnique$1,"__esModule",{value:!0});var _default=makeUnique$1.default=makeUnique,isMergeableObject=function(t){return isNonNullObject(t)&&!isSpecial(t)};function isNonNullObject(t){return!!t&&"object"==typeof t}function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||isReactElement(t)}var canUseSymbol="function"==typeof Symbol&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(t){return t.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepmerge(emptyTarget(t),t,e):t}function defaultArrayMerge(t,e,n){return t.concat(e).map((function(t){return cloneUnlessOtherwiseSpecified(t,n)}))}function getMergeFunction(t,e){if(!e.customMerge)return deepmerge;var n=e.customMerge(t);return"function"==typeof n?n:deepmerge}function getEnumerableOwnPropertySymbols(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}function getKeys(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols(t))}function propertyIsOnObject(t,e){try{return e in t}catch(t){return!1}}function propertyIsUnsafe(t,e){return propertyIsOnObject(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject(t,e,n){var r={};return n.isMergeableObject(t)&&getKeys(t).forEach((function(e){r[e]=cloneUnlessOtherwiseSpecified(t[e],n)})),getKeys(e).forEach((function(o){propertyIsUnsafe(t,o)||(propertyIsOnObject(t,o)&&n.isMergeableObject(e[o])?r[o]=getMergeFunction(o,n)(t[o],e[o],n):r[o]=cloneUnlessOtherwiseSpecified(e[o],n))})),r}function deepmerge(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||isMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):mergeObject(t,e,n):cloneUnlessOtherwiseSpecified(e,n)}deepmerge.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return deepmerge(t,n,e)}),{})};var deepmerge_1=deepmerge,cjs=deepmerge_1,VERSION="1.13.6",root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice$1=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer="undefined"!=typeof ArrayBuffer,supportsDataView="undefined"!=typeof DataView,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function _$1(t){return t instanceof _$1?t:this instanceof _$1?void(this._wrapped=t):new _$1(t)}function identity$1(t){return t}function tagTester(t){var e="[object "+t+"]";return function(t){return toString.call(t)===e}}_$1.VERSION=VERSION,_$1.prototype.value=function(){return this._wrapped},_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value,_$1.prototype.toString=function(){return String(this._wrapped)};var isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof nodelist&&(isFunction=function(t){return"function"==typeof t||!1});var isFunction$1=isFunction;function isObject(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var isArray=nativeIsArray||tagTester("Array");function createAssigner(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var a=arguments[o],i=t(a),s=i.length,c=0;c<s;c++){var l=i[c];e&&void 0!==n[l]||(n[l]=a[l])}return n}}function has$1(t,e){return null!=t&&hasOwnProperty.call(t,e)}function emulatedSet(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}function collectNonEnumProps(t,e){e=emulatedSet(e);var n=nonEnumerableProps.length,r=t.constructor,o=isFunction$1(r)&&r.prototype||ObjProto,a="constructor";for(has$1(t,a)&&!e.contains(a)&&e.push(a);n--;)(a=nonEnumerableProps[n])in t&&t[a]!==o[a]&&!e.contains(a)&&e.push(a)}function keys(t){if(!isObject(t))return[];if(nativeKeys)return nativeKeys(t);var e=[];for(var n in t)has$1(t,n)&&e.push(n);return hasEnumBug&&collectNonEnumProps(t,e),e}var extendOwn=createAssigner(keys);function isMatch(t,e){var n=keys(e),r=n.length;if(null==t)return!r;for(var o=Object(t),a=0;a<r;a++){var i=n[a];if(e[i]!==o[i]||!(i in o))return!1}return!0}function matcher(t){return t=extendOwn({},t),function(e){return isMatch(e,t)}}function deepGet(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function toPath$1(t){return isArray(t)?t:[t]}function toPath(t){return _$1.toPath(t)}function property(t){return t=toPath(t),function(e){return deepGet(e,t)}}function optimizeCb(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,a){return t.call(e,n,r,o,a)}}return function(){return t.apply(e,arguments)}}function baseIteratee(t,e,n){return null==t?identity$1:isFunction$1(t)?optimizeCb(t,e,n):isObject(t)&&!isArray(t)?matcher(t):property(t)}function iteratee(t,e){return baseIteratee(t,e,1/0)}function cb(t,e,n){return _$1.iteratee!==iteratee?_$1.iteratee(t,e):baseIteratee(t,e,n)}function createSizePropertyCheck(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=MAX_ARRAY_INDEX}}function shallowProperty(t){return function(e){return null==e?void 0:e[t]}}_$1.toPath=toPath$1,_$1.iteratee=iteratee;var getLength=shallowProperty("length"),isArrayLike=createSizePropertyCheck(getLength);function every(t,e,n){e=cb(e,n);for(var r=!isArrayLike(t)&&keys(t),o=(r||t).length,a=0;a<o;a++){var i=r?r[a]:a;if(!e(t[i],i,t))return!1}return!0}function some(t,e,n){e=cb(e,n);for(var r=!isArrayLike(t)&&keys(t),o=(r||t).length,a=0;a<o;a++){var i=r?r[a]:a;if(e(t[i],i,t))return!0}return!1}function has(t,e){for(var n=(e=toPath(e)).length,r=0;r<n;r++){var o=e[r];if(!has$1(t,o))return!1;t=t[o]}return!!n}var TEOF="TEOF",TOP="TOP",TNUMBER="TNUMBER",TSTRING="TSTRING",TPAREN="TPAREN",TBRACKET="TBRACKET",TCOMMA="TCOMMA",TNAME="TNAME",TSEMICOLON="TSEMICOLON";function Token(t,e,n){this.type=t,this.value=e,this.index=n}function TokenStream(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Token.prototype.toString=function(){return this.type+": "+this.value},TokenStream.prototype.newToken=function(t,e,n){return new Token(t,e,null!=n?n:this.pos)},TokenStream.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},TokenStream.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},TokenStream.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(TEOF,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},TokenStream.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken(TSTRING,this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},TokenStream.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(TPAREN,t),this.pos++,!0)},TokenStream.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(TBRACKET,t),this.pos++,!0)},TokenStream.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(TCOMMA,","),this.pos++,!0)},TokenStream.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(TSEMICOLON,";"),this.pos++,!0)},TokenStream.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(TNUMBER,this.consts[r]),this.pos+=r.length,!0}return!1},TokenStream.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(TOP,r),this.pos+=r.length,!0}return!1},TokenStream.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken(TNAME,o),this.pos+=o.length,!0}return!1},TokenStream.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var codePointPattern=/^[0-9a-f]{4}$/i;TokenStream.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);codePointPattern.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var a=t.indexOf("\\",e);n+=t.substring(e,a<0?t.length:a),e=a}return n},TokenStream.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},TokenStream.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var a=this.expression.charAt(n);if(!e.test(a))break;n++,r=!0}return r&&(this.current=this.newToken(TNUMBER,parseInt(this.expression.substring(o,n),t)),this.pos=n),r},TokenStream.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,a=!1,i=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!a&&"."===t);)"."===t?a=!0:i=!0,n++,e=i;if(e&&(o=n),"e"===t||"E"===t){n++;for(var s=!0,c=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;c=!0,s=!1}else s=!1;n++}c||(n=o)}return e?(this.current=this.newToken(TNUMBER,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},TokenStream.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(TOP,e);else if("∙"===e||"•"===e)this.current=this.newToken(TOP,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,">="),this.pos++):this.current=this.newToken(TOP,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"<="),this.pos++):this.current=this.newToken(TOP,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(TOP,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"=="),this.pos++):this.current=this.newToken(TOP,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"!="),this.pos++):this.current=this.newToken(TOP,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},TokenStream.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},TokenStream.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},TokenStream.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var INUMBER="INUMBER",IOP1="IOP1",IOP2="IOP2",IOP3="IOP3",IVAR="IVAR",IVARNAME="IVARNAME",IFUNCALL="IFUNCALL",IFUNDEF="IFUNDEF",IEXPR="IEXPR",IEXPREVAL="IEXPREVAL",IMEMBER="IMEMBER",IENDSTATEMENT="IENDSTATEMENT",IARRAY="IARRAY";function Instruction(t,e){this.type=t,this.value=null!=e?e:0}function unaryInstruction(t){return new Instruction(IOP1,t)}function binaryInstruction(t){return new Instruction(IOP2,t)}function ternaryInstruction(t){return new Instruction(IOP3,t)}function contains$1(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function ParserState(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}Instruction.prototype.toString=function(){switch(this.type){case INUMBER:case IOP1:case IOP2:case IOP3:case IVAR:case IVARNAME:case IENDSTATEMENT:return this.value;case IFUNCALL:return"CALL "+this.value;case IFUNDEF:return"DEF "+this.value;case IARRAY:return"ARRAY "+this.value;case IMEMBER:return"."+this.value;default:return"Invalid Instruction"}},ParserState.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ParserState.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?contains$1(e,t.value):"function"==typeof e?e(t):t.value===e)},ParserState.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ParserState.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ParserState.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},ParserState.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},ParserState.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(TNAME)||this.accept(TOP,(function(t){return t.value in e})))t.push(new Instruction(IVAR,this.current.value));else if(this.accept(TNUMBER))t.push(new Instruction(INUMBER,this.current.value));else if(this.accept(TSTRING))t.push(new Instruction(INUMBER,this.current.value));else if(this.accept(TPAREN,"("))this.parseExpression(t),this.expect(TPAREN,")");else{if(!this.accept(TBRACKET,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(TBRACKET,"]"))t.push(new Instruction(IARRAY,0));else{var n=this.parseArrayList(t);t.push(new Instruction(IARRAY,n))}}},ParserState.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},ParserState.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},ParserState.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(TSEMICOLON)&&(!this.nextToken||this.nextToken.type===TEOF||this.nextToken.type===TPAREN&&")"===this.nextToken.value||e.push(new Instruction(IENDSTATEMENT)),this.nextToken.type!==TEOF&&this.parseExpression(e),t.push(new Instruction(IEXPR,e)),!0)},ParserState.prototype.parseArrayList=function(t){for(var e=0;!this.accept(TBRACKET,"]");)for(this.parseExpression(t),++e;this.accept(TCOMMA);)this.parseExpression(t),++e;return e},ParserState.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(TOP,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==IFUNCALL){if(e.type!==IVAR&&e.type!==IMEMBER)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Instruction(IVARNAME,e.value)),t.push(new Instruction(IEXPR,n)),t.push(binaryInstruction("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,a=e.value+1;o<a;o++){var i=r-o;t[i].type===IVAR&&(t[i]=new Instruction(IVARNAME,t[i].value))}this.parseVariableAssignmentExpression(n),t.push(new Instruction(IEXPR,n)),t.push(new Instruction(IFUNDEF,e.value))}}},ParserState.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(TOP,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(TOP,":"),this.parseConditionalExpression(n),t.push(new Instruction(IEXPR,e)),t.push(new Instruction(IEXPR,n)),t.push(ternaryInstruction("?"))}},ParserState.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(TOP,"or");){var e=[];this.parseAndExpression(e),t.push(new Instruction(IEXPR,e)),t.push(binaryInstruction("or"))}},ParserState.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(TOP,"and");){var e=[];this.parseComparison(e),t.push(new Instruction(IEXPR,e)),t.push(binaryInstruction("and"))}};var COMPARISON_OPERATORS=["==","!=","<","<=",">=",">","in"];ParserState.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(TOP,COMPARISON_OPERATORS);){var e=this.current;this.parseAddSub(t),t.push(binaryInstruction(e.value))}};var ADD_SUB_OPERATORS=["+","-","||"];ParserState.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(TOP,ADD_SUB_OPERATORS);){var e=this.current;this.parseTerm(t),t.push(binaryInstruction(e.value))}};var TERM_OPERATORS=["*","/","%"];function add(t,e){return Number(t)+Number(e)}function sub(t,e){return t-e}function mul(t,e){return t*e}function div(t,e){return t/e}function mod(t,e){return t%e}function equal(t,e){return t===e}function notEqual(t,e){return t!==e}function greaterThan(t,e){return t>e}function lessThan(t,e){return t<e}function greaterThanEqual(t,e){return t>=e}function lessThanEqual(t,e){return t<=e}function andOperator(t,e){return Boolean(t&&e)}function orOperator(t,e){return Boolean(t||e)}function log10(t){return Math.log(t)*Math.LOG10E}function neg(t){return-t}function not(t){return!t}function trunc(t){return t<0?Math.ceil(t):Math.floor(t)}function random$1(t){return Math.random()*(t||1)}function stringOrArrayLength(t){return Array.isArray(t)?t.length:String(t).length}function condition(t,e,n){return t?e:n}function roundTo(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function arrayIndex(t,e){return t[0|e]}function max$1(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function min$1(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function arrayMap(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function arrayFold(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function arrayFilter(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function sign(t){return(t>0)-(t<0)||+t}function log1p(t){return Math.log(1+t)}function log2(t){return Math.log(t)/Math.LN2}function sum(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function evaluate(t,e,n){var r,o,a,i,s,c,l=[];if(isExpressionEvaluator(t))return resolveExpression(t,n);for(var u=t.length,d=0;d<u;d++){var p=t[d],f=p.type;if(f===INUMBER||f===IVARNAME)l.push(p.value);else if(f===IOP2)o=l.pop(),r=l.pop(),"and"===p.value?l.push(!!r&&!!evaluate(o,e,n)):"or"===p.value?l.push(!!r||!!evaluate(o,e,n)):"="===p.value?(i=e.binaryOps[p.value],l.push(i(r,evaluate(o,e,n),n))):(i=e.binaryOps[p.value],l.push(i(resolveExpression(r,n),resolveExpression(o,n))));else if(f===IOP3)a=l.pop(),o=l.pop(),r=l.pop(),"?"===p.value?l.push(evaluate(r?o:a,e,n)):(i=e.ternaryOps[p.value],l.push(i(resolveExpression(r,n),resolveExpression(o,n),resolveExpression(a,n))));else if(f===IVAR){if(/^__proto__|prototype|constructor$/.test(p.value))throw new Error("prototype access detected");if(p.value in e.functions)l.push(e.functions[p.value]);else if(p.value in e.unaryOps&&e.parser.isOperatorEnabled(p.value))l.push(e.unaryOps[p.value]);else{var h=n[p.value];if(void 0===h)throw new Error("undefined variable: "+p.value);l.push(h)}}else if(f===IOP1)r=l.pop(),i=e.unaryOps[p.value],l.push(i(resolveExpression(r,n)));else if(f===IFUNCALL){for(c=p.value,s=[];c-- >0;)s.unshift(resolveExpression(l.pop(),n));if(!(i=l.pop()).apply||!i.call)throw new Error(i+" is not a function");l.push(i.apply(void 0,s))}else if(f===IFUNDEF)l.push(function(){for(var t=l.pop(),r=[],o=p.value;o-- >0;)r.unshift(l.pop());var a=l.pop(),i=function(){for(var o=Object.assign({},n),a=0,i=r.length;a<i;a++)o[r[a]]=arguments[a];return evaluate(t,e,o)};return Object.defineProperty(i,"name",{value:a,writable:!1}),n[a]=i,i}());else if(f===IEXPR)l.push(createExpressionEvaluator(p,e));else if(f===IEXPREVAL)l.push(p);else if(f===IMEMBER)r=l.pop(),l.push(r[p.value]);else if(f===IENDSTATEMENT)l.pop();else{if(f!==IARRAY)throw new Error("invalid Expression");for(c=p.value,s=[];c-- >0;)s.unshift(l.pop());l.push(s)}}if(l.length>1)throw new Error("invalid Expression (parity)");return 0===l[0]?0:resolveExpression(l[0],n)}function createExpressionEvaluator(t,e,n){return isExpressionEvaluator(t)?t:{type:IEXPREVAL,value:function(n){return evaluate(t.value,e,n)}}}function isExpressionEvaluator(t){return t&&t.type===IEXPREVAL}function resolveExpression(t,e){return isExpressionEvaluator(t)?t.value(e):t}function Expression(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function trim$1(t){return t.trim()}ParserState.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(TOP,TERM_OPERATORS);){var e=this.current;this.parseFactor(t),t.push(binaryInstruction(e.value))}},ParserState.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(TOP,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===TPAREN&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===TSEMICOLON||this.nextToken.type===TCOMMA||this.nextToken.type===TEOF||this.nextToken.type===TPAREN&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(unaryInstruction(n.value))}else this.parseExponential(t)},ParserState.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(TOP,"^");)this.parseFactor(t),t.push(binaryInstruction("^"))},ParserState.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(TOP,"!");)t.push(unaryInstruction("!"))},ParserState.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(TOP,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(unaryInstruction(n.value))}else for(this.parseMemberExpression(t);this.accept(TPAREN,"(");)if(this.accept(TPAREN,")"))t.push(new Instruction(IFUNCALL,0));else{var r=this.parseArgumentList(t);t.push(new Instruction(IFUNCALL,r))}},ParserState.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(TPAREN,")");)for(this.parseExpression(t),++e;this.accept(TCOMMA);)this.parseExpression(t),++e;return e},ParserState.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(TOP,".")||this.accept(TBRACKET,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(TNAME),t.push(new Instruction(IMEMBER,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(TBRACKET,"]"),t.push(binaryInstruction("["))}}},Expression.prototype.evaluate=function(t){return t=t||{},evaluate(this.tokens,this,t)},Expression.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const RESTRICT_MEMBER_ACCESS=new Set(["__proto__","prototype","constructor"]);function Parser(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||log2,LN:Math.log,LOG10:Math.log10||log10,LG:Math.log10||log10,LOG1P:Math.log1p||log1p,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||trunc,"-":neg,"+":Number,EXP:Math.exp,NOT:not,LENGTH:stringOrArrayLength,"!":not,SIGN:Math.sign||sign,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":add,"-":sub,"*":mul,"/":div,"%":mod,"^":Math.pow,"==":equal,"!=":notEqual,">":greaterThan,"<":lessThan,">=":greaterThanEqual,"<=":lessThanEqual,and:andOperator,or:orOperator,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":arrayIndex},this.ternaryOps={"?":condition};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let o=/\w*/g,a=/\w\S*/g;const i=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),a=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:condition,RANDOM:random$1,MIN(){return min$1(r.apply(this,arguments))},MAX(){return max$1(r.apply(this,arguments))},SUM(){return sum(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return sum(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:roundTo,CONCAT(){return Array.from(arguments).join("")},TRIM:trim$1,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(i,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(a,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(RESTRICT_MEMBER_ACCESS.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:arrayMap,FOLD:arrayFold,FILTER:arrayFilter,PLUCK(t,e){if(RESTRICT_MEMBER_ACCESS.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),a=0;a<r;a++,t+=n)o[a]=t;return o},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let o=0;o<n;o++)if(r=r&&e(t[o]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let o=0;o<n;o++)if(r=r||e(t[o]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Parser.prototype.parse=function(t){var e=[],n=new ParserState(this,new TokenStream(this,t),{allowMemberAccess:!0,restrictMemberAccess:RESTRICT_MEMBER_ACCESS});return n.parseExpression(e),n.expect(TEOF,"EOF"),new Expression(e,this)},Parser.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var sharedParser=new Parser;Parser.parse=function(t){return sharedParser.parse(t)},Parser.evaluate=function(t,e){return sharedParser.parse(t).evaluate(e)},Parser.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var optionNameMap={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function getOptionName(t){return Object.prototype.hasOwnProperty.call(optionNameMap,t)?optionNameMap[t]:t}Parser.prototype.isOperatorEnabled=function(t){var e=getOptionName(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const TPL_REG=/\{\{(.+?)\}\}/g;function templateParser(t){const e={},n=new Parser;return t.replace(TPL_REG,((t,r)=>{(r=r.trim())&&!e[r]&&(e[r]=n.parse(r))})),n=>t.replace(TPL_REG,((t,r)=>{const o=r.trim()?e[r.trim()].evaluate(n):"";return null===o?"":o}))}var columnNameToVariable=function(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")};function filenameVariables(t){const e=[{label:"Title",name:"title",type:"text",chartProperty:"title",value:"Example Title"},{label:"Published At",name:"published_at",type:"date",chartProperty:"publishedAt",value:"2022-03-24T13:49:07.232Z"},{label:"Public ID",name:"public_id",type:"text",chartProperty:"publicId",value:"Abc12"},{label:"Public Version",name:"public_version",type:"number",chartProperty:"publicVersion",value:1},{label:"Language",name:"language",type:"text",chartProperty:"language",value:"en-US"},{label:"Intro",name:"intro",type:"text",chartProperty:"metadata.describe.intro",value:"Example Intro"},{label:"Byline",name:"byline",type:"text",chartProperty:"metadata.describe.byline",value:"Example Byline"}],n=(t.customFields||[]).filter((t=>t.key)).map((t=>{let{key:e,title:n}=t;return{label:"".concat(n," (Custom)"),name:e,type:"text",chartProperty:"metadata.custom.".concat(e),value:"Example Custom Field"}}));return e.push(...n),e}const DEFAULT_ALLOWED$1=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"];function clean$1(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return purifyHtml(t,e.length?[...DEFAULT_ALLOWED$1,...e]:DEFAULT_ALLOWED$1)}function isTransparentColor(t,e){return"transparent"===t||!e(t).alpha()}function resolveCondition(t,e){return function t(n){if(Array.isArray(n)){const r=n[0];return n.length>=2&&"all"===r?every(n.slice(1).map(t)):n.length>=2&&"any"===r?some(n.slice(1).map(t)):2===n.length&&"!"===r?!t(n[1]):2===n.length&&"get"===r?get_1(e,n[1]):2===n.length&&"has"===r?!!get_1(e,n[1]):2===n.length&&"length"===r?t(n[1]).length:2===n.length&&"stripHtml"===r?purifyHtml(t(n[1]),[]):3===n.length&&"=="===r?t(n[1])===t(n[2]):3===n.length&&"!="===r?t(n[1])!==t(n[2]):3===n.length&&">"===r?t(n[1])>t(n[2]):3===n.length&&">="===r?t(n[1])>=t(n[2]):3===n.length&&"<"===r?t(n[1])<t(n[2]):3===n.length&&"<="===r?t(n[1])<=t(n[2]):3===n.length&&"in"===r?t(n[2]).includes(t(n[1])):n}return n}(t)}function computeThemeData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=clone_1(t);if(t.overrides&&t.overrides.length>0){for(const o of t.overrides)if((!o.type&&o.condition||"darkMode"===o.type&&n&&o.condition)&&resolveCondition(o.condition,e))for(const[t,e]of Object.entries(o.settings)){if(t.startsWith("overrides."))throw new Error("overrides may not change overrides");set(r,t,e)}return r}return r}const UNDEFINED_STYLE$1="%UNDEFINED%",TYPOGRAPHY_PROPS$1={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>toPixel$1(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>toPixel$1(t)},lineHeight:{prop:"line-height",tsf:t=>lineHeight$1(t)},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function getThemeStyleHelpers$1(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter((t=>t)).filter((t=>!t.includes(UNDEFINED_STYLE$1))).join("\n")};function r(t,e,n){return get_1(t,e,void 0===n?UNDEFINED_STYLE$1:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(TYPOGRAPHY_PROPS$1).filter((n=>{let[r]=n;return has(t,r)||has(e,r)})).map((n=>{let[r,{prop:o,tsf:a=identity$1}]=n;const i=get_1(t,r,e[r]);return"".concat(o,": ").concat(a(i),";")})).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:UNDEFINED_STYLE$1}}function toPixel$1(t){return t===UNDEFINED_STYLE$1?t:Number.isFinite(t)?"".concat(t,"px"):t}function lineHeight$1(t){return t===UNDEFINED_STYLE$1?t:t>3?"".concat(t,"px"):String(t)}function deepmergeOverwriteArrays(t,e){return cjs(t,e,{arrayMerge:(t,e)=>e})}function parseChartLanguage(t){t||(t="en-us"),t=t.replace("_","-").toLowerCase();const[e]=t.split("-");return{language:e,locale:t}}function getVisCaption(t){return"d3-maps-choropleth"===t||"d3-maps-symbols"===t||"locator-map"===t?"map":"tables"===t?"table":"chart"}function getDestinationFilename(t){let{chart:e,teamPublicSettings:n,dayjs:r}=t;const o=templateParser(get_1(n,"downloadFilenameTemplate","{{ LOWER(title) }}")),a=filenameVariables(n),i=_default(a.map((t=>columnNameToVariable(t.name)))),s={FORMAT:(t,e)=>{if(!r)return t;const n=r(t);return n.isValid()?n.format(e):t}};i.forEach(((t,n)=>{const r=get_1(e,a[n].chartProperty,"");s[t]=r,"number"===a[n].type&&["min","max","sum","mean","median"].forEach((e=>{s["".concat(t,"__").concat(e)]=r}))}));return o(s).replace(/[^\w\d.]+/g,"-")||e.publicId}function create_if_block_1$f(t){let e,n=clean$1(t[0].prepend)+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","prepend")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){1&r&&n!==(n=clean$1(t[0].prepend)+"")&&(e.innerHTML=n)},d(t){t&&detach(e)}}}function create_if_block$u(t){let e,n=clean$1(t[0].append)+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","append")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){1&r&&n!==(n=clean$1(t[0].append)+"")&&(e.innerHTML=n)},d(t){t&&detach(e)}}}function create_fragment$P(t){let e,n,r,o,a,i,s=t[0].prepend&&create_if_block_1$f(t);var c=t[0].component;function l(t){return{props:{props:t[0].props}}}c&&(r=construct_svelte_component(c,l(t)));let u=t[0].append&&create_if_block$u(t);return{c(){s&&s.c(),e=space(),n=element("span"),r&&create_component(r.$$.fragment),o=space(),u&&u.c(),a=empty(),this.h()},l(t){s&&s.l(t),e=claim_space(t),n=claim_element(t,"SPAN",{class:!0});var i=children(n);r&&claim_component(r.$$.fragment,i),i.forEach(detach),o=claim_space(t),u&&u.l(t),a=empty(),this.h()},h(){attr(n,"class","block-inner")},m(t,c){s&&s.m(t,c),insert_hydration(t,e,c),insert_hydration(t,n,c),r&&mount_component(r,n,null),insert_hydration(t,o,c),u&&u.m(t,c),insert_hydration(t,a,c),i=!0},p(t,o){let[i]=o;t[0].prepend?s?s.p(t,i):(s=create_if_block_1$f(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const d={};if(1&i&&(d.props=t[0].props),c!==(c=t[0].component)){if(r){group_outros();const t=r;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}c?(r=construct_svelte_component(c,l(t)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,n,null)):r=null}else c&&r.$set(d);t[0].append?u?u.p(t,i):(u=create_if_block$u(t),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},i(t){i||(r&&transition_in(r.$$.fragment,t),i=!0)},o(t){r&&transition_out(r.$$.fragment,t),i=!1},d(t){s&&s.d(t),t&&detach(e),t&&detach(n),r&&destroy_component(r),t&&detach(o),u&&u.d(t),t&&detach(a)}}}function instance$P(t,e,n){let{block:r}=e;return t.$$set=t=>{"block"in t&&n(0,r=t.block)},[r]}class Block$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$P,create_fragment$P,safe_not_equal,{block:0})}}function get_each_context$a(t,e,n){const r=t.slice();return r[7]=e[n],r}function create_if_block$t(t){let e,n,r,o=t[2],a=[];for(let e=0;e<o.length;e+=1)a[e]=create_each_block$a(get_each_context$a(t,o,e));const i=t=>transition_out(a[t],1,1,(()=>{a[t]=null}));return{c(){e=element("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=claim_element(t,"DIV",{id:!0,class:!0});var n=children(e);for(let t=0;t<a.length;t+=1)a[t].l(n);n.forEach(detach),this.h()},h(){attr(e,"id",t[0]),attr(e,"class",n=t[1]+" "+(t[4]&&t[3]?t[3](t[4],t[5]):""))},m(t,n){insert_hydration(t,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);r=!0},p(t,s){if(52&s){let n;for(o=t[2],n=0;n<o.length;n+=1){const r=get_each_context$a(t,o,n);a[n]?(a[n].p(r,s),transition_in(a[n],1)):(a[n]=create_each_block$a(r),a[n].c(),transition_in(a[n],1),a[n].m(e,null))}for(group_outros(),n=o.length;n<a.length;n+=1)i(n);check_outros()}(!r||1&s)&&attr(e,"id",t[0]),(!r||58&s&&n!==(n=t[1]+" "+(t[4]&&t[3]?t[3](t[4],t[5]):"")))&&attr(e,"class",n)},i(t){if(!r){for(let t=0;t<o.length;t+=1)transition_in(a[t]);r=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)transition_out(a[t]);r=!1},d(t){t&&detach(e),destroy_each(a,t)}}}function create_dynamic_element$1(t){let e,n,r,o,a,i;n=new Block$1({props:{block:t[7]}});let s=[{class:o="block "+t[7].id+"-block "+(t[4]&&t[7].styles?t[7].styles(t[4],t[5]):"")},{style:a="div"===blockEl(t[7].tag)&&t[7].id.includes("svg-rule")?"font-size:0px;":""}],c={};for(let t=0;t<s.length;t+=1)c=assign$1(c,s[t]);return{c(){e=element(blockEl(t[7].tag)),create_component(n.$$.fragment),r=space(),this.h()},l(o){e=claim_element(o,(blockEl(t[7].tag)||"null").toUpperCase(),{class:!0,style:!0});var a=children(e);claim_component(n.$$.fragment,a),r=claim_space(a),a.forEach(detach),this.h()},h(){/-/.test(blockEl(t[7].tag))?set_custom_element_data_map(e,c):set_attributes(e,c)},m(t,o){insert_hydration(t,e,o),mount_component(n,e,null),append_hydration(e,r),i=!0},p(t,r){const l={};4&r&&(l.block=t[7]),n.$set(l),c=get_spread_update(s,[(!i||52&r&&o!==(o="block "+t[7].id+"-block "+(t[4]&&t[7].styles?t[7].styles(t[4],t[5]):"")))&&{class:o},(!i||4&r&&a!==(a="div"===blockEl(t[7].tag)&&t[7].id.includes("svg-rule")?"font-size:0px;":""))&&{style:a}]),/-/.test(blockEl(t[7].tag))?set_custom_element_data_map(e,c):set_attributes(e,c)},i(t){i||(transition_in(n.$$.fragment,t),i=!0)},o(t){transition_out(n.$$.fragment,t),i=!1},d(t){t&&detach(e),destroy_component(n)}}}function create_each_block$a(t){let e,n=blockEl(t[7].tag),r=blockEl(t[7].tag)&&create_dynamic_element$1(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,n){r&&r.m(t,n),insert_hydration(t,e,n)},p(t,o){blockEl(t[7].tag)?n?safe_not_equal(n,blockEl(t[7].tag))?(r.d(1),r=create_dynamic_element$1(t),r.c(),r.m(e.parentNode,e)):r.p(t,o):(r=create_dynamic_element$1(t),r.c(),r.m(e.parentNode,e)):n&&(r.d(1),r=null),n=blockEl(t[7].tag)},i:noop$1,o(t){transition_out(r)},d(t){t&&detach(e),r&&r.d(t)}}}function create_fragment$O(t){let e,n,r=t[2].length&&create_if_block$t(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,o){r&&r.m(t,o),insert_hydration(t,e,o),n=!0},p(t,n){let[o]=n;t[2].length?r?(r.p(t,o),4&o&&transition_in(r,1)):(r=create_if_block$t(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function blockEl(t){return"h3"===t||"p"===t?t:"div"}function instance$O(t,e,n){let r;const{themeData:o}=getContext("stores");component_subscribe(t,o,(t=>n(5,r=t)));let{id:a}=e,{name:i}=e,{blocks:s=[]}=e,{styles:c=null}=e,{emotion:l}=e;if(!l)throw new Error("need to pass emotion for block region "+i);return t.$$set=t=>{"id"in t&&n(0,a=t.id),"name"in t&&n(1,i=t.name),"blocks"in t&&n(2,s=t.blocks),"styles"in t&&n(3,c=t.styles),"emotion"in t&&n(4,l=t.emotion)},[a,i,s,c,l,r,o]}class BlocksRegion extends SvelteComponent{constructor(t){super(),init(this,t,instance$O,create_fragment$O,safe_not_equal,{id:0,name:1,blocks:2,styles:3,emotion:4})}}function add_css$i(t){append_styles(t,"svelte-1mufarc",".layout-inline.svelte-1mufarc>.footer-block.svelte-1mufarc{display:inline}.layout-flex-row.svelte-1mufarc.svelte-1mufarc,.layout-flex-column.svelte-1mufarc.svelte-1mufarc{display:flex}.layout-flex-row.svelte-1mufarc.svelte-1mufarc{flex-direction:row}.layout-flex-column.svelte-1mufarc.svelte-1mufarc{flex-direction:column}.footer-center.layout-flex-column.svelte-1mufarc.svelte-1mufarc{align-items:center}.footer-right.layout-flex-column.svelte-1mufarc.svelte-1mufarc{align-items:flex-end}.footer-center.layout-inline.svelte-1mufarc.svelte-1mufarc{text-align:center}.footer-right.layout-inline.svelte-1mufarc.svelte-1mufarc{text-align:right}.separator.svelte-1mufarc.svelte-1mufarc{display:inline-block;font-style:initial}.separator.svelte-1mufarc.svelte-1mufarc:before{display:inline-block}.footer-right.svelte-1mufarc.svelte-1mufarc{text-align:right}.footer-block.svelte-1mufarc.svelte-1mufarc{display:inline}")}function get_each_context$9(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function create_if_block$s(t){let e,n;return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class",n="separator separator-before-"+t[6].id+" svelte-1mufarc")},m(t,n){insert_hydration(t,e,n)},p(t,r){2&r&&n!==(n="separator separator-before-"+t[6].id+" svelte-1mufarc")&&attr(e,"class",n)},d(t){t&&detach(e)}}}function create_each_block$9(t){let e,n,r,o,a,i,s=t[8]&&"inline"===t[2]&&create_if_block$s(t);return r=new Block$1({props:{block:t[6]}}),{c(){s&&s.c(),e=space(),n=element("span"),create_component(r.$$.fragment),o=space(),this.h()},l(t){s&&s.l(t),e=claim_space(t),n=claim_element(t,"SPAN",{class:!0});var a=children(n);claim_component(r.$$.fragment,a),o=claim_space(a),a.forEach(detach),this.h()},h(){attr(n,"class",a="footer-block "+t[6].id+"-block "+(t[3]&&t[6].styles?t[6].styles(t[3],t[4]):"")+" svelte-1mufarc")},m(t,a){s&&s.m(t,a),insert_hydration(t,e,a),insert_hydration(t,n,a),mount_component(r,n,null),append_hydration(n,o),i=!0},p(t,o){t[8]&&"inline"===t[2]?s?s.p(t,o):(s=create_if_block$s(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const c={};2&o&&(c.block=t[6]),r.$set(c),(!i||26&o&&a!==(a="footer-block "+t[6].id+"-block "+(t[3]&&t[6].styles?t[6].styles(t[3],t[4]):"")+" svelte-1mufarc"))&&attr(n,"class",a)},i(t){i||(transition_in(r.$$.fragment,t),i=!0)},o(t){transition_out(r.$$.fragment,t),i=!1},d(t){s&&s.d(t),t&&detach(e),t&&detach(n),destroy_component(r)}}}function create_fragment$N(t){let e,n,r,o=t[1],a=[];for(let e=0;e<o.length;e+=1)a[e]=create_each_block$9(get_each_context$9(t,o,e));const i=t=>transition_out(a[t],1,1,(()=>{a[t]=null}));return{c(){e=element("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var n=children(e);for(let t=0;t<a.length;t+=1)a[t].l(n);n.forEach(detach),this.h()},h(){attr(e,"class",n="footer-"+t[0]+" layout-"+t[2]+" svelte-1mufarc")},m(t,n){insert_hydration(t,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);r=!0},p(t,s){let[c]=s;if(30&c){let n;for(o=t[1],n=0;n<o.length;n+=1){const r=get_each_context$9(t,o,n);a[n]?(a[n].p(r,c),transition_in(a[n],1)):(a[n]=create_each_block$9(r),a[n].c(),transition_in(a[n],1),a[n].m(e,null))}for(group_outros(),n=o.length;n<a.length;n+=1)i(n);check_outros()}(!r||5&c&&n!==(n="footer-"+t[0]+" layout-"+t[2]+" svelte-1mufarc"))&&attr(e,"class",n)},i(t){if(!r){for(let t=0;t<o.length;t+=1)transition_in(a[t]);r=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)transition_out(a[t]);r=!1},d(t){t&&detach(e),destroy_each(a,t)}}}function instance$N(t,e,n){let r;const{themeData:o}=getContext("stores");component_subscribe(t,o,(t=>n(4,r=t)));let{alignment:a}=e,{blocks:i}=e,{layout:s}=e,{emotion:c}=e;return t.$$set=t=>{"alignment"in t&&n(0,a=t.alignment),"blocks"in t&&n(1,i=t.blocks),"layout"in t&&n(2,s=t.layout),"emotion"in t&&n(3,c=t.emotion)},[a,i,s,c,r,o]}class FooterInlineBlocksRegion extends SvelteComponent{constructor(t){super(),init(this,t,instance$N,create_fragment$N,safe_not_equal,{alignment:0,blocks:1,layout:2,emotion:3},add_css$i)}}var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const isomorphic_dompurify_1=__importDefault$4(browser);var purifySvg=function(t){return isomorphic_dompurify_1.default.sanitize(t,{USE_PROFILES:{svg:!0,svgFilters:!0},KEEP_CONTENT:!1})};function add_css$h(t){append_styles(t,"svelte-1lt126s",".menu.svelte-1lt126s.svelte-1lt126s{cursor:pointer;position:absolute;top:0px;right:0px;z-index:1}.ha-menu.svelte-1lt126s.svelte-1lt126s{margin:4px 10px 3px 3px;width:18px;padding:3px 0px;border-top:2px solid black;border-bottom:2px solid black}.ha-menu.svelte-1lt126s div.svelte-1lt126s{height:2px;width:100%;background:black}.ha-menu.svelte-1lt126s.svelte-1lt126s:hover{border-top-color:#ccc;border-bottom-color:#ccc}.ha-menu.svelte-1lt126s:hover div.svelte-1lt126s{background:#ccc}.menu-content.svelte-1lt126s.svelte-1lt126s{position:absolute;top:30px;right:4px;background:white;border:1px solid #ccc;z-index:100;box-shadow:0px 0px 4px 1px rgba(0, 0, 0, 0.1)}.menu-content > .dw-chart-menu a{padding:10px;display:block;color:initial;border-bottom:1px solid #ccc}.menu-content > .dw-chart-menu a:hover{background:rgba(0, 0, 0, 0.05)}.menu-content > .dw-chart-menu .block:last-child a{border-bottom:none}")}function create_if_block$r(t){let e,n,r,o,a,i,s;function c(t,e){return t[3].icon?create_if_block_1$e:create_else_block$b}let l=c(t),u=l(t);return o=new BlocksRegion({props:{id:t[0],emotion:t[4],name:t[1],blocks:t[2]}}),{c(){e=element("div"),u.c(),n=space(),r=element("div"),create_component(o.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var a=children(e);u.l(a),a.forEach(detach),n=claim_space(t),r=claim_element(t,"DIV",{class:!0});var i=children(r);claim_component(o.$$.fragment,i),i.forEach(detach),this.h()},h(){attr(e,"class","menu container svelte-1lt126s"),toggle_class(e,"ha-menu",!t[3].icon),attr(r,"class","menu-content container svelte-1lt126s"),toggle_class(r,"hidden",!t[5])},m(c,l){insert_hydration(c,e,l),u.m(e,null),insert_hydration(c,n,l),insert_hydration(c,r,l),mount_component(o,r,null),a=!0,i||(s=[listen(e,"click",stop_propagation(t[6])),listen(r,"click",stop_propagation(t[8]))],i=!0)},p(t,n){l===(l=c(t))&&u?u.p(t,n):(u.d(1),u=l(t),u&&(u.c(),u.m(e,null))),(!a||8&n)&&toggle_class(e,"ha-menu",!t[3].icon);const i={};1&n&&(i.id=t[0]),16&n&&(i.emotion=t[4]),2&n&&(i.name=t[1]),4&n&&(i.blocks=t[2]),o.$set(i),(!a||32&n)&&toggle_class(r,"hidden",!t[5])},i(t){a||(transition_in(o.$$.fragment,t),a=!0)},o(t){transition_out(o.$$.fragment,t),a=!1},d(t){t&&detach(e),u.d(),t&&detach(n),t&&detach(r),destroy_component(o),i=!1,run_all(s)}}}function create_else_block$b(t){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","svelte-1lt126s")},m(t,n){insert_hydration(t,e,n)},p:noop$1,d(t){t&&detach(e)}}}function create_if_block_1$e(t){let e,n,r=purifySvg(t[3].icon)+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){8&n&&r!==(r=purifySvg(t[3].icon)+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$M(t){let e,n,r,o,a=t[2].length&&create_if_block$r(t);return{c(){a&&a.c(),e=empty()},l(t){a&&a.l(t),e=empty()},m(i,s){a&&a.m(i,s),insert_hydration(i,e,s),n=!0,r||(o=listen(window,"click",t[7]),r=!0)},p(t,n){let[r]=n;t[2].length?a?(a.p(t,r),4&r&&transition_in(a,1)):(a=create_if_block$r(t),a.c(),transition_in(a,1),a.m(e.parentNode,e)):a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros())},i(t){n||(transition_in(a),n=!0)},o(t){transition_out(a),n=!1},d(t){a&&a.d(t),t&&detach(e),r=!1,o()}}}function instance$M(t,e,n){let{id:r}=e,{name:o}=e,{blocks:a}=e,{props:i}=e,{emotion:s}=e,c=!1;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"name"in t&&n(1,o=t.name),"blocks"in t&&n(2,a=t.blocks),"props"in t&&n(3,i=t.props),"emotion"in t&&n(4,s=t.emotion)},[r,o,a,i,s,c,function(){n(5,c=!c)},function(){n(5,c=!1)},function(e){bubble.call(this,t,e)}]}class Menu$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$M,create_fragment$M,safe_not_equal,{id:0,name:1,blocks:2,props:3,emotion:4},add_css$h)}}function add_css$g(t){append_styles(t,"svelte-k5gpz5",".filter-ui.filter-select.svelte-k5gpz5{vertical-align:middle;max-width:100%}")}function get_each_context$8(t,e,n){const r=t.slice();return r[9]=e[n],r}function create_each_block$8(t){let e,n,r,o=String(t[9].value).trim()+"";return{c(){e=element("option"),n=text(o),this.h()},l(t){e=claim_element(t,"OPTION",{});var r=children(e);n=claim_text(r,o),r.forEach(detach),this.h()},h(){e.__value=r=t[9],e.value=e.__value},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},p(t,a){2&a&&o!==(o=String(t[9].value).trim()+"")&&set_data(n,o),2&a&&r!==(r=t[9])&&(e.__value=r,e.value=e.__value)},d(t){t&&detach(e)}}}function create_fragment$L(t){let e,n,r,o=t[1],a=[];for(let e=0;e<o.length;e+=1)a[e]=create_each_block$8(get_each_context$8(t,o,e));return{c(){e=element("select");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=claim_element(t,"SELECT",{class:!0});var n=children(e);for(let t=0;t<a.length;t+=1)a[t].l(n);n.forEach(detach),this.h()},h(){attr(e,"class","filter-ui filter-select svelte-k5gpz5"),void 0===t[2]&&add_render_callback((()=>t[5].call(e)))},m(o,i){insert_hydration(o,e,i);for(let t=0;t<a.length;t+=1)a[t].m(e,null);select_option(e,t[2]),n||(r=[listen(e,"change",t[5]),listen(e,"change",t[3])],n=!0)},p(t,n){let[r]=n;if(2&r){let n;for(o=t[1],n=0;n<o.length;n+=1){const i=get_each_context$8(t,o,n);a[n]?a[n].p(i,r):(a[n]=create_each_block$8(i),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}6&r&&select_option(e,t[2])},i:noop$1,o:noop$1,d(t){t&&detach(e),destroy_each(a,t),n=!1,run_all(r)}}}function instance$L(t,e,n){let r,o=noop$1,a=()=>(o(),o=subscribe(c,(t=>n(6,r=t))),c);t.$$.on_destroy.push((()=>o()));const i=createEventDispatcher();let{column:s}=e,{active:c}=e;a();let l,u=[];function d(t){return u.length?u[t]:null}return onMount((()=>{n(1,u=s.values().map(((t,e)=>({index:e,value:s.raw()[e]})))),n(2,l=d(r))})),t.$$set=t=>{"column"in t&&n(4,s=t.column),"active"in t&&a(n(0,c=t.active))},[c,u,l,function(){set_store_value(c,r=u.indexOf(l),r),n(2,l=d(r)),i("change",l)},s,function(){l=select_value(this),n(2,l),n(1,u)}]}class FilterSelect extends SvelteComponent{constructor(t){super(),init(this,t,instance$L,create_fragment$L,safe_not_equal,{column:4,active:0},add_css$g)}}function add_css$f(t){append_styles(t,"svelte-giak51",".filter-ui.filter-links.svelte-giak51.svelte-giak51{white-space:nowrap;overflow-x:hidden;overflow-y:hidden;line-height:28px}.filter-ui.filter-links.svelte-giak51 a.svelte-giak51{display:inline-block;height:28px;padding:0px 10px;text-decoration:none}.filter-ui.filter-links.svelte-giak51 a.active.svelte-giak51{box-shadow:none;cursor:default;text-decoration:none}.invisible.svelte-giak51.svelte-giak51{opacity:0;position:absolute;left:-9999px;pointer-events:none}")}function get_each_context$7(t,e,n){const r=t.slice();return r[18]=e[n],r[19]=e,r[20]=n,r}function create_each_block$7(t){let e,n,r,o,a=String(t[18].value).trim()+"",i=t[20];const s=()=>t[13](e,i),c=()=>t[13](null,i);function l(){return t[14](t[18])}return{c(){e=element("a"),this.h()},l(t){e=claim_element(t,"A",{tabindex:!0,href:!0,class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"tabindex","0"),attr(e,"href",n="#"+t[18].index),attr(e,"class","link-style-ignore svelte-giak51"),toggle_class(e,"active",t[18].index===t[6])},m(t,n){insert_hydration(t,e,n),e.innerHTML=a,s(),r||(o=listen(e,"click",prevent_default(l)),r=!0)},p(r,o){t=r,16&o&&a!==(a=String(t[18].value).trim()+"")&&(e.innerHTML=a),16&o&&n!==(n="#"+t[18].index)&&attr(e,"href",n),i!==t[20]&&(c(),i=t[20],s()),80&o&&toggle_class(e,"active",t[18].index===t[6])},d(t){t&&detach(e),c(),r=!1,o()}}}function create_if_block$q(t){let e,n;return e=new FilterSelect({props:{column:t[0],active:t[1]}}),e.$on("change",t[16]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.column=t[0]),2&n&&(r.active=t[1]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$K(t){let e,n,r,o,a=t[4],i=[];for(let e=0;e<a.length;e+=1)i[e]=create_each_block$7(get_each_context$7(t,a,e));let s=!t[5]&&create_if_block$q(t);return{c(){e=element("nav");for(let t=0;t<i.length;t+=1)i[t].c();n=space(),s&&s.c(),r=empty(),this.h()},l(t){e=claim_element(t,"NAV",{class:!0});var o=children(e);for(let t=0;t<i.length;t+=1)i[t].l(o);o.forEach(detach),n=claim_space(t),s&&s.l(t),r=empty(),this.h()},h(){attr(e,"class","filter-ui filter-links svelte-giak51"),toggle_class(e,"invisible",!t[5])},m(a,c){insert_hydration(a,e,c);for(let t=0;t<i.length;t+=1)i[t].m(e,null);t[15](e),insert_hydration(a,n,c),s&&s.m(a,c),insert_hydration(a,r,c),o=!0},p(t,n){let[c]=n;if(344&c){let n;for(a=t[4],n=0;n<a.length;n+=1){const r=get_each_context$7(t,a,n);i[n]?i[n].p(r,c):(i[n]=create_each_block$7(r),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}(!o||32&c)&&toggle_class(e,"invisible",!t[5]),t[5]?s&&(group_outros(),transition_out(s,1,1,(()=>{s=null})),check_outros()):s?(s.p(t,c),32&c&&transition_in(s,1)):(s=create_if_block$q(t),s.c(),transition_in(s,1),s.m(r.parentNode,r))},i(t){o||(transition_in(s),o=!0)},o(t){transition_out(s),o=!1},d(o){o&&detach(e),destroy_each(i,o),t[15](null),o&&detach(n),s&&s.d(o),o&&detach(r)}}}function instance$K(t,e,n){let r,o,a,i,s,c,l=noop$1,u=()=>(l(),l=subscribe(g,(t=>n(6,s=t))),g);t.$$.on_destroy.push((()=>l()));const{outerWidth:d}=getContext("stores");component_subscribe(t,d,(t=>n(12,c=t)));let{column:p}=e,{textDirection:f}=e;const h=createEventDispatcher();let m,{active:g}=e;u();const _=[];function y(t){set_store_value(g,s=t.index,s),h("change",t)}return t.$$set=t=>{"column"in t&&n(0,p=t.column),"textDirection"in t&&n(9,f=t.textDirection),"active"in t&&u(n(1,g=t.active))},t.$$.update=()=>{12&t.$$.dirty&&n(11,o=_.filter((t=>t)).slice(-1).map((t=>{const e=m.getBoundingClientRect().left;return t.getBoundingClientRect().right-e}))[0]),6144&t.$$.dirty&&n(5,r=o<c),1&t.$$.dirty&&n(10,a=p.values().filter(((t,e)=>p.raw()[e])).map(((t,e)=>({value:p.raw()[e],index:e})))),1536&t.$$.dirty&&n(4,i="rtl"===f?a.reverse():a)},[p,g,m,_,i,r,s,d,y,f,a,o,c,function(t,e){binding_callbacks[t?"unshift":"push"]((()=>{_[e]=t,n(3,_)}))},t=>y(t),function(t){binding_callbacks[t?"unshift":"push"]((()=>{m=t,n(2,m)}))},t=>y(t.detail)]}class FilterButtons extends SvelteComponent{constructor(t){super(),init(this,t,instance$K,create_fragment$K,safe_not_equal,{column:0,textDirection:9,active:1},add_css$f)}}function ascending(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,r;function o(t,r,o=0,a=t.length){if(o<a){if(0!==e(r,r))return a;do{const e=o+a>>>1;n(t[e],r)<0?o=e+1:a=e}while(o<a)}return o}return 2!==t.length?(e=ascending,n=(e,n)=>ascending(t(e),n),r=(e,n)=>t(e)-n):(e=t===ascending||t===descending?t:zero$1,n=t,r=t),{left:o,center:function(t,e,n=0,a=t.length){const i=o(t,e,n,a-1);return i>n&&r(t[i-1],e)>-r(t[i],e)?i-1:i},right:function(t,r,o=0,a=t.length){if(o<a){if(0!==e(r,r))return a;do{const e=o+a>>>1;n(t[e],r)<=0?o=e+1:a=e}while(o<a)}return o}}}function zero$1(){return 0}function number$2(t){return null===t?NaN:+t}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;var bisect=bisectRight;const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=e10?10:a>=e5?5:a>=e2?2:1;let s,c,l;return o<0?(l=Math.pow(10,-o)/i,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,o)*i,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2?tickSpec(t,e,2*n):[s,c,l]}function tickIncrement(t,e,n){return tickSpec(t=+t,e=+e,n=+n)[2]}function tickStep(t,e,n){n=+n;const r=(e=+e)<(t=+t),o=r?tickIncrement(e,t,n):tickIncrement(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend$1(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?rgbn(e):3===n?new Rgb(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?rgba(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rgb(t,e,n,r)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb$1(t,e,n,r){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,n,null==r?1:r)}function Rgb(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),i=NaN,s=a-o,c=(a+o)/2;return s?(i=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Hsl(i,s,c,t.opacity)}function hsl(t,e,n,r){return 1===arguments.length?hslConvert(t):new Hsl(t,e,n,null==r?1:r)}function Hsl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hsl2rgb(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function constant$1(t){return function(){return t}}function linear(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gamma(t){return 1==(t=+t)?nogamma:function(e,n){return n-e?exponential(e,n,t):constant$1(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear(t,n):constant$1(isNaN(t)?e:t)}define(Color,color,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb$1,extend$1(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl,extend$1(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Rgb(hsl2rgb(t>=240?t-240:t+120,o,r),hsl2rgb(t,o,r),hsl2rgb(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var rgb=function t(e){var n=gamma(e);function r(t,e){var r=n((t=rgb$1(t)).r,(e=rgb$1(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),i=nogamma(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=a(e),t.opacity=i(e),t+""}}return r.gamma=t,r}(1);function numberArray(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(a){for(n=0;n<r;++n)o[n]=t[n]*(1-a)+e[n]*a;return o}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,a=new Array(o),i=new Array(r);for(n=0;n<o;++n)a[n]=interpolate(t[n],e[n]);for(;n<r;++n)i[n]=e[n];return function(t){for(n=0;n<o;++n)i[n]=a[n](t);return i}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object$1(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=interpolate(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var n,r,o,a=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],c=[];for(t+="",e+="";(n=reA.exec(t))&&(r=reB.exec(e));)(o=r.index)>a&&(o=e.slice(a,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,c.push({i:i,x:interpolateNumber(n,r)})),a=reB.lastIndex;return a<e.length&&(o=e.slice(a),s[i]?s[i]+=o:s[++i]=o),s.length<2?c[0]?one(c[0].x):zero(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function interpolate(t,e){var n,r=typeof e;return null==e||"boolean"===r?constant$1(e):("number"===r?interpolateNumber:"string"===r?(n=color(e))?(e=n,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object$1:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function constants(t){return function(){return t}}function number$1(t){return+t}var unit=[0,1];function identity(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function bimap(t,e,n){var r=t[0],o=t[1],a=e[0],i=e[1];return o<r?(r=normalize(o,r),a=n(i,a)):(r=normalize(r,o),a=n(a,i)),function(t){return a(r(t))}}function polymap(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),i=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<r;)o[i]=normalize(t[i],t[i+1]),a[i]=n(e[i],e[i+1]);return function(e){var n=bisect(t,e,1,r)-1;return a[n](o[n](e))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t,e,n,r,o,a,i=unit,s=unit,c=interpolate,l=identity;function u(){var t=Math.min(i.length,s.length);return l!==identity&&(l=clamper(i[0],i[t-1])),r=t>2?polymap:bimap,o=a=null,d}function d(e){return null==e||isNaN(e=+e)?n:(o||(o=r(i.map(t),s,c)))(t(l(e)))}return d.invert=function(n){return l(e((a||(a=r(s,i.map(t),interpolateNumber)))(n)))},d.domain=function(t){return arguments.length?(i=Array.from(t,number$1),u()):i.slice()},d.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},d.rangeRound=function(t){return s=Array.from(t),c=interpolateRound,u()},d.clamp=function(t){return arguments.length?(l=!!t||identity,u()):l!==identity},d.interpolate=function(t){return arguments.length?(c=t,u()):c},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,u()}}function continuous(){return transformer()(identity,identity)}function nice(t,e){var n,r=0,o=(t=t.slice()).length-1,a=t[r],i=t[o];return i<a&&(n=r,r=o,o=n,n=a,a=i,i=n),t[r]=e.floor(a),t[o]=e.ceil(i),t}const t0$1=new Date,t1$1=new Date;function timeInterval(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=e=>(t(e=new Date(+e)),e),o.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),o.round=t=>{const e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),o.range=(n,r,a)=>{const i=[];if(n=o.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return i;let s;do{i.push(s=new Date(+n)),e(n,a),t(n)}while(s<n&&n<r);return i},o.filter=n=>timeInterval((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(o.count=(e,r)=>(t0$1.setTime(+e),t1$1.setTime(+r),t(t0$1),t(t1$1),Math.floor(n(t0$1,t1$1))),o.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?e=>r(e)%t==0:e=>o.count(0,e)%t==0):o:null)),o}const millisecond=timeInterval((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));millisecond.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?timeInterval((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):millisecond:null),millisecond.range;const durationSecond=1e3,durationMinute$1=60*durationSecond,durationHour=60*durationMinute$1,durationDay$1=24*durationHour,durationWeek$1=7*durationDay$1,durationMonth=30*durationDay$1,durationYear=365*durationDay$1,second=timeInterval((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*durationSecond)}),((t,e)=>(e-t)/durationSecond),(t=>t.getUTCSeconds()));second.range;const timeMinute=timeInterval((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)}),((t,e)=>{t.setTime(+t+e*durationMinute$1)}),((t,e)=>(e-t)/durationMinute$1),(t=>t.getMinutes()));timeMinute.range;const utcMinute=timeInterval((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*durationMinute$1)}),((t,e)=>(e-t)/durationMinute$1),(t=>t.getUTCMinutes()));utcMinute.range;const timeHour=timeInterval((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute$1)}),((t,e)=>{t.setTime(+t+e*durationHour)}),((t,e)=>(e-t)/durationHour),(t=>t.getHours()));timeHour.range;const utcHour=timeInterval((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*durationHour)}),((t,e)=>(e-t)/durationHour),(t=>t.getUTCHours()));utcHour.range;const timeDay$1=timeInterval((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$1)/durationDay$1),(t=>t.getDate()-1));timeDay$1.range;const utcDay$2=timeInterval((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/durationDay$1),(t=>t.getUTCDate()-1));utcDay$2.range;const unixDay=timeInterval((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/durationDay$1),(t=>Math.floor(t/durationDay$1)));function timeWeekday(t){return timeInterval((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$1)/durationWeek$1))}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday$1(t){return timeInterval((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/durationWeek$1))}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday$1=utcWeekday$1(0),utcMonday$1=utcWeekday$1(1),utcTuesday$1=utcWeekday$1(2),utcWednesday$1=utcWeekday$1(3),utcThursday$1=utcWeekday$1(4),utcFriday$1=utcWeekday$1(5),utcSaturday$1=utcWeekday$1(6);utcSunday$1.range,utcMonday$1.range,utcTuesday$1.range,utcWednesday$1.range,utcThursday$1.range,utcFriday$1.range,utcSaturday$1.range;const timeMonth=timeInterval((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));timeMonth.range;const utcMonth=timeInterval((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));utcMonth.range;const timeYear$1=timeInterval((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));timeYear$1.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,timeYear$1.range;const utcYear$2=timeInterval((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function ticker(t,e,n,r,o,a){const i=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[a,1,durationMinute$1],[a,5,5*durationMinute$1],[a,15,15*durationMinute$1],[a,30,30*durationMinute$1],[o,1,durationHour],[o,3,3*durationHour],[o,6,6*durationHour],[o,12,12*durationHour],[r,1,durationDay$1],[r,2,2*durationDay$1],[n,1,durationWeek$1],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function s(e,n,r){const o=Math.abs(n-e)/r,a=bisector((([,,t])=>t)).right(i,o);if(a===i.length)return t.every(tickStep(e/durationYear,n/durationYear,r));if(0===a)return millisecond.every(Math.max(tickStep(e,n,r),1));const[s,c]=i[o/i[a-1][2]<i[a][2]/o?a-1:a];return s.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const o=n&&"function"==typeof n.range?n:s(t,e,n),a=o?o.range(t,+e+1):[];return r?a.reverse():a},s]}utcYear$2.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,utcYear$2.range,ticker(utcYear$2,utcMonth,utcSunday$1,unixDay,utcHour,utcMinute);const[timeTicks,timeTickInterval]=ticker(timeYear$1,timeMonth,timeSunday,timeDay$1,timeHour,timeMinute);var t0=new Date,t1=new Date;function newInterval(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,a){var i,s=[];if(n=o.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(i=new Date(+n)),e(n,a),t(n)}while(i<n&&n<r);return s},o.filter=function(n){return newInterval((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return t0.setTime(+e),t1.setTime(+r),t(t0),t(t1),Math.floor(n(t0,t1))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var durationMinute=6e4,durationDay=864e5,durationWeek=6048e5,day=newInterval((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay}),(function(t){return t.getDate()-1})),timeDay=day;function weekday(t){return newInterval((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek}))}day.range;var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);sunday.range,monday.range,tuesday.range,wednesday.range,thursday.range,friday.range,saturday.range;var year=newInterval((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));year.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var timeYear=year;year.range;var utcDay=newInterval((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/durationDay}),(function(t){return t.getUTCDate()-1})),utcDay$1=utcDay;function utcWeekday(t){return newInterval((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/durationWeek}))}utcDay.range;var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;var utcYear=newInterval((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));utcYear.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var utcYear$1=utcYear;function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,a=t.days,i=t.shortDays,s=t.months,c=t.shortMonths,l=formatRe(o),u=formatLookup(o),d=formatRe(a),p=formatLookup(a),f=formatRe(i),h=formatLookup(i),m=formatRe(s),g=formatLookup(s),_=formatRe(c),y=formatLookup(c),b={a:function(t){return i[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},$={a:function(t){return i[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},v={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return w(t,e,n,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,r){return w(t,n,e,r)},X:function(t,e,n){return w(t,r,e,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function k(t,e){return function(n){var r,o,a,i=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(i.push(t.slice(c,s)),null!=(o=pads[r=t.charAt(++s)])?r=t.charAt(++s):o="e"===r?" ":"0",(a=e[r])&&(r=a(n,o)),i.push(r),c=s+1);return i.push(t.slice(c,s)),i.join("")}}function x(t,e){return function(n){var r,o,a=newDate(1900,void 0,1);if(w(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(o=(r=utcDate(newDate(a.y,0,1))).getUTCDay(),r=o>4||0===o?utcMonday.ceil(r):utcMonday(r),r=utcDay$1.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(o=(r=localDate(newDate(a.y,0,1))).getDay(),r=o>4||0===o?monday.ceil(r):monday(r),r=timeDay.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?utcDate(newDate(a.y,0,1)).getUTCDay():localDate(newDate(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):localDate(a)}}function w(t,e,n,r){for(var o,a,i=0,s=e.length,c=n.length;i<s;){if(r>=c)return-1;if(37===(o=e.charCodeAt(i++))){if(o=e.charAt(i++),!(a=v[o in pads?e.charAt(i++):o])||(r=a(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(e,b),$.x=k(n,$),$.X=k(r,$),$.c=k(e,$),{format:function(t){var e=k(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",$);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}utcYear.range;var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,locale,timeFormat;function pad(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(e)+o:o)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function parseWeekdayNumberSunday(t,e,n){var r=numberRe.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var r=numberRe.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function parseFullYear(t,e,n){var r=numberRe.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function parseYear(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseQuarter(t,e,n){var r=numberRe.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function parseMonthNumber(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function parseDayOfYear(t,e,n){var r=numberRe.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function parseHour24(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function parseMinutes(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function parseSeconds(t,e,n){var r=numberRe.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function parseMilliseconds(t,e,n){var r=numberRe.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function parseMicroseconds(t,e,n){var r=numberRe.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(t,e,n){var r=percentRe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(t,e,n){var r=numberRe.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var r=numberRe.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad(sunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||0===e?thursday(t):thursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(thursday.count(timeYear(t),t)+(4===timeYear(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(monday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return pad((t=dISO(t)).getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return pad((t=n>=4||0===n?thursday(t):thursday.ceil(t)).getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay$1.count(utcYear$1(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear$1(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||0===e?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear$1(t),t)+(4===utcYear$1(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear$1(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return pad((t=UTCdISO(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return pad((t=n>=4||0===n?utcThursday(t):utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,r,o,a,i,s,c,l){var u=continuous(),d=u.invert,p=u.domain,f=l(".%L"),h=l(":%S"),m=l("%I:%M"),g=l("%I %p"),_=l("%a %d"),y=l("%b %d"),b=l("%B"),$=l("%Y");function v(t){return(c(t)<t?f:s(t)<t?h:i(t)<t?m:a(t)<t?g:r(t)<t?o(t)<t?_:y:n(t)<t?b:$)(t)}return u.invert=function(t){return new Date(d(t))},u.domain=function(t){return arguments.length?p(Array.from(t,number)):p().map(date)},u.ticks=function(e){var n=p();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?v:l(e)},u.nice=function(t){var n=p();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?p(nice(n,t)):u},u.copy=function(){return copy$1(u,calendar(t,e,n,r,o,a,i,s,c,l))},u}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear$1,timeMonth,timeSunday,timeDay$1,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function add_css$e(t){append_styles(t,"svelte-1fsf15n",".filter-ui.svelte-1fsf15n.svelte-1fsf15n{height:45px;margin-left:3px;position:relative}.filter-ui.svelte-1fsf15n .tick.svelte-1fsf15n{position:absolute;color:inherit;text-decoration:none}.filter-ui.svelte-1fsf15n .tick .point.svelte-1fsf15n{display:inline-block;cursor:pointer;position:absolute;z-index:100;height:20px;width:20px;border-radius:10px;top:20px}.filter-ui.svelte-1fsf15n .line.svelte-1fsf15n{height:1px;position:absolute;left:0px;top:30px;z-index:1}")}function get_each_context$6(t,e,n){const r=t.slice();return r[13]=e[n],r}function create_each_block$6(t){let e,n,r,o,a,i,s,c,l=t[13].value+"";function u(){return t[10](t[13])}return{c(){e=element("a"),n=element("div"),r=space(),o=element("div"),a=text(l),this.h()},l(t){e=claim_element(t,"A",{href:!0,class:!0,tabindex:!0});var i=children(e);n=claim_element(i,"DIV",{class:!0}),children(n).forEach(detach),r=claim_space(i),o=claim_element(i,"DIV",{class:!0});var s=children(o);a=claim_text(s,l),s.forEach(detach),i.forEach(detach),this.h()},h(){attr(n,"class","point svelte-1fsf15n"),toggle_class(n,"active",t[5]===t[13].index),attr(o,"class","point-label"),attr(e,"href",i="#/"+t[13].index),attr(e,"class","tick link-style-ignore svelte-1fsf15n"),attr(e,"tabindex","0"),toggle_class(e,"active",t[0]===t[13].index),set_style(e,"left","".concat(t[3](t[13].date),"px"))},m(t,i){insert_hydration(t,e,i),append_hydration(e,n),append_hydration(e,r),append_hydration(e,o),append_hydration(o,a),s||(c=listen(e,"click",prevent_default(u)),s=!0)},p(r,o){t=r,34&o&&toggle_class(n,"active",t[5]===t[13].index),2&o&&l!==(l=t[13].value+"")&&set_data(a,l),2&o&&i!==(i="#/"+t[13].index)&&attr(e,"href",i),3&o&&toggle_class(e,"active",t[0]===t[13].index),10&o&&set_style(e,"left","".concat(t[3](t[13].date),"px"))},d(t){t&&detach(e),s=!1,c()}}}function create_fragment$J(t){let e,n,r,o,a=t[1],i=[];for(let e=0;e<a.length;e+=1)i[e]=create_each_block$6(get_each_context$6(t,a,e));return{c(){e=element("nav");for(let t=0;t<i.length;t+=1)i[t].c();n=space(),r=element("div"),this.h()},l(t){e=claim_element(t,"NAV",{class:!0});var o=children(e);for(let t=0;t<i.length;t+=1)i[t].l(o);n=claim_space(o),r=claim_element(o,"DIV",{class:!0,style:!0}),children(r).forEach(detach),o.forEach(detach),this.h()},h(){attr(r,"class","line svelte-1fsf15n"),set_style(r,"width",t[4]+"px"),attr(e,"class","filter-ui filter-timescale svelte-1fsf15n"),add_render_callback((()=>t[11].call(e)))},m(a,s){insert_hydration(a,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);append_hydration(e,n),append_hydration(e,r),o=add_resize_listener(e,t[11].bind(e))},p(t,o){let[s]=o;if(107&s){let r;for(a=t[1],r=0;r<a.length;r+=1){const o=get_each_context$6(t,a,r);i[r]?i[r].p(o,s):(i[r]=create_each_block$6(o),i[r].c(),i[r].m(e,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}16&s&&set_style(r,"width",t[4]+"px")},i:noop$1,o:noop$1,d(t){t&&detach(e),destroy_each(i,t),o()}}}function instance$J(t,e,n){let r,o,a,i,s=noop$1,c=()=>(s(),s=subscribe(p,(t=>n(5,i=t))),p);t.$$.on_destroy.push((()=>s()));const l=createEventDispatcher();let{column:u}=e,{textDirection:d}=e,{active:p}=e;c();let f,h=[];function m(t){set_store_value(p,i=t.index,i),l("change",t)}onMount((()=>{n(1,h=u.values().map(((t,e)=>({index:e,date:t,value:u.raw()[e]}))).sort(((t,e)=>{t.date.getTime(),e.date.getTime()})))}));return t.$$set=t=>{"column"in t&&n(7,u=t.column),"textDirection"in t&&n(8,d=t.textDirection),"active"in t&&c(n(0,p=t.active))},t.$$.update=()=>{4&t.$$.dirty&&n(9,r=f-35),770&t.$$.dirty&&n(3,o=time(h.length>0?[h[0].date,h[h.length-1].date]:[],"rtl"===d?[r,0]:[0,r])),10&t.$$.dirty&&n(4,a=h.length>0?o(h[h.length-1].date):0)},[p,h,f,o,a,i,m,u,d,r,t=>m(t),function(){f=this.clientWidth,n(2,f)}]}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class FilterTimescale extends SvelteComponent{constructor(t){super(),init(this,t,instance$J,create_fragment$J,safe_not_equal,{column:7,textDirection:8,active:0},add_css$e)}}function add_css$d(t){append_styles(t,"svelte-1h3arn0",".filter-ui{margin-bottom:10px}div.svelte-1h3arn0{overflow:hidden}")}function create_else_block$a(t){let e,n;return e=new FilterSelect({props:{active:t[3],column:t[0],textDirection:t[1]}}),e.$on("change",t[4]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.column=t[0]),2&n&&(r.textDirection=t[1]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$d(t){let e,n;return e=new FilterTimescale({props:{active:t[3],column:t[0],textDirection:t[1]}}),e.$on("change",t[4]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.column=t[0]),2&n&&(r.textDirection=t[1]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block$p(t){let e,n;return e=new FilterButtons({props:{active:t[3],column:t[0],textDirection:t[1]}}),e.$on("change",t[4]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.column=t[0]),2&n&&(r.textDirection=t[1]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$I(t){let e,n,r,o;const a=[create_if_block$p,create_if_block_1$d,create_else_block$a],i=[];function s(t,e){return t[2]===TYPE_BUTTONS$1?0:t[2]===TYPE_TIMESCALE$1?1:2}return n=s(t),r=i[n]=a[n](t),{c(){e=element("div"),r.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var n=children(e);r.l(n),n.forEach(detach),this.h()},h(){attr(e,"class","svelte-1h3arn0")},m(t,r){insert_hydration(t,e,r),i[n].m(e,null),o=!0},p(t,o){let[c]=o,l=n;n=s(t),n===l?i[n].p(t,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),r=i[n],r?r.p(t,c):(r=i[n]=a[n](t),r.c()),transition_in(r,1),r.m(e,null))},i(t){o||(transition_in(r),o=!0)},o(t){transition_out(r),o=!1},d(t){t&&detach(e),i[n].d()}}}const TYPE_AUTO$1="auto",TYPE_SELECT$1="select",TYPE_BUTTONS$1="buttons",TYPE_TIMESCALE$1="timescale";function instance$I(t,e,n){let r,o;const a=writable(0);component_subscribe(t,a,(t=>n(7,o=t)));let{vis:i}=e,{type:s}=e,{column:c}=e,{textDirection:l}=e;const u=i.chart().createPostEvent();return t.$$set=t=>{"vis"in t&&n(5,i=t.vis),"type"in t&&n(6,s=t.type),"column"in t&&n(0,c=t.column),"textDirection"in t&&n(1,l=t.textDirection)},t.$$.update=()=>{65&t.$$.dirty&&n(2,r=s===TYPE_AUTO$1?"date"===c.type()?TYPE_TIMESCALE$1:c.length<6?TYPE_BUTTONS$1:TYPE_SELECT$1:s)},[c,l,r,a,function(t){n(5,i.__lastRow=o,i),i.update(),u("column:change",t.detail),i.fire("column:change",t.detail)},i,s]}class FilterUI$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$I,create_fragment$I,safe_not_equal,{vis:5,type:6,column:0,textDirection:1},add_css$d)}}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function sheetForTag(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function createStyleElement(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var StyleSheet=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(createStyleElement(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=sheetForTag(e);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(t,e){return 45^charat(t,0)?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,n){return t.replace(e,n)}function indexof(t,e){return t.indexOf(e)}function charat(t,e){return 0|t.charCodeAt(e)}function substr(t,e,n){return t.slice(e,n)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(t,e,n,r,o,a,i){return{value:t,root:e,parent:n,type:r,props:o,children:a,line:line,column:column,length:i,return:""}}function copy(t,e){return assign(node("",null,null,"",null,null,0),t,{length:-t.length},e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,10===character&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,10===character&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(t,e){return substr(characters,t,e)}function token(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line=column=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim(slice(position-1,delimiter(91===t?t+2:40===t?t+1:t)))}function whitespace(t){for(;(character=peek())&&character<33;)next();return token(t)>2||token(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(t,caret()+(e<6&&32==peek()&&32==next()))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:34!==t&&39!==t&&delimiter(character);break;case 40:41===t&&delimiter(t);break;case 92:next()}return position}function commenter(t,e){for(;next()&&t+character!==57&&(t+character!==84||47!==peek()););return"/*"+slice(e,position-1)+"*"+from(47===t?t:next())}function identifier(t){for(;!token(peek());)next();return slice(t,position)}function compile(t){return dealloc(parse("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse(t,e,n,r,o,a,i,s,c){for(var l=0,u=0,d=i,p=0,f=0,h=0,m=1,g=1,_=1,y=0,b="",$=o,v=a,k=r,x=b;g;)switch(h=y,y=next()){case 40:if(108!=h&&58==charat(x,d-1)){-1!=indexof(x+=replace(delimit(y),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:x+=delimit(y);break;case 9:case 10:case 13:case 32:x+=whitespace(h);break;case 92:x+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,n),c);break;default:x+="/"}break;case 123*m:s[l++]=strlen(x)*_;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:f>0&&strlen(x)-d&&append(f>32?declaration(x+";",r,n,d-1):declaration(replace(x," ","")+";",r,n,d-2),c);break;case 59:x+=";";default:if(append(k=ruleset(x,e,n,l,u,o,s,b,$=[],v=[],d),a),123===y)if(0===u)parse(x,e,k,k,$,a,d,s,v);else switch(99===p&&110===charat(x,3)?100:p){case 100:case 109:case 115:parse(t,k,k,r&&append(ruleset(t,k,k,0,0,o,s,b,o,$=[],d),v),o,v,d,s,r?$:v);break;default:parse(x,k,k,k,[""],v,0,s,v)}}l=u=f=0,m=_=1,b=x="",d=i;break;case 58:d=1+strlen(x),f=h;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==prev())continue;switch(x+=from(y),y*m){case 38:_=u>0?1:(x+="\f",-1);break;case 44:s[l++]=(strlen(x)-1)*_,_=1;break;case 64:45===peek()&&(x+=delimit(next())),p=peek(),u=d=strlen(b=x+=identifier(caret())),y++;break;case 45:45===h&&2==strlen(x)&&(m=0)}}return a}function ruleset(t,e,n,r,o,a,i,s,c,l,u){for(var d=o-1,p=0===o?a:[""],f=sizeof(p),h=0,m=0,g=0;h<r;++h)for(var _=0,y=substr(t,d+1,d=abs(m=i[h])),b=t;_<f;++_)(b=trim(m>0?p[_]+" "+y:replace(y,/&\f/g,p[_])))&&(c[g++]=b);return node(t,e,n,0===o?RULESET:s,c,l,u)}function comment(t,e,n){return node(t,e,n,COMMENT,from(char()),substr(t,2,-2),0)}function declaration(t,e,n,r){return node(t,e,n,DECLARATION,substr(t,0,r),substr(t,r+1,-1),r)}function serialize(t,e){for(var n="",r=sizeof(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function stringify(t,e,n,r){switch(t.type){case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,r)+"}";case RULESET:t.value=t.props.join(",")}return strlen(n=serialize(t.children,r))?t.return=t.value+"{"+n+"}":""}function middleware(t){var e=sizeof(t);return function(n,r,o,a){for(var i="",s=0;s<e;s++)i+=t[s](n,r,o,a)||"";return i}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}function memoize$1(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var identifierWithPointTracking=function(t,e,n){for(var r=0,o=0;r=o,o=peek(),38===r&&12===o&&(e[n]=1),!token(o);)next();return slice(t,position)},toRules=function(t,e){var n=-1,r=44;do{switch(token(r)){case 0:38===r&&12===peek()&&(e[n]=1),t[n]+=identifierWithPointTracking(position-1,e,n);break;case 2:t[n]+=delimit(r);break;case 4:if(44===r){t[++n]=58===peek()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=from(r)}}while(r=next());return t},getRules=function(t,e){return dealloc(toRules(alloc(t),e))},fixedElements=new WeakMap,compat=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||fixedElements.get(n))&&!r){fixedElements.set(t,!0);for(var o=[],a=getRules(e,o),i=n.props,s=0,c=0;s<a.length;s++)for(var l=0;l<i.length;l++,c++)t.props[c]=o[s]?a[s].replace(/&\f/g,i[l]):i[l]+" "+a[s]}}},removeLabel=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function prefix(t,e){switch(hash(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 6828:case 4268:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/,"")+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(45!==charat(t,e+4))break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(108==charat(t,e+3)?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch")?prefix(replace(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==charat(t,e+1))break;case 6444:switch(charat(t,strlen(t)-3-(~indexof(t,"!important")&&10))){case 107:return replace(t,":",":"+WEBKIT)+t;case 101:return replace(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(45===charat(t,14)?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t}break;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return WEBKIT+t+MS+t+t}return t}var prefixer=function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case DECLARATION:t.return=prefix(t.value,t.length);break;case KEYFRAMES:return serialize([copy(t,{value:replace(t.value,"@","@"+WEBKIT)})],r);case RULESET:if(t.length)return combine(t.props,(function(e){switch(match(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(t,{props:[replace(e,/:(read-\w+)/,":"+MOZ+"$1")]})],r);case"::placeholder":return serialize([copy(t,{props:[replace(e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(t,{props:[replace(e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(t,{props:[replace(e,/:(plac\w+)/,MS+"input-$1")]})],r)}return""}))}},defaultStylisPlugins=[prefixer],createCache=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,o,a=t.stylisPlugins||defaultStylisPlugins,i={},s=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)i[e[n]]=!0;s.push(t)}));var c,l=[compat,removeLabel],u=[stringify,rulesheet((function(t){c.insert(t)}))],d=middleware(l.concat(a,u));o=function(t,e,n,r){c=n,serialize(compile(t?t+"{"+e.styles+"}":e.styles),d),r&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new StyleSheet({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:o};return p.sheet.hydrate(s),p};function murmur2(t){for(var e,n=0,r=0,o=t.length;o>=4;++r,o-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(t){return 45===t.charCodeAt(1)},isProcessableValue=function(t){return null!=t&&"boolean"!=typeof t},processStyleName=memoize$1((function(t){return isCustomProperty(t)?t:t.replace(hyphenateRegex,"-$&").toLowerCase()})),processStyleValue=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(animationRegex,(function(t,e,n){return cursor={name:e,styles:n,next:cursor},e}))}return 1===unitlessKeys[t]||isCustomProperty(t)||"number"!=typeof e||0===e?e:e+"px"},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return cursor={name:n.name,styles:n.styles,next:cursor},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)cursor={name:r.name,styles:r.styles,next:cursor},r=r.next;return n.styles+";"}return createStringFromObject(t,e,n);case"function":if(void 0!==t){var o=cursor,a=n(t);return cursor=o,handleInterpolation(t,e,a)}}if(null==e)return n;var i=e[n];return void 0!==i?i:n}function createStringFromObject(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=handleInterpolation(t,e,n[o])+";";else for(var a in n){var i=n[a];if("object"!=typeof i)null!=e&&void 0!==e[i]?r+=a+"{"+e[i]+"}":isProcessableValue(i)&&(r+=processStyleName(a)+":"+processStyleValue(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=e&&void 0!==e[i[0]]){var s=handleInterpolation(t,e,i);switch(a){case"animation":case"animationName":r+=processStyleName(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var c=0;c<i.length;c++)isProcessableValue(i[c])&&(r+=processStyleName(a)+":"+processStyleValue(a,i[c])+";")}return r}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,o="";cursor=void 0;var a=t[0];null==a||void 0===a.raw?(r=!1,o+=handleInterpolation(n,e,a)):o+=a[0];for(var i=1;i<t.length;i++)o+=handleInterpolation(n,e,t[i]),r&&(o+=a[i]);labelPattern.lastIndex=0;for(var s,c="";null!==(s=labelPattern.exec(o));)c+="-"+s[1];return{name:murmur2(o)+c,styles:o,next:cursor}},isBrowser=!0;function getRegisteredStyles(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var registerStyles=function(t,e,n){var r=t.key+"-"+e.name;!1!==n&&!1!==isBrowser||void 0!==t.registered[r]||(t.registered[r]=e.styles)},insertStyles=function(t,e,n){registerStyles(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var o=e;do{t.insert(e===o?"."+r:"",o,t.sheet,!0),o=o.next}while(void 0!==o)}};function insertWithoutScoping(t,e){if(void 0===t.inserted[e.name])return t.insert("",e,t.sheet,!0)}function merge(t,e,n){var r=[],o=getRegisteredStyles(t,r,n);return r.length<2?n:o+e(r)}var createEmotion=function(t){var e=createCache(t);e.sheet.speedy=function(t){this.isSpeedy=t},e.compat=!0;var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=serializeStyles(n,e.registered,void 0);return insertStyles(e,o,!1),e.key+"-"+o.name};return{css:n,cx:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return merge(e.registered,n,classnames(r))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=serializeStyles(n,e.registered);insertWithoutScoping(e,o)},keyframes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=serializeStyles(n,e.registered),a="animation-"+o.name;return insertWithoutScoping(e,{name:o.name,styles:"@keyframes "+a+"{"+o.styles+"}"}),a},hydrate:function(t){t.forEach((function(t){e.inserted[t]=!0}))},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:getRegisteredStyles.bind(null,e.registered),merge:merge.bind(null,e.registered,n)}},classnames=function t(e){for(var n="",r=0;r<e.length;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=t(o);else for(var i in a="",o)o[i]&&i&&(a&&(a+=" "),a+=i);break;default:a=o}a&&(n&&(n+=" "),n+=a)}}return n},_createEmotion=createEmotion({key:"css"});_createEmotion.flush,_createEmotion.hydrate,_createEmotion.cx,_createEmotion.merge,_createEmotion.getRegisteredStyles,_createEmotion.injectGlobal,_createEmotion.keyframes,_createEmotion.css,_createEmotion.sheet;var cache=_createEmotion.cache;function restArguments(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=arguments[o];return a[e]=r,t.apply(this,a)}}function negate(t){return function(){return!t.apply(this,arguments)}}function map(t,e,n){e=cb(e,n);for(var r=!isArrayLike(t)&&keys(t),o=(r||t).length,a=Array(o),i=0;i<o;i++){var s=r?r[i]:i;a[i]=e(t[s],s,t)}return a}var isArguments=tagTester("Arguments");!function(){isArguments(arguments)||(isArguments=function(t){return has$1(t,"callee")})}();var isArguments$1=isArguments;function flatten$1(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,a=0,i=getLength(t);a<i;a++){var s=t[a];if(isArrayLike(s)&&(isArray(s)||isArguments$1(s)))if(e>1)flatten$1(s,e-1,n,r),o=r.length;else for(var c=0,l=s.length;c<l;)r[o++]=s[c++];else n||(r[o++]=s)}return r}function values(t){for(var e=keys(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function sortedIndex(t,e,n,r){for(var o=(n=cb(n,r,1))(e),a=0,i=getLength(t);a<i;){var s=Math.floor((a+i)/2);n(t[s])<o?a=s+1:i=s}return a}function createPredicateIndexFinder(t){return function(e,n,r){n=cb(n,r);for(var o=getLength(e),a=t>0?0:o-1;a>=0&&a<o;a+=t)if(n(e[a],a,e))return a;return-1}}var findIndex=createPredicateIndexFinder(1),isNumber=tagTester("Number");function isNaN$1(t){return isNumber(t)&&_isNaN(t)}function createIndexFinder(t,e,n){return function(r,o,a){var i=0,s=getLength(r);if("number"==typeof a)t>0?i=a>=0?a:Math.max(a+s,i):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return r[a=n(r,o)]===o?a:-1;if(o!=o)return(a=e(slice$1.call(r,i,s),isNaN$1))>=0?a+i:-1;for(a=t>0?i:s-1;a>=0&&a<s;a+=t)if(r[a]===o)return a;return-1}}var indexOf=createIndexFinder(1,findIndex,sortedIndex);function contains(t,e,n,r){return isArrayLike(t)||(t=values(t)),("number"!=typeof n||r)&&(n=0),indexOf(t,e,n)>=0}function allKeys(t){if(!isObject(t))return[];var e=[];for(var n in t)e.push(n);return hasEnumBug&&collectNonEnumProps(t,e),e}function keyInObj(t,e,n){return e in n}var pick=restArguments((function(t,e){var n={},r=e[0];if(null==t)return n;isFunction$1(r)?(e.length>1&&(r=optimizeCb(r,e[1])),e=allKeys(t)):(r=keyInObj,e=flatten$1(e,!1,!1),t=Object(t));for(var o=0,a=e.length;o<a;o++){var i=e[o],s=t[i];r(s,i,t)&&(n[i]=s)}return n})),omit=restArguments((function(t,e){var n,r=e[0];return isFunction$1(r)?(r=negate(r),e.length>1&&(n=e[1])):(e=map(flatten$1(e,!1,!1),String),r=function(t,n){return!contains(e,n)}),pick(t,r,n)})),_templateObject$f,_templateObject2$2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;function globalStyles(t,e,n){const{getProp:r,cssTemplate:o}=getThemeStyleHelpers$1(t,e);return o(_templateObject$f||(_templateObject$f=_taggedTemplateLiteral(["",""])),n?"body:not(.transparent) {\n        background: ".concat(r("style.body.background"),";\n    }"):"")}function chartStyles(t,e,n,r){const{css:o,getProp:a,typography:i}=getThemeStyleHelpers$1(t,e),s=a("colors.background");return o(_templateObject2$2||(_templateObject2$2=_taggedTemplateLiteral(["\n        ","\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        ","\n\n        ","\n\n        .labels text,\n        .label {\n            font-size: ",";\n        }\n\n        .label span,\n        .label tspan {\n            color: ",";\n            fill: ",";\n        }\n\n        .label.value,\n        .label.value span {\n            ","\n            ","\n        }\n\n        .label span {\n            text-shadow: 0 0 2px ",";\n        }\n\n        .label.inverted span {\n            text-shadow: 0 0px 2px #000000;\n            color: ",";\n        }\n\n        .label.inside:not(.inverted) span {\n            text-shadow: 0 0px 2px #ffffff;\n            color: ",";\n        }\n\n        .label.outline span {\n            text-shadow: 0 1px 0 ",", 1px 0 0 ",", 0 -1px 0 ",", -1px 0 0 ",",\n                1px 1px 0 ",", 1px -1px 0 ",", -1px -1px 0 ",", -1px 1px 0 ",",\n                0 2px 1px ",", 2px 0 1px ",", 0 -2px 1px ",", -2px 0 1px ",",\n                -1px 2px 0px ",", 2px -1px 0px ",", -1px -2px 0px ",",\n                -2px -1px 0px ",", 1px 2px 0px ",", 2px 1px 0px ",",\n                1px -2px 0px ",", -2px 1px 0px ",";\n        }\n\n        .label sup {\n            text-shadow: none;\n        }\n\n        .label.highlighted {\n            font-weight: bold;\n        }\n\n        .label.highlighted,\n        .label.axis {\n            font-size: ",";\n            z-index: 100;\n        }\n\n        .label.hover {\n            font-weight: bold;\n        }\n\n        .label.smaller span {\n            font-size: 80%;\n        }\n\n        .label.legend-text span,\n        .label.legend-text {\n            ","\n            ","\n        }\n\n        /* filter UI tabs */\n        .filter-ui.filter-links {\n            border-bottom: ",";\n            font-size: ",";\n        }\n        .filter-ui.filter-links a {\n            color: ",";\n        }\n        .filter-ui.filter-links a:hover {\n            color: ",";\n            font-weight: ",";\n        }\n        .filter-ui.filter-links a.active {\n            color: ",";\n            font-weight: ",";\n            border-bottom: ",";\n        }\n        /* filter UI select */\n        .filter-ui.filter-select {\n            background-color: ",";\n            border-radius: ",";\n            border: ",";\n            color: ",";\n            font-size: ",";\n            padding: ",";\n        }\n        /* filter UI timeline */\n        .filter-ui.filter-timescale .point {\n            border: ",";\n            background: ",";\n        }\n        .filter-ui.filter-timescale .point:hover {\n            background: ",";\n        }\n\n        .filter-ui.filter-timescale .point.active {\n            background: ",";\n            border: ",";\n        }\n\n        .filter-ui.filter-timescale .line {\n            background: ",";\n        }\n        .dw-tooltip {\n            /* d3-maps & d3-scatter-plot tooltips */\n            color: ",";\n        }\n\n        text.watermark {\n            opacity: ",";\n            ","\n        }\n    "])),i(omit(get_1(e,"typography.chart",{}),"fontWeight")),a("style.body.border.bottom"),a("style.body.border.left"),a("style.body.border.right"),a("style.body.border.top"),a("style.body.margin",0),a("style.body.padding"),r?"":"background: ".concat(a("style.body.background"),";"),n?"":"\n                a:not(.link-style-ignore) {\n                    ".concat(i(get_1(e,"typography.links"),{underlined:!1}),"\n                    border-bottom: ").concat(a("style.body.links.border.bottom"),";\n                    padding: ").concat(a("style.body.links.padding"),";\n                }\n\n                a:not(.link-style-ignore):hover {\n                    color: ").concat(a("typography.links.hoverColor"),";\n                }\n        "),toPixel$1(a("typography.chart.fontSize")),a("typography.chart.color","#333333"),a("typography.chart.color","#333333"),i(get_1(e,"vis.base.labels.values")),get_1(e,"vis.base.labels.values.tabularNums")?"\n                font-feature-settings: 'tnum';\n                -webkit-font-feature-settings: 'tnum';\n                -moz-font-feature-settings: 'tnum';":"",a("colors.background"),a("vis.base.labels.inside.inverted","#ffffff"),a("vis.base.labels.inside.normal","#333333"),s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,toPixel$1(a("typography.chart.fontSize")),i(get_1(e,"vis.base.labels.legend")),get_1(e,"vis.base.labels.legend.tabularNums")?"\n                font-feature-settings: 'tnum';\n                -webkit-font-feature-settings: 'tnum';\n                -moz-font-feature-settings: 'tnum';":"",a("style.filter.tabs.border.bottom","1px solid #ccc"),toPixel$1(a("style.filter.tabs.fontSize")),a("style.filter.tabs.color","#666"),a("style.filter.tabs.hover.color","#222"),a("style.filter.tabs.hover.fontWeight"),a("style.filter.tabs.active.color","#000"),a("style.filter.tabs.active.fontWeight","bold"),a("style.filter.tabs.active.border.bottom","2px solid #555"),a("colors.background","#ffffff"),a("style.filter.select.borderRadius","4px"),a("style.filter.select.border","1px solid #cccccc"),a("style.filter.select.textColor",a("typography.chart.color")),toPixel$1(a("typography.chart.fontSize")),a("style.filter.select.padding","4px 6px"),a("style.filter.point.buttons.border","1px solid #ccc"),a("style.filter.point.buttons.background",a("colors.background","#fff")),a("style.filter.point.buttons.hover.background","#ebebeb"),a("style.filter.point.buttons.active.background","#ccc"),a("style.filter.point.buttons.active.border","1px solid #888"),a("style.filter.point.line.color","#ccc"),a("vis.base.tooltip.text.color","#333333"),a("options.watermark.opacity"),i(omit(get_1(e,"options.watermark.typography",{}),"fontSize")))}function chartHeaderStyles(t,e){const{css:n,getProp:r}=getThemeStyleHelpers$1(t,e);return n(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n\n        &.has-header-right {\n            gap: ",";\n        }\n    "])),r("style.header.background"),r("style.header.border.bottom"),r("style.header.border.left"),r("style.header.border.right"),r("style.header.border.top"),r("style.header.margin"),r("style.header.padding"),r("style.header.textAlign"),toPixel$1(r("options.header.gap",25)))}function belowHeaderStyles(t,e){const{css:n,getProp:r}=getThemeStyleHelpers$1(t,e);return n(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n        background: ",";\n        text-align: ",";\n        margin: ",";\n        padding: ",";\n        margin-top: 0;\n        padding-top: 0;\n        margin-bottom: 0;\n        padding-bottom: 0;\n    "])),r("style.header.background"),r("style.header.textAlign"),r("style.header.margin"),r("style.header.padding"))}function chartBodyStyles(t,e){const{css:n,getProp:r}=getThemeStyleHelpers$1(t,e);return n(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        font-weight: ",";\n        margin: ",";\n        padding: ",";\n\n        &.dark-bg .label span {\n            color: ",";\n            fill: ",";\n        }\n\n        ","\n    "])),r("style.chart.background"),r("style.chart.border.bottom"),r("style.chart.border.left"),r("style.chart.border.right"),r("style.chart.border.top"),r("typography.chart.fontWeight"),r("style.chart.margin"),r("style.chart.padding"),r("typography.chart.color","#f1f1f1"),r("typography.chart.color","#f1f1f1"),get_1(e,"style.chart.margin")?"":"\n        &.content-below-chart {\n            margin: 0px 0px 20px 0px;\n        }")}function aboveFooterStyles(t,e){const{css:n,typography:r,getProp:o}=getThemeStyleHelpers$1(t,e);return n(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["\n        ","\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        text-align: ",";\n        margin: ",";\n        padding: ",";\n    "])),r(get_1(e,"typography.aboveFooter")),o("style.aboveFooter.background"),o("style.aboveFooter.border.bottom"),o("style.aboveFooter.border.left"),o("style.aboveFooter.border.right"),o("style.aboveFooter.border.top"),o("style.aboveFooter.textAlign"),o("style.aboveFooter.margin","0px 0px 5px 0px"),o("style.aboveFooter.padding"))}function chartFooterStyles(t,e,n){const{css:r,getProp:o,typography:a}=getThemeStyleHelpers$1(t,e);return r(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n        ","\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        align-items: ",";\n        gap: ",";\n\n        & > div > .footer-block a[href=''] {\n            /* empty links should look like text */\n            color: ",";\n        }\n\n        /** flex footer gaps **/\n        & .footer-left.layout-flex-row,\n        .footer-left.layout-flex-column {\n            gap: ",";\n        }\n        .footer-center.layout-flex-row,\n        .footer-center.layout-flex-column {\n            gap: ",";\n        }\n        .footer-right.layout-flex-row,\n        .footer-right.layout-flex-column {\n            gap: ",";\n        }\n        /** flex-row alignments **/\n        .footer-left.layout-flex-row {\n            align-items: ",";\n        }\n        .footer-center.layout-flex-row {\n            align-items: ",";\n        }\n        .footer-right.layout-flex-row {\n            align-items: ",";\n        }\n\n        .separator:before {\n            content: ",";\n        }\n        .separator {\n            margin: ",";\n        }\n        ","\n    "])),a(get_1(e,"typography.footer")),o("style.footer.background"),o("style.footer.border.bottom"),o("style.footer.border.left"),o("style.footer.border.right"),o("style.footer.border.top"),o("style.footer.margin"),o("style.footer.padding"),o("options.footer.alignItems","center"),toPixel$1(o("options.footer.gap")),o("typography.footer.color"),toPixel$1(o("options.footer.left.gap",5)),toPixel$1(o("options.footer.center.gap",5)),toPixel$1(o("options.footer.right.gap",5)),o("options.footer.left.alignItems"),o("options.footer.center.alignItems"),o("options.footer.right.alignItems"),o("options.footer.separator.text",'"•"'),o("options.footer.separator.margin"),n?"":"\n            a:not(.link-style-ignore) {\n                padding: ".concat(o("style.footer.links.padding"),";\n                border-bottom: ").concat(o("style.footer.links.border.bottom"),";\n                font-style: ").concat(get_1(e,"typography.footer.cursive")||get_1(e,"typography.links.cursive")?"italic":"normal",";\n            }\n            "))}function belowFooterStyles(t,e){const{css:n,getProp:r,typography:o}=getThemeStyleHelpers$1(t,e);return n(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n        ","\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n    "])),o(get_1(e,"typography.belowFooter")),r("style.belowFooter.background"),r("style.belowFooter.border.bottom"),r("style.belowFooter.border.left"),r("style.belowFooter.border.right"),r("style.belowFooter.border.top"),r("style.belowFooter.margin"),r("style.belowFooter.padding"),r("style.belowFooter.textAlign"))}const globalStylesCache=createCache({key:"global"});function updateGlobalStyles(t){globalStylesCache.sheet.flush(),globalStylesCache.inserted={},globalStylesCache.registered={};const e=serializeStyles([t],cache.registered);globalStylesCache.inserted[e.name]||globalStylesCache.insert("",e,globalStylesCache.sheet,!0)}function add_css$c(t){append_styles(t,"svelte-13lpkhe",".dw-chart-header{min-height:1px;position:relative;overflow:auto}.dw-chart-header .header-right.svelte-13lpkhe.svelte-13lpkhe{position:absolute;right:10px;z-index:20}.dw-chart-header.has-header-right.svelte-13lpkhe.svelte-13lpkhe{display:flex;justify-content:space-between}.dw-chart-header.has-header-right.has-menu.svelte-13lpkhe>.svelte-13lpkhe:last-child{margin-right:25px}.chart.dir-rtl .dw-chart-header,.chart.dir-rtl .dw-below-header,.chart.dir-rtl .dw-above-footer,.chart.dir-rtl .dw-below-footer,.chart.dir-rtl .dw-chart-footer.svelte-13lpkhe.svelte-13lpkhe{direction:rtl;unicode-bidi:embed}.dw-chart-footer.svelte-13lpkhe.svelte-13lpkhe{display:flex;justify-content:space-between}.dw-above-footer,.dw-below-footer{position:relative}.static.svelte-13lpkhe a{pointer-events:none;color:currentColor;text-decoration:none;font-weight:unset;font-style:unset}.chart.vis-height-fit .dw-chart-styles.svelte-13lpkhe.svelte-13lpkhe{overflow:hidden}.dw-after-body.svelte-13lpkhe.svelte-13lpkhe{position:absolute;left:0;top:0;right:0;height:0 !important}")}function get_each_context$5(t,e,n){const r=t.slice();return r[23]=e[n],r}function get_each_context_1(t,e,n){const r=t.slice();return r[26]=e[n],r}const get_visBody_slot_changes$1=t=>({visBodyStyles:16384&t,contentBelowChart:2&t}),get_visBody_slot_context$1=t=>({visBodyStyles:t[14],contentBelowChart:t[1]});function create_if_block_5(t){let e,n,r,o,a,i,s;const c=[create_if_block_7,create_else_block$9],l=[];function u(t,e){return t[10].headerRight.length?1:0}e=u(t),n=l[e]=c[e](t),o=new BlocksRegion({props:{name:"dw-below-header",blocks:t[10].belowHeader,emotion:t[3],styles:belowHeaderStyles}});let d=!t[12]&&create_if_block_6(t);return{c(){n.c(),r=space(),create_component(o.$$.fragment),a=space(),d&&d.c(),i=empty()},l(t){n.l(t),r=claim_space(t),claim_component(o.$$.fragment,t),a=claim_space(t),d&&d.l(t),i=empty()},m(t,n){l[e].m(t,n),insert_hydration(t,r,n),mount_component(o,t,n),insert_hydration(t,a,n),d&&d.m(t,n),insert_hydration(t,i,n),s=!0},p(t,a){let s=e;e=u(t),e===s?l[e].p(t,a):(group_outros(),transition_out(l[s],1,1,(()=>{l[s]=null})),check_outros(),n=l[e],n?n.p(t,a):(n=l[e]=c[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r));const p={};1024&a&&(p.blocks=t[10].belowHeader),8&a&&(p.emotion=t[3]),o.$set(p),t[12]?d&&(group_outros(),transition_out(d,1,1,(()=>{d=null})),check_outros()):d?(d.p(t,a),4096&a&&transition_in(d,1)):(d=create_if_block_6(t),d.c(),transition_in(d,1),d.m(i.parentNode,i))},i(t){s||(transition_in(n),transition_in(o.$$.fragment,t),transition_in(d),s=!0)},o(t){transition_out(n),transition_out(o.$$.fragment,t),transition_out(d),s=!1},d(t){l[e].d(t),t&&detach(r),destroy_component(o,t),t&&detach(a),d&&d.d(t),t&&detach(i)}}}function create_else_block$9(t){let e,n,r,o,a,i;return n=new BlocksRegion({props:{name:"dw-chart-header-left",emotion:t[3],blocks:t[10].header,id:"header"}}),o=new BlocksRegion({props:{name:"dw-chart-header-right",emotion:t[3],blocks:t[10].headerRight}}),{c(){e=element("div"),create_component(n.$$.fragment),r=space(),create_component(o.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var a=children(e);claim_component(n.$$.fragment,a),r=claim_space(a),claim_component(o.$$.fragment,a),a.forEach(detach),this.h()},h(){attr(e,"class",a="dw-chart-header has-header-right "+(t[3]?chartHeaderStyles(t[3],t[13]):"")+" svelte-13lpkhe"),toggle_class(e,"has-menu",!t[12]&&t[10].menu.length)},m(t,a){insert_hydration(t,e,a),mount_component(n,e,null),append_hydration(e,r),mount_component(o,e,null),i=!0},p(t,r){const s={};8&r&&(s.emotion=t[3]),1024&r&&(s.blocks=t[10].header),n.$set(s);const c={};8&r&&(c.emotion=t[3]),1024&r&&(c.blocks=t[10].headerRight),o.$set(c),(!i||8200&r&&a!==(a="dw-chart-header has-header-right "+(t[3]?chartHeaderStyles(t[3],t[13]):"")+" svelte-13lpkhe"))&&attr(e,"class",a),(!i||13320&r)&&toggle_class(e,"has-menu",!t[12]&&t[10].menu.length)},i(t){i||(transition_in(n.$$.fragment,t),transition_in(o.$$.fragment,t),i=!0)},o(t){transition_out(n.$$.fragment,t),transition_out(o.$$.fragment,t),i=!1},d(t){t&&detach(e),destroy_component(n),destroy_component(o)}}}function create_if_block_7(t){let e,n;return e=new BlocksRegion({props:{name:"dw-chart-header",blocks:t[10].header,id:"header",emotion:t[3],styles:chartHeaderStyles}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1024&n&&(r.blocks=t[10].header),8&n&&(r.emotion=t[3]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_6(t){let e,n;return e=new Menu$1({props:{name:"dw-chart-menu",props:t[16],blocks:t[10].menu,emotion:t[3]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};65536&n&&(r.props=t[16]),1024&n&&(r.blocks=t[10].menu),8&n&&(r.emotion=t[3]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_4$1(t){let e,n,r,o;const a=[t[4],{vis:t[9]},{textDirection:t[6]}];var i=FilterUI$1;function s(t){let e={};for(let t=0;t<a.length;t+=1)e=assign$1(e,a[t]);return{props:e}}return i&&(n=construct_svelte_component(i,s())),{c(){e=element("div"),n&&create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var r=children(e);n&&claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"class",r=null_to_empty(t[3]?belowHeaderStyles(t[3],t[13]):"")+" svelte-13lpkhe")},m(t,r){insert_hydration(t,e,r),n&&mount_component(n,e,null),o=!0},p(t,c){const l=592&c?get_spread_update(a,[16&c&&get_spread_object(t[4]),512&c&&{vis:t[9]},64&c&&{textDirection:t[6]}]):{};if(i!==(i=FilterUI$1)){if(n){group_outros();const t=n;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}i?(n=construct_svelte_component(i,s()),create_component(n.$$.fragment),transition_in(n.$$.fragment,1),mount_component(n,e,null)):n=null}else i&&n.$set(l);(!o||8200&c&&r!==(r=null_to_empty(t[3]?belowHeaderStyles(t[3],t[13]):"")+" svelte-13lpkhe"))&&attr(e,"class",r)},i(t){o||(n&&transition_in(n.$$.fragment,t),o=!0)},o(t){n&&transition_out(n.$$.fragment,t),o=!1},d(t){t&&detach(e),n&&destroy_component(n)}}}function create_if_block_3$2(t){let e,n,r=t[7].data.template.afterChart+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){128&n&&r!==(r=t[7].data.template.afterChart+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_if_block_2$5(t){let e,n,r,o;return n=new FooterInlineBlocksRegion({props:{alignment:"left",blocks:t[10].plainFooter,layout:t[15].Left,emotion:t[3]}}),{c(){e=element("div"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{id:!0,class:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"id","footer"),attr(e,"class",r="dw-chart-footer "+(t[3]?chartFooterStyles(t[3],t[13],t[12]):"")+" svelte-13lpkhe")},m(t,r){insert_hydration(t,e,r),mount_component(n,e,null),o=!0},p(t,a){const i={};1024&a&&(i.blocks=t[10].plainFooter),32768&a&&(i.layout=t[15].Left),8&a&&(i.emotion=t[3]),n.$set(i),(!o||12296&a&&r!==(r="dw-chart-footer "+(t[3]?chartFooterStyles(t[3],t[13],t[12]):"")+" svelte-13lpkhe"))&&attr(e,"class",r)},i(t){o||(transition_in(n.$$.fragment,t),o=!0)},o(t){transition_out(n.$$.fragment,t),o=!1},d(t){t&&detach(e),destroy_component(n)}}}function create_if_block_1$c(t){let e,n,r,o,a,i,s;e=new BlocksRegion({props:{name:"dw-above-footer",blocks:t[10].aboveFooter,emotion:t[3],styles:aboveFooterStyles}});let c=["Left","Center","Right"],l=[];for(let e=0;e<3;e+=1)l[e]=create_each_block_1(get_each_context_1(t,c,e));const u=t=>transition_out(l[t],1,1,(()=>{l[t]=null}));return i=new BlocksRegion({props:{name:"dw-below-footer",blocks:t[10].belowFooter,emotion:t[3],styles:belowFooterStyles}}),{c(){create_component(e.$$.fragment),n=space(),r=element("div");for(let t=0;t<3;t+=1)l[t].c();a=space(),create_component(i.$$.fragment),this.h()},l(t){claim_component(e.$$.fragment,t),n=claim_space(t),r=claim_element(t,"DIV",{id:!0,class:!0});var o=children(r);for(let t=0;t<3;t+=1)l[t].l(o);o.forEach(detach),a=claim_space(t),claim_component(i.$$.fragment,t),this.h()},h(){attr(r,"id","footer"),attr(r,"class",o="dw-chart-footer "+(t[3]?chartFooterStyles(t[3],t[13],t[12]):"")+" svelte-13lpkhe")},m(t,o){mount_component(e,t,o),insert_hydration(t,n,o),insert_hydration(t,r,o);for(let t=0;t<3;t+=1)l[t].m(r,null);insert_hydration(t,a,o),mount_component(i,t,o),s=!0},p(t,n){const a={};if(1024&n&&(a.blocks=t[10].aboveFooter),8&n&&(a.emotion=t[3]),e.$set(a),33800&n){let e;for(c=["Left","Center","Right"],e=0;e<3;e+=1){const o=get_each_context_1(t,c,e);l[e]?(l[e].p(o,n),transition_in(l[e],1)):(l[e]=create_each_block_1(o),l[e].c(),transition_in(l[e],1),l[e].m(r,null))}for(group_outros(),e=3;e<3;e+=1)u(e);check_outros()}(!s||12296&n&&o!==(o="dw-chart-footer "+(t[3]?chartFooterStyles(t[3],t[13],t[12]):"")+" svelte-13lpkhe"))&&attr(r,"class",o);const d={};1024&n&&(d.blocks=t[10].belowFooter),8&n&&(d.emotion=t[3]),i.$set(d)},i(t){if(!s){transition_in(e.$$.fragment,t);for(let t=0;t<3;t+=1)transition_in(l[t]);transition_in(i.$$.fragment,t),s=!0}},o(t){transition_out(e.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<3;t+=1)transition_out(l[t]);transition_out(i.$$.fragment,t),s=!1},d(t){destroy_component(e,t),t&&detach(n),t&&detach(r),destroy_each(l,t),t&&detach(a),destroy_component(i,t)}}}function create_each_block_1(t){let e,n;return e=new FooterInlineBlocksRegion({props:{alignment:t[26].toLowerCase(),blocks:t[10]["footer"+t[26]],layout:t[15][t[26]],emotion:t[3]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1024&n&&(r.blocks=t[10]["footer"+t[26]]),32768&n&&(r.layout=t[15][t[26]]),8&n&&(r.emotion=t[3]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_each_block$5(t){let e,n,r;var o=t[23].component;function a(t){return{props:{props:t[23].props}}}return o&&(e=construct_svelte_component(o,a(t))),{c(){e&&create_component(e.$$.fragment),n=empty()},l(t){e&&claim_component(e.$$.fragment,t),n=empty()},m(t,o){e&&mount_component(e,t,o),insert_hydration(t,n,o),r=!0},p(t,r){const i={};if(1024&r&&(i.props=t[23].props),o!==(o=t[23].component)){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}o?(e=construct_svelte_component(o,a(t)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,n.parentNode,n)):e=null}else o&&e.$set(i)},i(t){r||(e&&transition_in(e.$$.fragment,t),r=!0)},o(t){e&&transition_out(e.$$.fragment,t),r=!1},d(t){t&&detach(n),e&&destroy_component(e,t)}}}function create_if_block$o(t){let e,n;return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(r,o){e.m(t[2],r,o),insert_hydration(r,n,o)},p(t,n){4&n&&e.p(t[2])},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$H(t){let e,n,r,o,a,i,s,c,l,u,d,p,f=t[5]&&get_1(t[7],"data.template.afterChart"),h=!t[11]&&create_if_block_5(t),m=t[4]&&!t[12]&&create_if_block_4$1(t);const g=t[21].visBody,_=create_slot(g,t,t[20],get_visBody_slot_context$1);let y=f&&create_if_block_3$2(t);const b=[create_if_block_1$c,create_if_block_2$5],$=[];function v(t,e){return t[11]?t[10].plainFooter.length?1:-1:0}~(i=v(t))&&(s=$[i]=b[i](t));let k=t[10].afterBody,x=[];for(let e=0;e<k.length;e+=1)x[e]=create_each_block$5(get_each_context$5(t,k,e));const w=t=>transition_out(x[t],1,1,(()=>{x[t]=null}));let E=t[2]&&create_if_block$o(t);return{c(){e=element("div"),h&&h.c(),n=space(),m&&m.c(),r=space(),_&&_.c(),o=space(),y&&y.c(),a=space(),s&&s.c(),c=space(),l=element("div");for(let t=0;t<x.length;t+=1)x[t].c();u=space(),E&&E.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var i=children(e);h&&h.l(i),n=claim_space(i),m&&m.l(i),r=claim_space(i),_&&_.l(i),o=claim_space(i),y&&y.l(i),a=claim_space(i),s&&s.l(i),c=claim_space(i),l=claim_element(i,"DIV",{class:!0});var d=children(l);for(let t=0;t<x.length;t+=1)x[t].l(d);d.forEach(detach),u=claim_space(i),E&&E.l(i),i.forEach(detach),this.h()},h(){attr(l,"class","dw-after-body svelte-13lpkhe"),attr(e,"class",d="outer-container dw-chart-styles "+(t[3]?chartStyles(t[3],t[13],t[12],t[5]):"")+" svelte-13lpkhe"),toggle_class(e,"static",t[12])},m(s,d){insert_hydration(s,e,d),h&&h.m(e,null),append_hydration(e,n),m&&m.m(e,null),append_hydration(e,r),_&&_.m(e,null),append_hydration(e,o),y&&y.m(e,null),append_hydration(e,a),~i&&$[i].m(e,null),append_hydration(e,c),append_hydration(e,l);for(let t=0;t<x.length;t+=1)x[t].m(l,null);append_hydration(e,u),E&&E.m(e,null),t[22](e),p=!0},p(t,o){let[u]=o;t[11]?h&&(group_outros(),transition_out(h,1,1,(()=>{h=null})),check_outros()):h?(h.p(t,u),2048&u&&transition_in(h,1)):(h=create_if_block_5(t),h.c(),transition_in(h,1),h.m(e,n)),t[4]&&!t[12]?m?(m.p(t,u),4112&u&&transition_in(m,1)):(m=create_if_block_4$1(t),m.c(),transition_in(m,1),m.m(e,r)):m&&(group_outros(),transition_out(m,1,1,(()=>{m=null})),check_outros()),_&&_.p&&(!p||1064962&u)&&update_slot_base(_,g,t,t[20],p?get_slot_changes(g,t[20],u,get_visBody_slot_changes$1):get_all_dirty_from_scope(t[20]),get_visBody_slot_context$1),160&u&&(f=t[5]&&get_1(t[7],"data.template.afterChart")),f?y?y.p(t,u):(y=create_if_block_3$2(t),y.c(),y.m(e,a)):y&&(y.d(1),y=null);let T=i;if(i=v(t),i===T?~i&&$[i].p(t,u):(s&&(group_outros(),transition_out($[T],1,1,(()=>{$[T]=null})),check_outros()),~i?(s=$[i],s?s.p(t,u):(s=$[i]=b[i](t),s.c()),transition_in(s,1),s.m(e,c)):s=null),1024&u){let e;for(k=t[10].afterBody,e=0;e<k.length;e+=1){const n=get_each_context$5(t,k,e);x[e]?(x[e].p(n,u),transition_in(x[e],1)):(x[e]=create_each_block$5(n),x[e].c(),transition_in(x[e],1),x[e].m(l,null))}for(group_outros(),e=k.length;e<x.length;e+=1)w(e);check_outros()}t[2]?E?E.p(t,u):(E=create_if_block$o(t),E.c(),E.m(e,null)):E&&(E.d(1),E=null),(!p||12328&u&&d!==(d="outer-container dw-chart-styles "+(t[3]?chartStyles(t[3],t[13],t[12],t[5]):"")+" svelte-13lpkhe"))&&attr(e,"class",d),(!p||12328&u)&&toggle_class(e,"static",t[12])},i(t){if(!p){transition_in(h),transition_in(m),transition_in(_,t),transition_in(s);for(let t=0;t<k.length;t+=1)transition_in(x[t]);p=!0}},o(t){transition_out(h),transition_out(m),transition_out(_,t),transition_out(s),x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)transition_out(x[t]);p=!1},d(n){n&&detach(e),h&&h.d(),m&&m.d(),_&&_.d(n),y&&y.d(),~i&&$[i].d(),destroy_each(x,n),E&&E.d(),t[22](null)}}}function byPriority(t,e){return(void 0!==t.priority?t.priority:999)-(void 0!==e.priority?e.priority:999)}function getBlocks(t,e,n){return t.filter((t=>t.region===e)).filter((t=>!t.test||t.test({...t.props,...n}))).filter((t=>void 0===t.visible||t.visible)).sort(byPriority)}function instance$H(t,e,n){let r,o,a,i,s,c,l,u=noop$1,d=()=>(u(),u=subscribe(w,(t=>n(13,l=t))),w);t.$$.on_destroy.push((()=>u()));let{$$slots:p={},$$scope:f}=e,{container:h}=e,{allBlocks:m}=e,{chart:g}=e,{chartAfterBodyHTML:_}=e,{emotion:y}=e,{filterUI:b}=e,{isIframe:$}=e,{renderFlags:v}=e,{textDirection:k}=e,{theme:x}=e,{themeData:w}=e;d();let{vis:E}=e,{contentBelowChart:T}=e;return t.$$set=t=>{"container"in t&&n(0,h=t.container),"allBlocks"in t&&n(17,m=t.allBlocks),"chart"in t&&n(18,g=t.chart),"chartAfterBodyHTML"in t&&n(2,_=t.chartAfterBodyHTML),"emotion"in t&&n(3,y=t.emotion),"filterUI"in t&&n(4,b=t.filterUI),"isIframe"in t&&n(5,$=t.isIframe),"renderFlags"in t&&n(19,v=t.renderFlags),"textDirection"in t&&n(6,k=t.textDirection),"theme"in t&&n(7,x=t.theme),"themeData"in t&&d(n(8,w=t.themeData)),"vis"in t&&n(9,E=t.vis),"contentBelowChart"in t&&n(1,T=t.contentBelowChart),"$$scope"in t&&n(20,f=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty&&n(11,r=v.plain),524288&t.$$.dirty&&n(12,o=v.static),929792&t.$$.dirty&&n(10,a={header:getBlocks(m,"header",{chart:g,themeData:l,isStyleStatic:o}),headerRight:getBlocks(m,"headerRight",{chart:g,themeData:l,isStyleStatic:o}),belowHeader:getBlocks(m,"belowHeader",{chart:g,themeData:l,isStyleStatic:o}),aboveFooter:getBlocks(m,"aboveFooter",{chart:g,themeData:l,isStyleStatic:o}),plainFooter:getBlocks(m,"plainFooter",{chart:g,themeData:l,flags:v}),footerLeft:getBlocks(m,"footerLeft",{chart:g,themeData:l,isStyleStatic:o}),footerCenter:getBlocks(m,"footerCenter",{chart:g,themeData:l,isStyleStatic:o}),footerRight:getBlocks(m,"footerRight",{chart:g,themeData:l,isStyleStatic:o}),belowFooter:getBlocks(m,"belowFooter",{chart:g,themeData:l,isStyleStatic:o}),afterBody:getBlocks(m,"afterBody",{chart:g,themeData:l,isStyleStatic:o}),menu:getBlocks(m,"menu",{chart:g,themeData:l,isStyleStatic:o})}),8192&t.$$.dirty&&n(16,i=get_1(l,"options.menu",{})),3072&t.$$.dirty&&n(1,T=r?a.plainFooter.length:a.aboveFooter.length||a.footerLeft.length||a.footerCenter.length||a.footerRight.length||a.belowFooter.length||a.afterBody.length),8192&t.$$.dirty&&n(15,s={Left:get_1(l,"options.footer.left.layout","inline"),Center:get_1(l,"options.footer.center.layout","inline"),Right:get_1(l,"options.footer.right.layout","inline")}),8200&t.$$.dirty&&n(14,c=chartBodyStyles(y,l))},[h,T,_,y,b,$,k,x,w,E,a,r,o,l,c,s,i,m,g,v,f,p,function(t){binding_callbacks[t?"unshift":"push"]((()=>{h=t,n(0,h)}))}]}class VisContainer$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$H,create_fragment$H,safe_not_equal,{container:0,allBlocks:17,chart:18,chartAfterBodyHTML:2,emotion:3,filterUI:4,isIframe:5,renderFlags:19,textDirection:6,theme:7,themeData:8,vis:9,contentBelowChart:1},add_css$c)}}var download$1={exports:{}};!function(t,e){t.exports=function t(e,n,r){var o,a,i=window,s="application/octet-stream",c=r||s,l=e,u=!n&&!r&&l,d=document.createElement("a"),p=function(t){return String(t)},f=i.Blob||i.MozBlob||i.WebKitBlob||p,h=n||"download";if(f=f.call?f.bind(i):Blob,"true"===String(this)&&(c=(l=[l,c])[0],l=l[1]),u&&u.length<2048&&(h=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,h,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&f!==p))return navigator.msSaveBlob?navigator.msSaveBlob(b(l),h):$(l);c=(l=b(l)).type||s}else if(/([\x80-\xff])/.test(l)){for(var g=0,_=new Uint8Array(l.length),y=_.length;g<y;++g)_[g]=l.charCodeAt(g);l=new f([_],{type:c})}function b(t){for(var e=t.split(/[:;,]/),n=e[1],r=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=r.length,a=0,i=new Uint8Array(o);a<o;++a)i[a]=r.charCodeAt(a);return new f([i],{type:n})}function $(t,e){if("download"in d)return d.href=t,d.setAttribute("download",h),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===e&&setTimeout((function(){i.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=l instanceof f?l:new f([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,h);if(i.URL)$(i.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===p)try{return $("data:"+c+";base64,"+i.btoa(o))}catch(t){return $("data:"+c+","+encodeURIComponent(o))}(a=new FileReader).onload=function(t){$(this.result)},a.readAsDataURL(o)}return!0}}(download$1);var downloadjs=download$1.exports;const UNDEFINED_STYLE="%UNDEFINED%";function getThemeStyleHelpers(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{getProp:(t,o)=>getObjProp(get_1(e,["blocks",n,"styles",...r?Array.isArray(r)?r:[r]:[]],{}),t,o),css:function(){return t.css(cssTemplate(...arguments))}}}function cssTemplate(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter((t=>t)).filter((t=>!t.includes(UNDEFINED_STYLE))).join("\n")}function getObjProp(t,e,n){return get_1(t,e,void 0===n?UNDEFINED_STYLE:n)}function fourSides(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e||"number"==typeof e)return"".concat(t.replace("-%",""),": ").concat(n?toPixel(e):e,";");if(e){const r=[];for(const o of["top","bottom","left","right"])void 0!==e[o]&&r.push("".concat(t.replace("%",o),": ").concat(n?toPixel(e[o]):e[o],";"));return r.join("\n")}}function fourCorners(t,e){if("string"==typeof e||"number"==typeof e)return"".concat(t.replace("-%",""),": ").concat(toPixel(e),";");if(e){const n=[],r={topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right"};for(const[o,a]of Object.entries(r))void 0!==e[o]&&n.push("".concat(t.replace("-%","-".concat(a)),": ").concat(toPixel(e[o]),";"));return n.join("\n")}}function margins(t){return fourSides("margin-%",t("margin","0"),!0)}function paddings(t){return fourSides("padding-%",t("padding","0"),!0)}function sharedContainerStyles(t){return"\n\tbackground: ".concat(t("background"),";\n\t\n    ").concat(fourSides("margin-%",t("margin","0"),!0),"\n    ").concat(fourSides("padding-%",t("padding","0"),!0),"\n    ").concat(fourSides("border-%",t("border","none"),!0),"\n    ").concat(fourCorners("border-%-radius",t("borderRadius")),"\n\t\n    text-align: ").concat(t("textAlign"),";\n    width: ").concat(t("width"),";\n    max-width: ").concat(t("maxWidth"),";\n    min-width: ").concat(t("minWidth"),";\n    white-space: ").concat(t("whiteSpace"),";\n    flex-grow: ").concat(t("flexGrow"),";\n    align-self: ").concat(t("alignSelf"),";\n\t")}const TYPOGRAPHY_PROPS={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{transform:t=>toPixel(t),prop:"letter-spacing"},fontSize:{prop:"font-size",transform:t=>toPixel(t)},lineHeight:{prop:"line-height",transform:t=>lineHeight(t)},underlined:{prop:"text-decoration",transform:t=>t?"underline":"none"},tabularNums:{prop:"font-variant-numeric",transform:t=>t?"tabular-nums":"proportional-nums"},cursive:{prop:"font-style",transform:t=>t?"italic":"normal"}};function typography(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return typographyStyles(get_1(t,["blocks",e,"styles",...r?Array.isArray(r)?r:[r]:[],"typography"],{}),n)}function typographyStyles(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(TYPOGRAPHY_PROPS).filter((n=>{let[r]=n;return has(t,r)||has(e,r)})).map((n=>{let[r,{prop:o,transform:a=identity$1}]=n;const i=get_1(t,r,e[r]);return"".concat(o,": ").concat(a(i),";")})).join("\n")}function linkStyles(t,e,n){const r="a"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"div")?"&&&":"a:not(.link-style-ignore)";return"\n    ".concat(r," {\n        ").concat(typography(e,n,{},"links"),"\n        background: ").concat(t("links.background"),";\n        ").concat(fourSides("padding-%",t("links.padding"),!0),"\n        ").concat(fourSides("border-%",t("links.border"),!1),"\n        ").concat(fourCorners("border-%-radius",t("links.borderRadius")),"\n    }\n     ").concat(r,":hover, ").concat(r,":focus {\n        color: ").concat(t("links.hover.color"),";\n        background: ").concat(t("links.hover.background"),";\n        ").concat(fourSides("border-%-color",t("links.hover.borderColor")),"\n    }\n    ")}function toPixel(t){return t===UNDEFINED_STYLE?t:Number.isFinite(t)?"".concat(t,"px"):"string"==typeof t?t:UNDEFINED_STYLE}function lineHeight(t){return t===UNDEFINED_STYLE?t:t>3?"".concat(t,"px"):String(t)}const DEFAULT_ALLOWED=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"];function clean(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return purifyHtml(t,e.length?[...DEFAULT_ALLOWED,...e]:DEFAULT_ALLOWED)}function visStyles(t){const e=(e,n)=>getObjProp(get_1(t,"vis.base.labels",{}),e,n),n=getObjProp(t,"colors.background");return"\n        .label.value, .label.value span {\n            ".concat(typographyStyles(get_1(t,"vis.base.labels.values",{})),"\n        }\n        .label.series, .label.series span {\n            ").concat(typographyStyles(get_1(t,"vis.base.labels.series",{})),"\n        }\n        .label.legend-text, .label.legend-text span {\n            ").concat(typographyStyles(get_1(t,"vis.base.labels.legend",{})),"\n        }\n        .label span {\n            text-shadow: 0 0 2px ").concat(n,";\n        }\n\n        .label.inverted span {\n            text-shadow: 0 0px 2px #000000;\n            color: ").concat(e("inside.inverted","#ffffff"),";\n        }\n\n        .label.inside:not(.inverted) span {\n            text-shadow: 0 0px 2px #ffffff;\n            color: ").concat(e("inside.normal","#333333"),";\n        }\n\n        .label.outline span {\n            text-shadow: 0 1px 0 ").concat(n,", 1px 0 0 ").concat(n,", 0 -1px 0 ").concat(n,", -1px 0 0 ").concat(n,",\n                1px 1px 0 ").concat(n,", 1px -1px 0 ").concat(n,", -1px -1px 0 ").concat(n,", -1px 1px 0 ").concat(n,",\n                0 2px 1px ").concat(n,", 2px 0 1px ").concat(n,", 0 -2px 1px ").concat(n,", -2px 0 1px ").concat(n,",\n                -1px 2px 0px ").concat(n,", 2px -1px 0px ").concat(n,", -1px -2px 0px ").concat(n,",\n                -2px -1px 0px ").concat(n,", 1px 2px 0px ").concat(n,", 2px 1px 0px ").concat(n,",\n                1px -2px 0px ").concat(n,", -2px 1px 0px ").concat(n,";\n        }\n\n        .label sup {\n            text-shadow: none;\n        }\n\n        .label.highlighted {\n            font-weight: bold;\n        }\n\n        .label.highlighted,\n        .label.axis {\n            z-index: 100;\n        }\n\n        .label.hover {\n            font-weight: bold;\n        }\n\n        .label.smaller span {\n            font-size: 80%;\n        }\n        .dw-tooltip { \n            /* d3-maps & d3-scatter-plot tooltips */ \n            color: ").concat(getObjProp(t,"vis.base.tooltip.text.color","#333333"),"; \n        } \n    ")}var _templateObject$e;function create_if_block_3$1(t){let e,n=clean(t[10])+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","prepend")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){1024&r[0]&&n!==(n=clean(t[10])+"")&&(e.innerHTML=n)},d(t){t&&detach(e)}}}function create_if_block_1$b(t){let e,n,r,o=t[17].default&&create_if_block_2$4();return{c(){e=element("span"),n=text(t[11]),o&&o.c(),r=empty(),this.h()},l(a){e=claim_element(a,"SPAN",{class:!0});var i=children(e);n=claim_text(i,t[11]),i.forEach(detach),o&&o.l(a),r=empty(),this.h()},h(){attr(e,"class","caption")},m(t,a){insert_hydration(t,e,a),append_hydration(e,n),o&&o.m(t,a),insert_hydration(t,r,a)},p(t,e){2048&e[0]&&set_data(n,t[11]),t[17].default?o||(o=create_if_block_2$4(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&detach(e),o&&o.d(t),t&&detach(r)}}}function create_if_block_2$4(t){let e;return{c(){e=text(" ")},l(t){e=claim_text(t," ")},m(t,n){insert_hydration(t,e,n)},d(t){t&&detach(e)}}}function create_if_block$n(t){let e,n=clean(t[9])+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","append")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){512&r[0]&&n!==(n=clean(t[9])+"")&&(e.innerHTML=n)},d(t){t&&detach(e)}}}function create_dynamic_element(t){let e,n,r,o,a,i,s,c,l,u=t[10]&&create_if_block_3$1(t),d=t[6]&&t[11]&&create_if_block_1$b(t);const p=t[28].default,f=create_slot(p,t,t[27],null);let h=t[9]&&create_if_block$n(t),m=[{href:t[3]},{class:o=(t[5]?"":"block-".concat(t[1]))+" "+t[12]+" "+t[7]},t[4],{"data-block-id":a=t[8].dev?t[0]:null},{"data-block-type":i=t[8].dev?t[2]:null}],g={};for(let t=0;t<m.length;t+=1)g=assign$1(g,m[t]);return{c(){e=element(t[13]),u&&u.c(),n=empty(),d&&d.c(),r=empty(),f&&f.c(),h&&h.c(),this.h()},l(o){e=claim_element(o,(t[13]||"null").toUpperCase(),{href:!0,class:!0,"data-block-id":!0,"data-block-type":!0});var a=children(e);u&&u.l(a),n=empty(),d&&d.l(a),r=empty(),f&&f.l(a),h&&h.l(a),a.forEach(detach),this.h()},h(){/-/.test(t[13])?set_custom_element_data_map(e,g):set_attributes(e,g)},m(o,a){insert_hydration(o,e,a),u&&u.m(e,null),append_hydration(e,n),d&&d.m(e,null),append_hydration(e,r),f&&f.m(e,null),h&&h.m(e,null),s=!0,c||(l=[listen(e,"click",t[29]),listen(e,"keypress",t[30])],c=!0)},p(t,c){t[10]?u?u.p(t,c):(u=create_if_block_3$1(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),t[6]&&t[11]?d?d.p(t,c):(d=create_if_block_1$b(t),d.c(),d.m(e,r)):d&&(d.d(1),d=null),f&&f.p&&(!s||134217728&c[0])&&update_slot_base(f,p,t,t[27],s?get_slot_changes(p,t[27],c,null):get_all_dirty_from_scope(t[27]),null),t[9]?h?h.p(t,c):(h=create_if_block$n(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null),g=get_spread_update(m,[(!s||8&c[0])&&{href:t[3]},(!s||4258&c[0]&&o!==(o=(t[5]?"":"block-".concat(t[1]))+" "+t[12]+" "+t[7]))&&{class:o},16&c[0]&&t[4],(!s||257&c[0]&&a!==(a=t[8].dev?t[0]:null))&&{"data-block-id":a},(!s||260&c[0]&&i!==(i=t[8].dev?t[2]:null))&&{"data-block-type":i}]),/-/.test(t[13])?set_custom_element_data_map(e,g):set_attributes(e,g)},i(t){s||(transition_in(f,t),s=!0)},o(t){transition_out(f,t),s=!1},d(t){t&&detach(e),u&&u.d(),d&&d.d(),f&&f.d(t),h&&h.d(),c=!1,run_all(l)}}}function create_fragment$G(t){let e,n,r=t[13],o=t[13]&&create_dynamic_element(t);return{c(){o&&o.c(),e=empty()},l(t){o&&o.l(t),e=empty()},m(t,r){o&&o.m(t,r),insert_hydration(t,e,r),n=!0},p(t,n){t[13]?r?safe_not_equal(r,t[13])?(o.d(1),o=create_dynamic_element(t),o.c(),o.m(e.parentNode,e)):o.p(t,n):(o=create_dynamic_element(t),o.c(),o.m(e.parentNode,e)):r&&(o.d(1),o=null),r=t[13]},i(t){n||(transition_in(o),n=!0)},o(t){transition_out(o),n=!1},d(t){t&&detach(e),o&&o.d(t)}}}function instance$G(t,e,n){let r,o,a,i,s,c,l,u,d,p,f,h,m,{$$slots:g={},$$scope:_}=e;const y=compute_slots(g),{themeData:b,chart:$,emotion:v,__:k,flags:x}=getContext("visContainer");component_subscribe(t,b,(t=>n(25,f=t))),component_subscribe(t,$,(t=>n(26,h=t))),component_subscribe(t,x,(t=>n(8,m=t)));let{id:w}=e,{key:E}=e,{type:T}=e,{tag:S}=e,{href:M=null}=e,{extraAttributes:A={}}=e,{skipBlockClass:C=!1}=e,{supportsCaption:D=!1}=e,{defaultCaption:O=""}=e,{class:N=""}=e;return t.$$set=t=>{"id"in t&&n(0,w=t.id),"key"in t&&n(1,E=t.key),"type"in t&&n(2,T=t.type),"tag"in t&&n(18,S=t.tag),"href"in t&&n(3,M=t.href),"extraAttributes"in t&&n(4,A=t.extraAttributes),"skipBlockClass"in t&&n(5,C=t.skipBlockClass),"supportsCaption"in t&&n(6,D=t.supportsCaption),"defaultCaption"in t&&n(19,O=t.defaultCaption),"class"in t&&n(7,N=t.class),"$$scope"in t&&n(27,_=t.$$scope)},t.$$.update=()=>{33554434&t.$$.dirty[0]&&n(23,({getProp:r,css:o}=getThemeStyleHelpers(v,f,E)),r,(n(24,o),n(25,f),n(1,E))),33816578&t.$$.dirty[0]&&n(13,a=get_1(f,["blocks",E,"options","tag"],S)),58982658&t.$$.dirty[0]&&n(12,i="function"==typeof o?o(_templateObject$e||(_templateObject$e=_taggedTemplateLiteral(["\n                  ","\n                  ","\n                  ","\n                  white-space: ",";\n                  > .prepend {\n                      ","\n                  }\n                  > .append {\n                      ","\n                  }\n                  > .caption {\n                      ","\n                      min-width: ",";\n                      ","\n                  }\n              "])),typography(f,E),m.static?"":linkStyles(r,f,E,S),sharedContainerStyles(r),r("white-space"),typography(f,E,{},"prepend"),typography(f,E,{},"append"),typography(f,E,{},"caption"),toPixel(r("caption.minWidth")),r("caption.minWidth",!1)?"display: inline-block;":""):""),33554434&t.$$.dirty[0]&&n(22,s=get_1(f,"blocks.".concat(E,".options.captionKey"),null)),71303168&t.$$.dirty[0]&&n(21,c=s?get_1(h,"metadata.custom.".concat(s)):null),33554434&t.$$.dirty[0]&&n(20,l=get_1(f,"blocks.".concat(E,".options.caption"),null)),3670016&t.$$.dirty[0]&&n(11,u=null!==c?c:null!==l&&"string"==typeof l?k(l):O),33554434&t.$$.dirty[0]&&n(10,d=get_1(f,"blocks.".concat(E,".options.prepend"),null)),33554434&t.$$.dirty[0]&&n(9,p=get_1(f,"blocks.".concat(E,".options.append"),null))},[w,E,T,M,A,C,D,N,m,p,d,u,i,a,b,$,x,y,S,O,l,c,s,r,o,f,h,_,g,function(e){bubble.call(this,t,e)},function(e){bubble.call(this,t,e)}]}class TextBlock extends SvelteComponent{constructor(t){super(),init(this,t,instance$G,create_fragment$G,safe_not_equal,{id:0,key:1,type:2,tag:18,href:3,extraAttributes:4,skipBlockClass:5,supportsCaption:6,defaultCaption:19,class:7},null,[-1,-1])}}var DEFAULT_IMAGE_FORMATS=[{filename:"plain-s",zoom:2,format:"png",width:600,height:300,borderWidth:30,plain:!0},{filename:"plain",zoom:2,format:"png",width:600,height:"auto",borderWidth:10,plain:!0},{filename:"full",zoom:2,format:"png",width:600,height:"auto",borderWidth:10,plain:!1}],_templateObject$d,_templateObject$c;function _await$3(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function _async$3(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function create_fragment$F(t){let e,n;return e=new TextBlock({props:{tag:"a",href:t[5],extraAttributes:{"data-dst":t[4]},supportsCaption:!0,defaultCaption:t[8]("blocks / download-".concat("png"===t[3]?"image":t[3])),id:t[0],key:t[1],type:t[2]}}),e.$on("click",t[12]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};32&r&&(o.href=t[5]),16&r&&(o.extraAttributes={"data-dst":t[4]}),8&r&&(o.defaultCaption=t[8]("blocks / download-".concat("png"===t[3]?"image":t[3]))),1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function isDatawrapperEditor(){let t=!1;try{t=window.parent&&window.parent!==window.self&&window.parent.dw&&window.parent.dw.backend}catch(t){}return t}function instance$F(t,e,n){const r=_async$3((function(t){if(t.preventDefault(),l&&l("download",{type:a}),!isDatawrapperEditor())return _await$3(fetch(s),(function(t){return _await$3(t.blob(),(function(t){downloadjs(t,c,"image/".concat(a))}))}))}));let o,a,i,s,c,l,u,d,p,f;const{chart:h,entitlements:m,__:g,postEvent:_,teamPublicSettings:y,visualization:b}=getContext("visContainer");component_subscribe(t,h,(t=>n(16,d=t))),component_subscribe(t,m,(t=>n(17,p=t))),component_subscribe(t,_,(t=>n(19,l=t))),component_subscribe(t,y,(t=>n(15,u=t))),component_subscribe(t,b,(t=>n(18,f=t)));let{id:$}=e,{key:v}=e,{type:k}=e;return t.$$set=t=>{"id"in t&&n(0,$=t.id),"key"in t&&n(1,v=t.key),"type"in t&&n(2,k=t.type)},t.$$.update=()=>{262144&t.$$.dirty&&n(13,o=f?f.libraries().dayjs:null),4&t.$$.dirty&&n(3,a="downloadImage"===k?"png":k.replace("download","").toLowerCase()),163840&t.$$.dirty&&n(14,i=function(t,e){const n=get_1(t,"publishFormats",[]);let r=get_1(t,"downloadImageFormat","full");const o=DEFAULT_IMAGE_FORMATS.concat(n);o.find(i)||(r="full");const a={png:{...o.find(i)}};return e.allowPrintExport&&["svg","pdf"].forEach((t=>{const e=n.find((e=>e.format===t&&"full"===e.filename));a[t]={...e||{filename:"full",format:t}}})),Object.fromEntries(Object.entries(a).map((t=>{let[e,{filename:n}]=t;return[e,n]})));function i(t){let{filename:e,format:n}=t;return e===r&&"png"===n}}(u,p)),81928&t.$$.dirty&&n(5,s=d.publicUrl?"".concat(d.publicUrl.split("/".concat(d.publicId,"/"))[0],"/").concat(d.publicId,"/").concat(i[a],".").concat(a):"".concat(i[a],".").concat(a)),106504&t.$$.dirty&&n(4,c="".concat(getDestinationFilename({chart:d,teamPublicSettings:u,dayjs:o}),".").concat(a))},[$,v,k,a,c,s,h,m,g,_,y,b,r,o,i,u,d,p,f]}class DownloadImage extends SvelteComponent{constructor(t){super(),init(this,t,instance$F,create_fragment$F,safe_not_equal,{id:0,key:1,type:2})}}function create_default_slot$a(t){let e,n,r;return{c(){e=element("a"),n=text("Datawrapper"),this.h()},l(t){e=claim_element(t,"A",{href:!0,target:!0,rel:!0});var r=children(e);n=claim_text(r,"Datawrapper"),r.forEach(detach),this.h()},h(){attr(e,"href",r="https://www.datawrapper.de/_/"+t[3].id),attr(e,"target","_blank"),attr(e,"rel","noreferrer")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},p(t,n){8&n&&r!==(r="https://www.datawrapper.de/_/"+t[3].id)&&attr(e,"href",r)},d(t){t&&detach(e)}}}function create_fragment$E(t){let e,n;return e=new TextBlock({props:{id:t[0],key:t[1],type:t[2],tag:"span",supportsCaption:!0,defaultCaption:t[5]("blocks / attribution"),$$slots:{default:[create_default_slot$a]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),72&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$E(t,e,n){let r,{id:o}=e,{key:a}=e,{type:i}=e;const{chart:s,__:c}=getContext("visContainer");return component_subscribe(t,s,(t=>n(3,r=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"key"in t&&n(1,a=t.key),"type"in t&&n(2,i=t.type)},[o,a,i,r,s,c]}class Attribution extends SvelteComponent{constructor(t){super(),init(this,t,instance$E,create_fragment$E,safe_not_equal,{id:0,key:1,type:2})}}function _await$2(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function _async$2(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function create_else_block$8(t){let e,n=clean(t[3],t[1])+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class",t[0])},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){10&r&&n!==(n=clean(t[3],t[1])+"")&&(e.innerHTML=n),1&r&&attr(e,"class",t[0])},d(t){t&&detach(e)}}}function create_if_block$m(t){let e,n,r;return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0,contenteditable:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class",t[0]),attr(e,"contenteditable",""),void 0===t[3]&&add_render_callback((()=>t[15].call(e)))},m(o,a){insert_hydration(o,e,a),t[14](e),void 0!==t[3]&&(e.innerHTML=t[3]),n||(r=[listen(e,"input",t[15]),listen(e,"keydown",t[8]),listen(e,"focus",t[9]),listen(e,"blur",t[10])],n=!0)},p(t,n){1&n&&attr(e,"class",t[0]),8&n&&t[3]!==e.innerHTML&&(e.innerHTML=t[3])},d(o){o&&detach(e),t[14](null),n=!1,run_all(r)}}}function create_fragment$D(t){let e;function n(t,e){return t[4].allowEditing?create_if_block$m:create_else_block$8}let r=n(t),o=r(t);return{c(){o.c(),e=empty()},l(t){o.l(t),e=empty()},m(t,n){o.m(t,n),insert_hydration(t,e,n)},p(t,a){let[i]=a;r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},i:noop$1,o:noop$1,d(t){o.d(t),t&&detach(e)}}}function instance$D(t,e,n){const r=_async$2((function(){const t=clean(_.trim().replace(/<br ?\/?>$/i,"").replace(/contenteditable="(?:true)?"/g,""),m);return t!==p&&function(t,e){set(i,t,e),c.set(i),a&&a("editor:patch:chart",{key:t,value:e})}(f,t),n(12,g=!1),_await$2()})),o=_async$2((function(){return p=clean(get_1(i,f)),n(12,g=!0),_await$2()}));let a,i,s;const{chart:c,flags:l,postEvent:u}=getContext("visContainer");component_subscribe(t,c,(t=>n(13,i=t))),component_subscribe(t,l,(t=>n(4,s=t))),component_subscribe(t,u,(t=>n(17,a=t)));let d,p,{key:f}=e,{class:h=null}=e,{additionalAllowedTags:m=[]}=e,g=!1;let _=clean(get_1(i,f),m);return t.$$set=t=>{"key"in t&&n(11,f=t.key),"class"in t&&n(0,h=t.class),"additionalAllowedTags"in t&&n(1,m=t.additionalAllowedTags)},t.$$.update=()=>{14338&t.$$.dirty&&(g||n(3,_=clean(get_1(i,f),m)))},[h,m,d,_,s,c,l,u,function(t){"Enter"===t.key&&(t.preventDefault(),d.blur()),"Escape"===t.key&&(n(3,_=p),t.preventDefault(),d.blur())},o,r,f,g,i,function(t){binding_callbacks[t?"unshift":"push"]((()=>{d=t,n(2,d)}))},function(){_=this.innerHTML,n(3,_),n(12,g),n(13,i),n(11,f),n(1,m)}]}class InlineEditable extends SvelteComponent{constructor(t){super(),init(this,t,instance$D,create_fragment$D,safe_not_equal,{key:11,class:0,additionalAllowedTags:1})}}function create_if_block$l(t){let e,n,r=clean(t[4])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){16&n&&r!==(r=clean(t[4])+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_default_slot$9(t){let e,n,r;e=new InlineEditable({props:{key:"metadata.describe.byline"}});let o=t[3].basedOnByline&&create_if_block$l(t);return{c(){create_component(e.$$.fragment),o&&o.c(),n=empty()},l(t){claim_component(e.$$.fragment,t),o&&o.l(t),n=empty()},m(t,a){mount_component(e,t,a),o&&o.m(t,a),insert_hydration(t,n,a),r=!0},p(t,e){t[3].basedOnByline?o?o.p(t,e):(o=create_if_block$l(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i(t){r||(transition_in(e.$$.fragment,t),r=!0)},o(t){transition_out(e.$$.fragment,t),r=!1},d(t){destroy_component(e,t),o&&o.d(t),t&&detach(n)}}}function create_fragment$C(t){let e,n;return e=new TextBlock({props:{tag:"span",id:t[0],key:t[1],type:t[2],defaultCaption:t[5],supportsCaption:!0,$$slots:{default:[create_default_slot$9]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),32&r&&(o.defaultCaption=t[5]),65560&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$C(t,e,n){let r,o,a,i,s,c,l,u,d;const{chart:p,themeData:f,__:h,visualization:m}=getContext("visContainer");component_subscribe(t,p,(t=>n(3,l=t))),component_subscribe(t,f,(t=>n(13,u=t))),component_subscribe(t,m,(t=>n(14,d=t)));let{id:g}=e,{key:_}=e,{type:y}=e;return t.$$set=t=>{"id"in t&&n(0,g=t.id),"key"in t&&n(1,_=t.key),"type"in t&&n(2,y=t.type)},t.$$.update=()=>{16384&t.$$.dirty&&n(12,r=d?getVisCaption(d.meta.id):"chart"),12290&t.$$.dirty&&n(5,o=h(get_1(u,["blocks",_,"options","caption",r],"blocks / byline / ".concat(r)))),8&t.$$.dirty&&n(11,a=get_1(l,"metadata.describe.byline",!1)),2&t.$$.dirty&&n(10,i=h(get_1(f,["blocks",_,"options","caption","fork"],"blocks / byline / fork"))),2056&t.$$.dirty&&n(9,s=l.basedOnByline&&a),1544&t.$$.dirty&&n(4,c=(s?"(":"")+i+" "+clean(l.basedOnByline)+(s?")":""))},[g,_,y,l,c,o,p,f,m,s,i,a,r,u,d]}class Byline$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$C,create_fragment$C,safe_not_equal,{id:0,key:1,type:2})}}function create_else_block_1(t){let e,n;return{c(){e=text("unknown block type "),n=text(t[1])},l(r){e=claim_text(r,"unknown block type "),n=claim_text(r,t[1])},m(t,r){insert_hydration(t,e,r),insert_hydration(t,n,r)},p(t,e){2&e&&set_data(n,t[1])},i:noop$1,o:noop$1,d(t){t&&detach(e),t&&detach(n)}}}function create_if_block$k(t){let e,n,r,o;const a=[create_if_block_1$a,create_else_block$7],i=[];function s(t,e){return"container"===t[1]||"menu"===t[1]?0:1}return e=s(t),n=i[e]=a[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){i[e].m(t,n),insert_hydration(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?i[e].p(t,o):(group_outros(),transition_out(i[c],1,1,(()=>{i[c]=null})),check_outros(),n=i[e],n?n.p(t,o):(n=i[e]=a[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){o||(transition_in(n),o=!0)},o(t){transition_out(n),o=!1},d(t){i[e].d(t),t&&detach(r)}}}function create_else_block$7(t){let e,n,r;var o=blocks[t[1]].component;function a(t){return{props:{id:t[0],type:t[1],key:t[3]}}}return o&&(e=construct_svelte_component(o,a(t))),{c(){e&&create_component(e.$$.fragment),n=empty()},l(t){e&&claim_component(e.$$.fragment,t),n=empty()},m(t,o){e&&mount_component(e,t,o),insert_hydration(t,n,o),r=!0},p(t,r){const i={};if(1&r&&(i.id=t[0]),2&r&&(i.type=t[1]),8&r&&(i.key=t[3]),o!==(o=blocks[t[1]].component)){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}o?(e=construct_svelte_component(o,a(t)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,n.parentNode,n)):e=null}else o&&e.$set(i)},i(t){r||(e&&transition_in(e.$$.fragment,t),r=!0)},o(t){e&&transition_out(e.$$.fragment,t),r=!1},d(t){t&&detach(n),e&&destroy_component(e,t)}}}function create_if_block_1$a(t){let e,n,r;var o=blocks[t[1]].component;function a(t){return{props:{id:t[0],key:t[3],children:t[2]}}}return o&&(e=construct_svelte_component(o,a(t))),{c(){e&&create_component(e.$$.fragment),n=empty()},l(t){e&&claim_component(e.$$.fragment,t),n=empty()},m(t,o){e&&mount_component(e,t,o),insert_hydration(t,n,o),r=!0},p(t,r){const i={};if(1&r&&(i.id=t[0]),8&r&&(i.key=t[3]),4&r&&(i.children=t[2]),o!==(o=blocks[t[1]].component)){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}o?(e=construct_svelte_component(o,a(t)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,n.parentNode,n)):e=null}else o&&e.$set(i)},i(t){r||(e&&transition_in(e.$$.fragment,t),r=!0)},o(t){e&&transition_out(e.$$.fragment,t),r=!1},d(t){t&&detach(n),e&&destroy_component(e,t)}}}function create_fragment$B(t){let e,n,r,o;const a=[create_if_block$k,create_else_block_1],i=[];function s(t,e){return blocks[t[1]]?0:1}return e=s(t),n=i[e]=a[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){i[e].m(t,n),insert_hydration(t,r,n),o=!0},p(t,o){let[c]=o,l=e;e=s(t),e===l?i[e].p(t,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),n=i[e],n?n.p(t,c):(n=i[e]=a[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){o||(transition_in(n),o=!0)},o(t){transition_out(n),o=!1},d(t){i[e].d(t),t&&detach(r)}}}function instance$B(t,e,n){let r,{id:o=null}=e,{type:a}=e,{children:i=[]}=e;return t.$$set=t=>{"id"in t&&n(0,o=t.id),"type"in t&&n(1,a=t.type),"children"in t&&n(2,i=t.children)},t.$$.update=()=>{3&t.$$.dirty&&n(3,r=o||a)},[o,a,i,r]}class Block extends SvelteComponent{constructor(t){super(),init(this,t,instance$B,create_fragment$B,safe_not_equal,{id:0,type:1,children:2})}}function get_each_context$4(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function create_if_block$j(t){let e,n,r,o,a,i,s=t[2],c=[];for(let e=0;e<s.length;e+=1)c[e]=create_each_block$4(get_each_context$4(t,s,e));const l=t=>transition_out(c[t],1,1,(()=>{c[t]=null})),u=t[14].default,d=create_slot(u,t,t[13],null);return{c(){e=element("div");for(let t=0;t<c.length;t+=1)c[t].c();n=space(),d&&d.c(),this.h()},l(t){e=claim_element(t,"DIV",{"data-block-id":!0,"data-block-type":!0,class:!0});var r=children(e);for(let t=0;t<c.length;t+=1)c[t].l(r);n=claim_space(r),d&&d.l(r),r.forEach(detach),this.h()},h(){attr(e,"data-block-id",r=t[4].dev?t[0]:null),attr(e,"data-block-type",o=t[4].dev?"container":null),attr(e,"class",a="container "+("container"!==t[1]?"container-".concat(t[1]):"")+" "+t[5])},m(t,r){insert_hydration(t,e,r);for(let t=0;t<c.length;t+=1)c[t].m(e,null);append_hydration(e,n),d&&d.m(e,null),i=!0},p(t,p){if(76&p){let r;for(s=t[2],r=0;r<s.length;r+=1){const o=get_each_context$4(t,s,r);c[r]?(c[r].p(o,p),transition_in(c[r],1)):(c[r]=create_each_block$4(o),c[r].c(),transition_in(c[r],1),c[r].m(e,n))}for(group_outros(),r=s.length;r<c.length;r+=1)l(r);check_outros()}d&&d.p&&(!i||8192&p)&&update_slot_base(d,u,t,t[13],i?get_slot_changes(u,t[13],p,null):get_all_dirty_from_scope(t[13]),null),(!i||17&p&&r!==(r=t[4].dev?t[0]:null))&&attr(e,"data-block-id",r),(!i||16&p&&o!==(o=t[4].dev?"container":null))&&attr(e,"data-block-type",o),(!i||34&p&&a!==(a="container "+("container"!==t[1]?"container-".concat(t[1]):"")+" "+t[5]))&&attr(e,"class",a)},i(t){if(!i){for(let t=0;t<s.length;t+=1)transition_in(c[t]);transition_in(d,t),i=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)transition_out(c[t]);transition_out(d,t),i=!1},d(t){t&&detach(e),destroy_each(c,t),d&&d.d(t)}}}function create_if_block_1$9(t){let e,n;return{c(){e=element("span"),n=element("wbr"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),n=claim_element(t,"WBR",{}),this.h()},h(){attr(e,"class","separator")},m(t,r){insert_hydration(t,e,r),insert_hydration(t,n,r)},d(t){t&&detach(e),t&&detach(n)}}}function create_each_block$4(t){let e,n,r,o="inline"===t[3]&&!t[6]&&t[18]&&create_if_block_1$9();const a=[t[16]];let i={};for(let t=0;t<a.length;t+=1)i=assign$1(i,a[t]);return n=new Block({props:i}),{c(){o&&o.c(),e=empty(),create_component(n.$$.fragment)},l(t){o&&o.l(t),e=empty(),claim_component(n.$$.fragment,t)},m(t,a){o&&o.m(t,a),insert_hydration(t,e,a),mount_component(n,t,a),r=!0},p(t,r){"inline"===t[3]&&!t[6]&&t[18]?o||(o=create_if_block_1$9(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null);const i=4&r?get_spread_update(a,[get_spread_object(t[16])]):{};n.$set(i)},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){o&&o.d(t),t&&detach(e),destroy_component(n,t)}}}function create_fragment$A(t){let e,n,r=(t[2].length>0||t[9].default)&&create_if_block$j(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,o){r&&r.m(t,o),insert_hydration(t,e,o),n=!0},p(t,n){let[o]=n;t[2].length>0||t[9].default?r?(r.p(t,o),516&o&&transition_in(r,1)):(r=create_if_block$j(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function instance$A(t,e,n){let r,o,a,i,s,c,l,{$$slots:u={},$$scope:d}=e;const p=compute_slots(u);let{id:f}=e,{key:h}=e,{children:m=[]}=e;const{themeData:g,emotion:_,flags:y}=getContext("visContainer");return component_subscribe(t,g,(t=>n(12,c=t))),component_subscribe(t,y,(t=>n(4,l=t))),t.$$set=t=>{"id"in t&&n(0,f=t.id),"key"in t&&n(1,h=t.key),"children"in t&&n(2,m=t.children),"$$scope"in t&&n(13,d=t.$$scope)},t.$$.update=()=>{4098&t.$$.dirty&&n(10,({getProp:r,css:o}=getThemeStyleHelpers(_,c,h)),r,(n(11,o),n(12,c),n(1,h))),1024&t.$$.dirty&&n(3,a=r("layout","flex-column")),1024&t.$$.dirty&&n(6,i=r("separator.hide",!1)),7194&t.$$.dirty&&n(5,s="function"==typeof o?o(_templateObject$d||(_templateObject$d=_taggedTemplateLiteral(["\n                  ","\n                  ","\n                  display: ",";\n                  flex-grow: ",";\n                  flex-wrap: ",";\n                  flex-direction: ",";\n                  justify-content: ",";\n                  align-items: ",";\n                  gap: ",";\n                  row-gap: ",";\n                  column-gap: ",";\n                  white-space: ",";\n                  > .separator {\n                      margin: ",";\n                      color: ",";\n                      font-size: ",";\n                      position: relative;\n                      top: ",";\n                  }\n                  > .separator:before {\n                      content: ",";\n                  }\n                  ","\n              "])),typography(c,h),sharedContainerStyles(r),"inline"===a?"inline":"flex",r("flexGrow"),r("flexWrap"),"flex-column"===a?"column":"row",r("justify","flex-row"===a?"space-between":"flex-start"),r("alignItems"),toPixel(r("gap")),toPixel(r("gap.row")),toPixel(r("gap.column")),r("white-space"),r("separator.margin","0 0.2rem"),r("separator.color"),toPixel(r("separator.fontSize")),toPixel(r("separator.positionTop")),r("separator.text",'"•"'),l.static?"":linkStyles(r,c,h)):"")},[f,h,m,a,l,s,i,g,y,p,r,o,c,d,u]}class Container extends SvelteComponent{constructor(t){super(),init(this,t,instance$A,create_fragment$A,safe_not_equal,{id:0,key:1,children:2})}}function create_default_slot$8(t){let e,n;return e=new InlineEditable({props:{key:"metadata.describe.intro",additionalAllowedTags:t[3]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop$1,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$z(t){let e,n;return e=new TextBlock({props:{tag:"p",editableKey:"metadata.describe.intro",id:t[0],key:t[1],type:t[2],$$slots:{default:[create_default_slot$8]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),16&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$z(t,e,n){let{id:r}=e,{key:o}=e,{type:a}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"key"in t&&n(1,o=t.key),"type"in t&&n(2,a=t.type)},[r,o,a,["caption","details","summary"]]}class Description$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$z,create_fragment$z,safe_not_equal,{id:0,key:1,type:2})}}function create_if_block$i(t){let e,n;return e=new TextBlock({props:{id:t[0],key:t[1],type:t[2],tag:"a",href:"#/edit-in-datawrapper",supportsCaption:!0,defaultCaption:t[6]("blocks / edit-in-datawrapper")}}),e.$on("click",t[9]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[0]),2&n&&(r.key=t[1]),4&n&&(r.type=t[2]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$y(t){let e,n,r=t[4]&&t[3]&&create_if_block$i(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,o){r&&r.m(t,o),insert_hydration(t,e,o),n=!0},p(t,n){let[o]=n;t[4]&&t[3]?r?(r.p(t,o),24&o&&transition_in(r,1)):(r=create_if_block$i(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function instance$y(t,e,n){let r,o,a,i,s,{id:c}=e,{key:l}=e,{type:u}=e;const{chart:d,__:p,config:f,postEvent:h}=getContext("visContainer");return component_subscribe(t,d,(t=>n(10,a=t))),component_subscribe(t,f,(t=>n(11,i=t))),component_subscribe(t,h,(t=>n(12,s=t))),t.$$set=t=>{"id"in t&&n(0,c=t.id),"key"in t&&n(1,l=t.key),"type"in t&&n(2,u=t.type)},t.$$.update=()=>{1024&t.$$.dirty&&n(4,r=get_1(a,"forkable",!1)),1024&t.$$.dirty&&n(3,o=get_1(a,"metadata.publish.blocks.edit-in-datawrapper",!1))},[c,l,u,o,r,d,p,f,h,function(t){s&&s("edit"),t.preventDefault();const e=document.createElement("form");e.setAttribute("method","post"),e.setAttribute("target","_blank"),e.setAttribute("action","//".concat(i.frontendDomain,"/create/"));const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","template"),n.setAttribute("value",a.id),e.appendChild(n),document.body.appendChild(e),e.submit(),document.body.removeChild(e)},a]}class EditInDatawrapper$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$y,create_fragment$y,safe_not_equal,{id:0,key:1,type:2})}}function add_css$b(t){append_styles(t,"svelte-7bxr2i",".embed-code.svelte-7bxr2i.svelte-7bxr2i{position:absolute;bottom:35px;left:8px;max-width:350px;border:1px solid #e5e5e5;background:#fff;box-shadow:0px 4px 10px rgba(0, 0, 0, 0.15);border-radius:4px;padding:15px 20px;font-size:14px;z-index:100}.embed-code.svelte-7bxr2i .close.svelte-7bxr2i{border:0;padding:0;background:none;width:15px;height:15px;right:10px;top:10px;position:absolute;fill:#4f4f4f;cursor:pointer;border-radius:0}.embed-code.svelte-7bxr2i .close.svelte-7bxr2i:hover,.embed-code.svelte-7bxr2i .close.svelte-7bxr2i:focus{fill:#111}.embed-code.svelte-7bxr2i .button.svelte-7bxr2i{cursor:pointer;border:1px solid #ccc;border-bottom-color:#b3b3b3;box-shadow:none;border-radius:4px;width:40px;height:30px;box-shadow:0px 1px 2px rgba(0, 0, 0, 0.05), inset 0px 1px 0px rgba(255, 255, 255, 0.05)}.embed-code.svelte-7bxr2i .button.svelte-7bxr2i:hover,.embed-code.svelte-7bxr2i .button.svelte-7bxr2i:active{background-color:#e6e6e6}.embed-code.svelte-7bxr2i .button svg.svelte-7bxr2i{width:20px;height:20px}.embed-code.svelte-7bxr2i .button path.svelte-7bxr2i{fill:#4f4f4f}.embed-code.svelte-7bxr2i p.svelte-7bxr2i{margin:0px 0px 12px 0px;width:calc(100% - 30px);font-size:14px;line-height:20px}.embed-code.svelte-7bxr2i div.actions.svelte-7bxr2i{display:flex;justify-content:space-between}input.svelte-7bxr2i.svelte-7bxr2i{width:100%;background:#f5f5f5;border:1px solid #dddddd;box-sizing:border-box;border-radius:4px;padding:4px;font-size:14px;line-height:14px;color:#4f4f4f;margin-right:10px}")}function create_if_block$h(t){let e,n,r,o,a,i,s,c,l,u,d,p,f,h,m,g=t[9](t[6].caption||t[8]("blocks / embed / caption"))+"";return{c(){e=element("div"),n=element("button"),r=svg_element("svg"),o=svg_element("path"),a=space(),i=element("p"),s=space(),c=element("div"),l=element("input"),u=space(),d=element("button"),p=svg_element("svg"),f=svg_element("path"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var h=children(e);n=claim_element(h,"BUTTON",{"data-uid":!0,class:!0});var m=children(n);r=claim_svg_element(m,"svg",{viewBox:!0,xmlns:!0,class:!0});var g=children(r);o=claim_svg_element(g,"path",{d:!0,class:!0}),children(o).forEach(detach),g.forEach(detach),m.forEach(detach),a=claim_space(h),i=claim_element(h,"P",{class:!0}),children(i).forEach(detach),s=claim_space(h),c=claim_element(h,"DIV",{class:!0});var _=children(c);l=claim_element(_,"INPUT",{type:!0,class:!0}),u=claim_space(_),d=claim_element(_,"BUTTON",{class:!0,"data-uid":!0});var y=children(d);p=claim_svg_element(y,"svg",{viewBox:!0,xmlns:!0,class:!0});var b=children(p);f=claim_svg_element(b,"path",{d:!0,class:!0}),children(f).forEach(detach),b.forEach(detach),y.forEach(detach),_.forEach(detach),h.forEach(detach),this.h()},h(){attr(o,"d","M7 4a.995.995 0 0 0-.707.293l-2 2a.999.999 0 0 0 0 1.414L11.586 15l-7.293\n                    7.293a.999.999 0 0 0 0 1.414l2 2a.999.999 0 0 0 1.414 0L15 18.414l7.293\n                    7.293a.999.999 0 0 0 1.414 0l2-2a.999.999 0 0 0 0-1.414L18.414\n                    15l7.293-7.293a.999.999 0 0 0 0-1.414l-2-2a.999.999 0 0 0-1.414 0L15 11.586\n                    7.707 4.293A.996.996 0 0 0 7 4z"),attr(o,"class","svelte-7bxr2i"),attr(r,"viewBox","0 0 30 30"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"class","svelte-7bxr2i"),attr(n,"data-uid","close"),attr(n,"class","close svelte-7bxr2i"),attr(i,"class","svelte-7bxr2i"),attr(l,"type","text"),l.readOnly=!0,l.value=t[5],attr(l,"class","svelte-7bxr2i"),attr(f,"d","M15 0c-1.645 0-3 1.355-3 3H8C6.346 3 5 4.346 5 6v17c0 1.654 1.346 3 3\n                        3h14c1.654 0 3-1.346 3-3V6c0-1.654-1.346-3-3-3h-4c0-1.645-1.355-3-3-3zm0\n                        2c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zM8\n                        5h4v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V5h4c.551 0 1 .449 1 1v17c0 .551-.449 1-1\n                        1H8c-.551 0-1-.449-1-1V6c0-.551.449-1 1-1zm4 7a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm8 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0\n                        0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0 0 2 1 1\n                        0 0 0 0-2zm0 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"),attr(f,"class","svelte-7bxr2i"),attr(p,"viewBox","0 0 30 30"),attr(p,"xmlns","http://www.w3.org/2000/svg"),attr(p,"class","svelte-7bxr2i"),attr(d,"class","button svelte-7bxr2i"),attr(d,"data-uid","copy"),attr(c,"class","actions svelte-7bxr2i"),attr(e,"class","embed-code svelte-7bxr2i")},m(_,y){insert_hydration(_,e,y),append_hydration(e,n),append_hydration(n,r),append_hydration(r,o),append_hydration(e,a),append_hydration(e,i),i.innerHTML=g,append_hydration(e,s),append_hydration(e,c),append_hydration(c,l),t[16](l),append_hydration(c,u),append_hydration(c,d),append_hydration(d,p),append_hydration(p,f),h||(m=[listen(n,"click",t[12]),listen(d,"click",t[13])],h=!0)},p(t,e){64&e&&g!==(g=t[9](t[6].caption||t[8]("blocks / embed / caption"))+"")&&(i.innerHTML=g),32&e&&l.value!==t[5]&&(l.value=t[5])},d(n){n&&detach(e),t[16](null),h=!1,run_all(m)}}}function create_fragment$x(t){let e,n,r;e=new TextBlock({props:{id:t[0],key:t[1],type:t[2],tag:"a",href:"#embed",supportsCaption:!0,defaultCaption:t[8]("blocks / embed")}}),e.$on("click",t[12]);let o=t[3]&&create_if_block$h(t);return{c(){create_component(e.$$.fragment),o&&o.c(),n=empty()},l(t){claim_component(e.$$.fragment,t),o&&o.l(t),n=empty()},m(t,a){mount_component(e,t,a),o&&o.m(t,a),insert_hydration(t,n,a),r=!0},p(t,r){let[a]=r;const i={};1&a&&(i.id=t[0]),2&a&&(i.key=t[1]),4&a&&(i.type=t[2]),e.$set(i),t[3]?o?o.p(t,a):(o=create_if_block$h(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i(t){r||(transition_in(e.$$.fragment,t),r=!0)},o(t){transition_out(e.$$.fragment,t),r=!1},d(t){destroy_component(e,t),o&&o.d(t),t&&detach(n)}}}function instance$x(t,e,n){let r,o,a,i,s;const{chart:c,__:l,clean:u,themeData:d,postEvent:p}=getContext("visContainer");component_subscribe(t,c,(t=>n(14,i=t))),component_subscribe(t,d,(t=>n(15,s=t))),component_subscribe(t,p,(t=>n(17,a=t)));let f,{id:h}=e,{key:m}=e,{type:g}=e,_=!1;return t.$$set=t=>{"id"in t&&n(0,h=t.id),"key"in t&&n(1,m=t.key),"type"in t&&n(2,g=t.type)},t.$$.update=()=>{32770&t.$$.dirty&&n(6,r=get_1(s,"blocks.".concat(m,".options"),{})),16384&t.$$.dirty&&n(5,o=get_1(i,"metadata.publish.embed-codes.embed-method-responsive","\x3c!-- embed code will be here after publishing --\x3e"))},[h,m,g,_,f,o,r,c,l,u,d,p,function(t){t.preventDefault(),n(3,_=!_),a&&a("embed.modal.".concat(_?"open":"close"))},function(){a&&a("embed.copy"),f.focus(),f.select(),document.execCommand("copy")},i,s,function(t){binding_callbacks[t?"unshift":"push"]((()=>{f=t,n(4,f)}))}]}class Embed$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$x,create_fragment$x,safe_not_equal,{id:0,key:1,type:2},add_css$b)}}function add_css$a(t){append_styles(t,"svelte-1qkkqbr","div.svelte-1qkkqbr{overflow:hidden}")}function create_else_block$6(t){let e,n;return e=new FilterSelect({props:{active:t[13],column:t[2],textDirection:t[6]}}),e.$on("change",t[14]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.column=t[2]),64&n[0]&&(r.textDirection=t[6]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$8(t){let e,n;return e=new FilterTimescale({props:{active:t[13],column:t[2],textDirection:t[6]}}),e.$on("change",t[14]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.column=t[2]),64&n[0]&&(r.textDirection=t[6]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block$g(t){let e,n;return e=new FilterButtons({props:{active:t[13],column:t[2],textDirection:t[6]}}),e.$on("change",t[14]),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.column=t[2]),64&n[0]&&(r.textDirection=t[6]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$w(t){let e,n,r,o,a,i,s;const c=[create_if_block$g,create_if_block_1$8,create_else_block$6],l=[];function u(t,e){return t[5]===TYPE_BUTTONS?0:t[5]===TYPE_TIMESCALE?1:2}return n=u(t),r=l[n]=c[n](t),{c(){e=element("div"),r.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0});var n=children(e);r.l(n),n.forEach(detach),this.h()},h(){attr(e,"class",o=null_to_empty(t[4])+" svelte-1qkkqbr"),attr(e,"data-block-id",a=t[3].dev?t[1]:null),attr(e,"data-block-type",i=t[3].dev?t[0]:null)},m(t,r){insert_hydration(t,e,r),l[n].m(e,null),s=!0},p(t,d){let p=n;n=u(t),n===p?l[n].p(t,d):(group_outros(),transition_out(l[p],1,1,(()=>{l[p]=null})),check_outros(),r=l[n],r?r.p(t,d):(r=l[n]=c[n](t),r.c()),transition_in(r,1),r.m(e,null)),(!s||16&d[0]&&o!==(o=null_to_empty(t[4])+" svelte-1qkkqbr"))&&attr(e,"class",o),(!s||10&d[0]&&a!==(a=t[3].dev?t[1]:null))&&attr(e,"data-block-id",a),(!s||9&d[0]&&i!==(i=t[3].dev?t[0]:null))&&attr(e,"data-block-type",i)},i(t){s||(transition_in(r),s=!0)},o(t){transition_out(r),s=!1},d(t){t&&detach(e),l[n].d()}}}const TYPE_AUTO="auto",TYPE_SELECT="select",TYPE_BUTTONS="buttons",TYPE_TIMESCALE="timescale";function instance$w(t,e,n){let r,o,a,i,s,c,l,u,d,p,f,h,m,g,_,y,b,$,v,k;const{postEvent:x,textDirection:w,filterUI:E,visualization:T,themeData:S,emotion:M,flags:A}=getContext("visContainer");component_subscribe(t,x,(t=>n(29,y=t))),component_subscribe(t,w,(t=>n(6,k=t))),component_subscribe(t,E,(t=>n(26,$=t))),component_subscribe(t,T,(t=>n(27,v=t))),component_subscribe(t,S,(t=>n(25,_=t))),component_subscribe(t,A,(t=>n(3,g=t)));let{id:C}=e,{key:D}=e,{type:O}=e;const N=writable(0);return component_subscribe(t,N,(t=>n(30,b=t))),t.$$set=t=>{"id"in t&&n(1,C=t.id),"key"in t&&n(15,D=t.key),"type"in t&&n(0,O=t.type)},t.$$.update=()=>{134217728&t.$$.dirty[0]&&(r=v),67108864&t.$$.dirty[0]&&n(0,O=$.type),67108864&t.$$.dirty[0]&&n(2,o=$.column),5&t.$$.dirty[0]&&n(5,a=O===TYPE_AUTO?"date"===o.type()?TYPE_TIMESCALE:o.length<6?TYPE_BUTTONS:TYPE_SELECT:O),33587200&t.$$.dirty[0]&&n(17,({getProp:i,css:s}=getThemeStyleHelpers(M,_,D)),i,(n(24,s),n(25,_),n(15,D))),8&t.$$.dirty[0]&&n(22,c=g.dark?"#eee":"#000"),8&t.$$.dirty[0]&&n(23,l=g.dark?"#ddd":"#222"),8&t.$$.dirty[0]&&n(21,u=g.dark?"#a4a4a4":"#555"),8&t.$$.dirty[0]&&n(18,(g.dark,d="#888")),8&t.$$.dirty[0]&&n(19,p=g.dark?"#333":"#ebebeb"),8&t.$$.dirty[0]&&n(16,f=g.dark?"#5e5e5e":"#ccc"),8&t.$$.dirty[0]&&n(20,h=g.dark?"#222222":"#ffffff"),33488896&t.$$.dirty[0]&&n(4,m=s?s(_templateObject$c||(_templateObject$c=_taggedTemplateLiteral(["\n              .filter-ui.filter-links {\n                  border-bottom: ",";\n                  font-size: ",";\n              }\n              .filter-ui.filter-links a {\n                  color: ",";\n              }\n              .filter-ui.filter-links a:hover {\n                  color: ",";\n                  font-weight: ",";\n              }\n              .filter-ui.filter-links a.active {\n                  color: ",";\n                  font-weight: ",";\n                  border-bottom: ",";\n              }\n              /* filter UI select */\n              .filter-ui.filter-select {\n                  background-color: ",";\n                  border-radius: ",";\n                  border: ",";\n                  color: ",";\n                  font-size: inherit;\n                  padding: ",";\n              }\n              /* filter UI timeline */\n              .filter-ui.filter-timescale .point {\n                  border: ",";\n                  background: ",";\n              }\n              .filter-ui.filter-timescale .point:hover {\n                  background: ",";\n              }\n\n              .filter-ui.filter-timescale .point.active {\n                  background: ",";\n                  border: ",";\n              }\n\n              .filter-ui.filter-timescale .line {\n                  background: ",";\n              }\n          "])),i("tabs.border.bottom","1px solid ".concat(f)),toPixel(i("tabs.fontSize")),i("tabs.color",u),i("tabs.hover.color",l),i("tabs.hover.fontWeight"),i("tabs.active.color",c),i("tabs.active.fontWeight","bold"),i("tabs.active.border.bottom","2px solid ".concat(u)),i("colors.background",h),i("select.borderRadius","4px"),i("select.border","1px solid ".concat(f)),i("select.textColor","inherit"),i("select.padding","4px 6px"),i("point.buttons.border","1px solid ".concat(f)),i("point.buttons.background",i("colors.background",h)),i("point.buttons.hover.background",p),i("point.buttons.active.background",f),i("point.buttons.active.border","1px solid ".concat(d)),i("point.line.color",f)):"")},[O,C,o,g,m,a,k,x,w,E,T,S,A,N,function(t){r.__lastRow=b,r.update(),y&&y("column:change",t.detail),r.fire("column:change",t.detail)},D,f,i,d,p,h,u,c,l,s,_,$,v]}class FilterUI extends SvelteComponent{constructor(t){super(),init(this,t,instance$w,create_fragment$w,safe_not_equal,{id:1,key:15,type:0},add_css$a,[-1,-1])}}function getDownloadCSVHandler(t){let{$postEvent:e,$chart:n,$dwChart:r,$teamPublicSettings:o,$themeData:a}=t;return t=>{if(e&&e("download",{type:"csv"}),!get_1(n,"externalData")&&r&&r.dataset){!function(t,e){const n=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,e);else{const t=document.createElement("a");t.href=URL.createObjectURL(n),t.download=e,t.click()}}(function(){const t={};o.downloadDataLocalized&&(t.numeral=r.vis().libraries().numeral);const e=r.dataset().csv(t);return"\ufeff"+e}(),function(){const t="data-".concat(n.id,".csv"),e=get_1(a,"options.blocks.get-the-data.data.filename","").replace(/%custom_(.*?)%/g,((t,e)=>get_1(n,"metadata.custom.".concat(e),""))).replace(/%chart_id%/g,n.id);return e&&".csv"!==e?e:t}()),t.preventDefault()}}}function create_fragment$v(t){let e,n;return e=new TextBlock({props:{tag:"a",href:t[3]||"javascript:void(0)",supportsCaption:!0,defaultCaption:t[9]("blocks / get-the-data"),id:t[0],key:t[1],type:t[2],extraAttributes:t[4]}}),e.$on("click",(function(){is_function(t[5])&&t[5].apply(this,arguments)})),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(n,r){let[o]=r;t=n;const a={};8&o&&(a.href=t[3]||"javascript:void(0)"),1&o&&(a.id=t[0]),2&o&&(a.key=t[1]),4&o&&(a.type=t[2]),16&o&&(a.extraAttributes=t[4]),e.$set(a)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$v(t,e,n){let r,o,a,i,s,c,l,u;const{chart:d,dwChart:p,themeData:f,__:h,postEvent:m,teamPublicSettings:g}=getContext("visContainer");component_subscribe(t,d,(t=>n(12,i=t))),component_subscribe(t,p,(t=>n(15,l=t))),component_subscribe(t,f,(t=>n(13,s=t))),component_subscribe(t,m,(t=>n(16,u=t))),component_subscribe(t,g,(t=>n(14,c=t)));let{id:_}=e,{key:y}=e,{type:b}=e;return t.$$set=t=>{"id"in t&&n(0,_=t.id),"key"in t&&n(1,y=t.key),"type"in t&&n(2,b=t.type)},t.$$.update=()=>{126976&t.$$.dirty&&n(5,r=getDownloadCSVHandler({$postEvent:u,$chart:i,$dwChart:l,$teamPublicSettings:c,$themeData:s})),4096&t.$$.dirty&&n(3,o=get_1(i,"externalData")),8&t.$$.dirty&&n(4,a={target:o?"_blank":"_self"})},[_,y,b,o,a,r,d,p,f,h,m,g,i,s,c,l,u]}class GetTheData$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$v,create_fragment$v,safe_not_equal,{id:0,key:1,type:2})}}function create_default_slot$7(t){let e,n;return e=new InlineEditable({props:{key:"title"}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop$1,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$u(t){let e,n;return e=new TextBlock({props:{tag:"h3",id:t[0],key:t[1],type:t[2],$$slots:{default:[create_default_slot$7]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),8&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$u(t,e,n){let{id:r}=e,{key:o}=e,{type:a}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"key"in t&&n(1,o=t.key),"type"in t&&n(2,a=t.type)},[r,o,a]}class Headline$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$u,create_fragment$u,safe_not_equal,{id:0,key:1,type:2})}}function create_else_block$5(t){let e;const n=t[5].default,r=create_slot(n,t,t[4],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,o){r&&r.p&&(!e||16&o)&&update_slot_base(r,n,t,t[4],e?get_slot_changes(n,t[4],o,null):get_all_dirty_from_scope(t[4]),null)},i(t){e||(transition_in(r,t),e=!0)},o(t){transition_out(r,t),e=!1},d(t){r&&r.d(t)}}}function create_if_block$f(t){let e,n,r;const o=t[5].default,a=create_slot(o,t,t[4],null);let i=[{href:t[1]},{class:t[0]},{title:n=t[2]||null},{target:"_blank"},{rel:"noopener noreferrer nofollow"},t[3]],s={};for(let t=0;t<i.length;t+=1)s=assign$1(s,i[t]);return{c(){e=element("a"),a&&a.c(),this.h()},l(t){e=claim_element(t,"A",{href:!0,class:!0,title:!0,target:!0,rel:!0});var n=children(e);a&&a.l(n),n.forEach(detach),this.h()},h(){set_attributes(e,s)},m(t,n){insert_hydration(t,e,n),a&&a.m(e,null),r=!0},p(t,c){a&&a.p&&(!r||16&c)&&update_slot_base(a,o,t,t[4],r?get_slot_changes(o,t[4],c,null):get_all_dirty_from_scope(t[4]),null),set_attributes(e,s=get_spread_update(i,[(!r||2&c)&&{href:t[1]},(!r||1&c)&&{class:t[0]},(!r||4&c&&n!==(n=t[2]||null))&&{title:n},{target:"_blank"},{rel:"noopener noreferrer nofollow"},8&c&&t[3]]))},i(t){r||(transition_in(a,t),r=!0)},o(t){transition_out(a,t),r=!1},d(t){t&&detach(e),a&&a.d(t)}}}function create_fragment$t(t){let e,n,r,o;const a=[create_if_block$f,create_else_block$5],i=[];function s(t,e){return t[1]?0:1}return e=s(t),n=i[e]=a[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){i[e].m(t,n),insert_hydration(t,r,n),o=!0},p(t,o){let[c]=o,l=e;e=s(t),e===l?i[e].p(t,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),n=i[e],n?n.p(t,c):(n=i[e]=a[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){o||(transition_in(n),o=!0)},o(t){transition_out(n),o=!1},d(t){i[e].d(t),t&&detach(r)}}}function instance$t(t,e,n){const r=["class","url","linkTitle"];let o=compute_rest_props(e,r),{$$slots:a={},$$scope:i}=e,{class:s}=e,{url:c}=e,{linkTitle:l}=e;return t.$$set=t=>{e=assign$1(assign$1({},e),exclude_internal_props(t)),n(3,o=compute_rest_props(e,r)),"class"in t&&n(0,s=t.class),"url"in t&&n(1,c=t.url),"linkTitle"in t&&n(2,l=t.linkTitle),"$$scope"in t&&n(4,i=t.$$scope)},[s,c,l,o,i,a]}class LinkWrap extends SvelteComponent{constructor(t){super(),init(this,t,instance$t,create_fragment$t,safe_not_equal,{class:0,url:1,linkTitle:2})}}var _templateObject$b,_templateObject$a,_templateObject$9,_templateObject2$1,_templateObject$8,_templateObject$7,_templateObject$6;function create_default_slot$6(t){let e,n,r,o,a,i;return{c(){e=element("img"),this.h()},l(t){e=claim_element(t,"IMG",{class:!0,src:!0,alt:!0,"data-block-id":!0,"data-block-type":!0}),this.h()},h(){attr(e,"class",n=(t[4].url?"":"block-".concat(t[1]))+" "+t[3]),src_url_equal(e.src,r=t[4].src)||attr(e,"src",r),attr(e,"alt",o=t[4].altText),attr(e,"data-block-id",a=t[5].dev?t[0]:null),attr(e,"data-block-type",i=t[5].dev?t[2]:null)},m(t,n){insert_hydration(t,e,n)},p(t,s){26&s&&n!==(n=(t[4].url?"":"block-".concat(t[1]))+" "+t[3])&&attr(e,"class",n),16&s&&!src_url_equal(e.src,r=t[4].src)&&attr(e,"src",r),16&s&&o!==(o=t[4].altText)&&attr(e,"alt",o),33&s&&a!==(a=t[5].dev?t[0]:null)&&attr(e,"data-block-id",a),36&s&&i!==(i=t[5].dev?t[2]:null)&&attr(e,"data-block-type",i)},d(t){t&&detach(e)}}}function create_fragment$s(t){let e,n;return e=new LinkWrap({props:{id:t[0],type:t[2],class:t[4].url?"block-".concat(t[1]):"",url:t[4].url,linkTitle:t[4].linkTitle,$$slots:{default:[create_default_slot$6]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),4&r&&(o.type=t[2]),18&r&&(o.class=t[4].url?"block-".concat(t[1]):""),16&r&&(o.url=t[4].url),16&r&&(o.linkTitle=t[4].linkTitle),4159&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$s(t,e,n){let r,o,a,i,s,c;const{themeData:l,emotion:u,flags:d}=getContext("visContainer");component_subscribe(t,l,(t=>n(10,s=t))),component_subscribe(t,d,(t=>n(5,c=t)));let{id:p}=e,{key:f}=e,{type:h}=e;return t.$$set=t=>{"id"in t&&n(0,p=t.id),"key"in t&&n(1,f=t.key),"type"in t&&n(2,h=t.type)},t.$$.update=()=>{1026&t.$$.dirty&&n(4,r=get_1(s,"blocks.".concat(f,".options"))),1026&t.$$.dirty&&n(8,({getProp:o,css:a}=getThemeStyleHelpers(u,s,f)),o,(n(9,a),n(10,s),n(1,f))),768&t.$$.dirty&&n(3,i="function"==typeof a?a(_templateObject$b||(_templateObject$b=_taggedTemplateLiteral(["\n                  ","\n                  width: ",";\n                  height: ",";\n              "])),sharedContainerStyles(o),toPixel(o("width","auto")),toPixel(o("height","auto"))):"")},[p,f,h,i,r,c,l,d,o,a,s]}class Image extends SvelteComponent{constructor(t){super(),init(this,t,instance$s,create_fragment$s,safe_not_equal,{id:0,key:1,type:2})}}function create_if_block$e(t){let e,n,r,o=t[3].image&&create_if_block_2$3(t),a=t[3].text&&create_if_block_1$7(t);return{c(){o&&o.c(),e=space(),a&&a.c(),n=empty()},l(t){o&&o.l(t),e=claim_space(t),a&&a.l(t),n=empty()},m(t,i){o&&o.m(t,i),insert_hydration(t,e,i),a&&a.m(t,i),insert_hydration(t,n,i),r=!0},p(t,r){t[3].image?o?o.p(t,r):(o=create_if_block_2$3(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),t[3].text?a?(a.p(t,r),8&r&&transition_in(a,1)):(a=create_if_block_1$7(t),a.c(),transition_in(a,1),a.m(n.parentNode,n)):a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros())},i(t){r||(transition_in(a),r=!0)},o(t){transition_out(a),r=!1},d(t){o&&o.d(t),t&&detach(e),a&&a.d(t),t&&detach(n)}}}function create_if_block_2$3(t){let e,n,r,o,a,i,s;return{c(){e=element("img"),this.h()},l(t){e=claim_element(t,"IMG",{"data-block-id":!0,"data-block-type":!0,class:!0,src:!0,height:!0,alt:!0}),this.h()},h(){attr(e,"data-block-id",n=t[4].dev?t[0]:null),attr(e,"data-block-type",r=t[4].dev?t[2]:null),attr(e,"class",o=""+((t[3].url?"":"block-".concat(t[1]," "))+t[5])),src_url_equal(e.src,a=t[3].image.src)||attr(e,"src",a),attr(e,"height",i=t[3].image.height),attr(e,"alt",s=t[3].image.altText||t[6].title)},m(t,n){insert_hydration(t,e,n)},p(t,c){17&c&&n!==(n=t[4].dev?t[0]:null)&&attr(e,"data-block-id",n),20&c&&r!==(r=t[4].dev?t[2]:null)&&attr(e,"data-block-type",r),42&c&&o!==(o=""+((t[3].url?"":"block-".concat(t[1]," "))+t[5]))&&attr(e,"class",o),8&c&&!src_url_equal(e.src,a=t[3].image.src)&&attr(e,"src",a),8&c&&i!==(i=t[3].image.height)&&attr(e,"height",i),72&c&&s!==(s=t[3].image.altText||t[6].title)&&attr(e,"alt",s)},d(t){t&&detach(e)}}}function create_if_block_1$7(t){let e,n;return e=new TextBlock({props:{skipBlockClass:!!t[3].url,tag:"span",id:t[0],key:t[1],type:t[2],$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.skipBlockClass=!!t[3].url),1&n&&(r.id=t[0]),2&n&&(r.key=t[1]),4&n&&(r.type=t[2]),524296&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot_1$2(t){let e,n,r=clean(t[3].text)+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){8&n&&r!==(r=clean(t[3].text)+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_default_slot$5(t){let e,n,r=t[3]&&create_if_block$e(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,o){r&&r.m(t,o),insert_hydration(t,e,o),n=!0},p(t,n){t[3]?r?(r.p(t,n),8&n&&transition_in(r,1)):(r=create_if_block$e(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function create_fragment$r(t){let e,n;return e=new LinkWrap({props:{url:t[3].url,class:"block-"+t[1],linkTitle:t[3].linkTitle||t[3].url,$$slots:{default:[create_default_slot$5]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};8&r&&(o.url=t[3].url),2&r&&(o.class="block-"+t[1]),8&r&&(o.linkTitle=t[3].linkTitle||t[3].url),524415&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$r(t,e,n){let r,o,a,i,s,c,l,u,d,p,f;const{chart:h,themeData:m,flags:g,theme:_,emotion:y}=getContext("visContainer");component_subscribe(t,h,(t=>n(17,p=t))),component_subscribe(t,m,(t=>n(16,d=t))),component_subscribe(t,g,(t=>n(4,u=t))),component_subscribe(t,_,(t=>n(6,f=t)));let{id:b}=e,{key:$}=e,{type:v}=e;return t.$$set=t=>{"id"in t&&n(0,b=t.id),"key"in t&&n(1,$=t.key),"type"in t&&n(2,v=t.type)},t.$$.update=()=>{65538&t.$$.dirty&&n(14,({getProp:r,css:o}=getThemeStyleHelpers(y,d,$,"image")),r,(n(15,o),n(16,d),n(1,$))),49152&t.$$.dirty&&n(5,a="function"==typeof o?o(_templateObject$a||(_templateObject$a=_taggedTemplateLiteral(["\n                  ","\n              "])),sharedContainerStyles(r)):""),131072&t.$$.dirty&&n(13,i=get_1(p,"metadata.publish.blocks.logo",{})),65538&t.$$.dirty&&n(11,s=get_1(d,"blocks.".concat($,".options.variants"),[])),8208&t.$$.dirty&&n(12,c=u.logoId||i.id),6144&t.$$.dirty&&n(3,l=1===s.length?s[0]:s.find((t=>t.id===c))||s[0]||{})},[b,$,v,l,u,a,f,h,m,g,_,s,c,i,r,o,d,p]}class Logo$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$r,create_fragment$r,safe_not_equal,{id:0,key:1,type:2})}}function create_default_slot$4(t){let e,n,r=clean(t[3])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){8&n&&r!==(r=clean(t[3])+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$q(t){let e,n;return e=new TextBlock({props:{id:t[0],key:t[1],type:t[2],tag:"span",supportsCaption:!0,defaultCaption:"".concat(t[4]("blocks / map-attribution"),":"),$$slots:{default:[create_default_slot$4]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),72&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$q(t,e,n){let r,{id:o}=e,{key:a}=e,{type:i}=e;const{__:s,mapAttribution:c}=getContext("visContainer");return component_subscribe(t,c,(t=>n(3,r=t))),t.$$set=t=>{"id"in t&&n(0,o=t.id),"key"in t&&n(1,a=t.key),"type"in t&&n(2,i=t.type)},[o,a,i,r,s,c]}class MapAttribution extends SvelteComponent{constructor(t){super(),init(this,t,instance$q,create_fragment$q,safe_not_equal,{id:0,key:1,type:2})}}function add_css$9(t){append_styles(t,"svelte-g3lzae",".menu.svelte-g3lzae.svelte-g3lzae{position:relative;line-height:0}.menu-content.svelte-g3lzae.svelte-g3lzae{z-index:100;position:absolute;line-height:1;display:flex;flex-direction:column}.menu-item.svelte-g3lzae.svelte-g3lzae{padding:10px;display:block;color:initial}svg.svelte-g3lzae line.svelte-g3lzae{stroke-width:2}")}function get_each_context$3(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function create_if_block$d(t){let e,n,r,o,a,i,s,c,l,u;function d(t,e){return t[5]?create_if_block_2$2:create_else_block$4}let p=d(t),f=p(t),h=t[4]&&create_if_block_1$6(t);return{c(){e=element("div"),n=element("button"),f.c(),o=space(),h&&h.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0});var r=children(e);n=claim_element(r,"BUTTON",{class:!0});var a=children(n);f.l(a),a.forEach(detach),o=claim_space(r),h&&h.l(r),r.forEach(detach),this.h()},h(){attr(n,"class",r=null_to_empty(t[6])+" svelte-g3lzae"),attr(e,"class",a="menu "+("menu"!==t[1]?"menu-".concat(t[1]):"")+" svelte-g3lzae"),attr(e,"data-block-id",i=t[3].dev?t[0]:null),attr(e,"data-block-type",s=t[3].dev?"menu":null)},m(r,a){insert_hydration(r,e,a),append_hydration(e,n),f.m(n,null),append_hydration(e,o),h&&h.m(e,null),c=!0,l||(u=listen(n,"click",stop_propagation(t[10])),l=!0)},p(t,o){p===(p=d(t))&&f?f.p(t,o):(f.d(1),f=p(t),f&&(f.c(),f.m(n,null))),(!c||64&o&&r!==(r=null_to_empty(t[6])+" svelte-g3lzae"))&&attr(n,"class",r),t[4]?h?(h.p(t,o),16&o&&transition_in(h,1)):(h=create_if_block_1$6(t),h.c(),transition_in(h,1),h.m(e,null)):h&&(group_outros(),transition_out(h,1,1,(()=>{h=null})),check_outros()),(!c||2&o&&a!==(a="menu "+("menu"!==t[1]?"menu-".concat(t[1]):"")+" svelte-g3lzae"))&&attr(e,"class",a),(!c||9&o&&i!==(i=t[3].dev?t[0]:null))&&attr(e,"data-block-id",i),(!c||8&o&&s!==(s=t[3].dev?"menu":null))&&attr(e,"data-block-type",s)},i(t){c||(transition_in(h),c=!0)},o(t){transition_out(h),c=!1},d(t){t&&detach(e),f.d(),h&&h.d(),l=!1,u()}}}function create_else_block$4(t){let e,n,r,o;return{c(){e=svg_element("svg"),n=svg_element("line"),r=svg_element("line"),o=svg_element("line"),this.h()},l(t){e=claim_svg_element(t,"svg",{width:!0,height:!0,class:!0});var a=children(e);n=claim_svg_element(a,"line",{x2:!0,transform:!0,class:!0}),children(n).forEach(detach),r=claim_svg_element(a,"line",{x2:!0,transform:!0,class:!0}),children(r).forEach(detach),o=claim_svg_element(a,"line",{x2:!0,transform:!0,class:!0}),children(o).forEach(detach),a.forEach(detach),this.h()},h(){attr(n,"x2",18),attr(n,"transform","translate(0,1)"),attr(n,"class","svelte-g3lzae"),attr(r,"x2",18),attr(r,"transform","translate(0,5)"),attr(r,"class","svelte-g3lzae"),attr(o,"x2",18),attr(o,"transform","translate(0,9)"),attr(o,"class","svelte-g3lzae"),attr(e,"width","18"),attr(e,"height","10"),attr(e,"class","svelte-g3lzae")},m(t,a){insert_hydration(t,e,a),append_hydration(e,n),append_hydration(e,r),append_hydration(e,o)},p:noop$1,d(t){t&&detach(e)}}}function create_if_block_2$2(t){let e,n,r=purifySvg(t[5])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){32&n&&r!==(r=purifySvg(t[5])+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_if_block_1$6(t){let e,n,r,o,a,i=t[2],s=[];for(let e=0;e<i.length;e+=1)s[e]=create_each_block$3(get_each_context$3(t,i,e));const c=t=>transition_out(s[t],1,1,(()=>{s[t]=null}));return{c(){e=element("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var n=children(e);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach(detach),this.h()},h(){attr(e,"class",n="menu-content container "+t[7]+" svelte-g3lzae")},m(n,i){insert_hydration(n,e,i);for(let t=0;t<s.length;t+=1)s[t].m(e,null);r=!0,o||(a=[listen(e,"click",stop_propagation(t[16])),listen(e,"keypress",stop_propagation(t[17]))],o=!0)},p(t,o){if(4&o){let n;for(i=t[2],n=0;n<i.length;n+=1){const r=get_each_context$3(t,i,n);s[n]?(s[n].p(r,o),transition_in(s[n],1)):(s[n]=create_each_block$3(r),s[n].c(),transition_in(s[n],1),s[n].m(e,null))}for(group_outros(),n=i.length;n<s.length;n+=1)c(n);check_outros()}(!r||128&o&&n!==(n="menu-content container "+t[7]+" svelte-g3lzae"))&&attr(e,"class",n)},i(t){if(!r){for(let t=0;t<i.length;t+=1)transition_in(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)transition_out(s[t]);r=!1},d(t){t&&detach(e),destroy_each(s,t),o=!1,run_all(a)}}}function create_each_block$3(t){let e,n,r,o;const a=[t[19]];let i={};for(let t=0;t<a.length;t+=1)i=assign$1(i,a[t]);return n=new Block({props:i}),{c(){e=element("div"),create_component(n.$$.fragment),r=space(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var o=children(e);claim_component(n.$$.fragment,o),r=claim_space(o),o.forEach(detach),this.h()},h(){attr(e,"class","menu-item svelte-g3lzae")},m(t,a){insert_hydration(t,e,a),mount_component(n,e,null),append_hydration(e,r),o=!0},p(t,e){const r=4&e?get_spread_update(a,[get_spread_object(t[19])]):{};n.$set(r)},i(t){o||(transition_in(n.$$.fragment,t),o=!0)},o(t){transition_out(n.$$.fragment,t),o=!1},d(t){t&&detach(e),destroy_component(n)}}}function create_fragment$p(t){let e,n,r,o,a=t[2].length&&create_if_block$d(t);return{c(){a&&a.c(),e=empty()},l(t){a&&a.l(t),e=empty()},m(i,s){a&&a.m(i,s),insert_hydration(i,e,s),n=!0,r||(o=listen(window,"click",t[11]),r=!0)},p(t,n){let[r]=n;t[2].length?a?(a.p(t,r),4&r&&transition_in(a,1)):(a=create_if_block$d(t),a.c(),transition_in(a,1),a.m(e.parentNode,e)):a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros())},i(t){n||(transition_in(a),n=!0)},o(t){transition_out(a),n=!1},d(t){a&&a.d(t),t&&detach(e),r=!1,o()}}}function instance$p(t,e,n){let r,o,a,i,s,c,l,u;const{flags:d,themeData:p,emotion:f}=getContext("visContainer");component_subscribe(t,d,(t=>n(3,u=t))),component_subscribe(t,p,(t=>n(15,l=t)));let{id:h}=e,{key:m}=e,{children:g}=e,_=!1;return t.$$set=t=>{"id"in t&&n(0,h=t.id),"key"in t&&n(1,m=t.key),"children"in t&&n(2,g=t.children)},t.$$.update=()=>{32770&t.$$.dirty&&n(14,({getProp:r,css:o}=getThemeStyleHelpers(f,l,m)),r,(n(13,o),n(15,l),n(1,m))),32770&t.$$.dirty&&n(12,({getProp:a}=getThemeStyleHelpers(f,l,m,"button")),a),57354&t.$$.dirty&&n(7,i="function"==typeof o?o(_templateObject$9||(_templateObject$9=_taggedTemplateLiteral(["\n                  top: 30px;\n                  right: 0px;\n                  background: ",";\n                  ","\n                  ","\n                  ","\n                  text-align: ",";\n                  width: ",";\n                  max-width: ",";\n                  white-space: ",";\n                  .menu-item + .menu-item {\n                      border-top: 1px solid ",";\n                  }\n                  ","\n              "])),r("background",u.dark?"#222222":"#ffffff"),fourSides("padding-%",r("padding","0px"),!0),fourSides("border-%",r("border","1px solid ".concat(u.dark?"#444":"#ccc")),!0),fourCorners("border-%-radius",r("borderRadius","4px")),r("textAlign"),r("width"),r("maxWidth"),r("whiteSpace","nowrap"),u.dark?"#444":"#ccc",linkStyles(r,l,m)):""),12296&t.$$.dirty&&n(6,s="function"==typeof o?o(_templateObject2$1||(_templateObject2$1=_taggedTemplateLiteral(["\n                  /* We have to place default button styles here so they get overwritten\n                  by the dynamic styles */\n                  cursor: pointer;\n                  border: 0;\n                  padding: 0;\n                  margin: 0;\n                  box-shadow: none;\n                  background: none;\n                  z-index: 1;\n                  line-height: 0;\n                  ","\n\n                  > svg line {\n                      stroke: ",";\n                  }\n                  > svg path,\n                  svg circle,\n                  svg rect {\n                      fill: ",";\n                  }\n              "])),sharedContainerStyles(a),u.dark?"white":"black",a("iconColor",u.dark?"white":"black")):""),32770&t.$$.dirty&&n(5,c=get_1(l,"blocks.".concat(m,".options.svgIcon")))},[h,m,g,u,_,c,s,i,d,p,function(){n(4,_=!_)},function(){n(4,_=!1)},a,o,r,l,function(e){bubble.call(this,t,e)},function(e){bubble.call(this,t,e)}]}class Menu extends SvelteComponent{constructor(t){super(),init(this,t,instance$p,create_fragment$p,safe_not_equal,{id:0,key:1,children:2},add_css$9)}}function create_default_slot$3(t){let e,n;return e=new InlineEditable({props:{key:"metadata.annotate.notes",additionalAllowedTags:["details","summary"]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop$1,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$o(t){let e,n;return e=new TextBlock({props:{supportsCaption:!0,tag:"div",id:t[0],key:t[1],type:t[2],$$slots:{default:[create_default_slot$3]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){let[r]=n;const o={};1&r&&(o.id=t[0]),2&r&&(o.key=t[1]),4&r&&(o.type=t[2]),8&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function instance$o(t,e,n){let{id:r}=e,{key:o}=e,{type:a}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"key"in t&&n(1,o=t.key),"type"in t&&n(2,a=t.type)},[r,o,a]}class Notes$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$o,create_fragment$o,safe_not_equal,{id:0,key:1,type:2})}}function create_fragment$n(t){let e,n,r,o;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class",n="block-"+t[1]+" "+t[3]),attr(e,"data-block-id",r=t[4].dev?t[0]:null),attr(e,"data-block-type",o=t[4].dev?t[2]:null),toggle_class(e,"export-rect",t[4].svgonly)},m(t,n){insert_hydration(t,e,n)},p(t,a){let[i]=a;10&i&&n!==(n="block-"+t[1]+" "+t[3])&&attr(e,"class",n),17&i&&r!==(r=t[4].dev?t[0]:null)&&attr(e,"data-block-id",r),20&i&&o!==(o=t[4].dev?t[2]:null)&&attr(e,"data-block-type",o),26&i&&toggle_class(e,"export-rect",t[4].svgonly)},i:noop$1,o:noop$1,d(t){t&&detach(e)}}}function instance$n(t,e,n){let r,o,a,i,s;const{themeData:c,emotion:l,flags:u}=getContext("visContainer");component_subscribe(t,c,(t=>n(9,i=t))),component_subscribe(t,u,(t=>n(4,s=t)));let{id:d}=e,{key:p}=e,{type:f}=e;return t.$$set=t=>{"id"in t&&n(0,d=t.id),"key"in t&&n(1,p=t.key),"type"in t&&n(2,f=t.type)},t.$$.update=()=>{514&t.$$.dirty&&n(7,({getProp:r,css:o}=getThemeStyleHelpers(l,i,p)),r,(n(8,o),n(9,i),n(1,p))),384&t.$$.dirty&&n(3,a="function"==typeof o?o(_templateObject$8||(_templateObject$8=_taggedTemplateLiteral(["\n                  display: inline-block;\n                  width: ",";\n                  height: ",";\n                  background: ",";\n                  ","\n              "])),toPixel(r("width",100)),toPixel(r("height",10)),toPixel(r("background","#ccc")),margins(r)):"")},[d,p,f,a,s,c,u,r,o,i]}class Rectangle$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$n,create_fragment$n,safe_not_equal,{id:0,key:1,type:2})}}function create_fragment$m(t){let e,n,r,o;return{c(){e=element("hr"),this.h()},l(t){e=claim_element(t,"HR",{class:!0,"data-block-id":!0,"data-block-type":!0}),this.h()},h(){attr(e,"class",n="block-"+t[1]+" "+t[4]),attr(e,"data-block-id",r=t[3].dev?t[0]:null),attr(e,"data-block-type",o=t[3].dev?t[2]:null),toggle_class(e,"dw-line",t[3].svgonly)},m(t,n){insert_hydration(t,e,n)},p(t,a){let[i]=a;18&i&&n!==(n="block-"+t[1]+" "+t[4])&&attr(e,"class",n),9&i&&r!==(r=t[3].dev?t[0]:null)&&attr(e,"data-block-id",r),12&i&&o!==(o=t[3].dev?t[2]:null)&&attr(e,"data-block-type",o),26&i&&toggle_class(e,"dw-line",t[3].svgonly)},i:noop$1,o:noop$1,d(t){t&&detach(e)}}}function instance$m(t,e,n){let r,o,a,i,s;const{themeData:c,emotion:l,flags:u}=getContext("visContainer");component_subscribe(t,c,(t=>n(9,s=t))),component_subscribe(t,u,(t=>n(3,i=t)));let{id:d}=e,{key:p}=e,{type:f}=e;return t.$$set=t=>{"id"in t&&n(0,d=t.id),"key"in t&&n(1,p=t.key),"type"in t&&n(2,f=t.type)},t.$$.update=()=>{514&t.$$.dirty&&n(7,({getProp:r,css:o}=getThemeStyleHelpers(l,s,p)),r,(n(8,o),n(9,s),n(1,p))),392&t.$$.dirty&&n(4,a="function"==typeof o?o(_templateObject$7||(_templateObject$7=_taggedTemplateLiteral(["\n                  border: 0;\n                  border-bottom: "," ","\n                      ",";\n                  ","\n              "])),toPixel(r("width",1)),r("style","solid"),r("color",i.dark?"#eeeeee":"#222222"),margins(r)):"")},[d,p,f,i,a,c,u,r,o,s]}class RuleHTML extends SvelteComponent{constructor(t){super(),init(this,t,instance$m,create_fragment$m,safe_not_equal,{id:0,key:1,type:2})}}function add_css$8(t){append_styles(t,"svelte-12beer4","svg.svelte-12beer4{width:100%}")}function create_fragment$l(t){let e,n,r,o,a,i,s;return{c(){e=svg_element("svg"),n=svg_element("line"),this.h()},l(t){e=claim_svg_element(t,"svg",{class:!0,"data-block-id":!0,"data-block-type":!0});var r=children(e);n=claim_svg_element(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){attr(n,"x1","0"),attr(n,"y1",r=t[3]/2),attr(n,"x2",t[6]),attr(n,"y2",o=t[3]/2),attr(e,"class",a="block-"+t[2]+" "+t[7]+" svelte-12beer4"),attr(e,"data-block-id",i=t[4].dev?t[0]:null),attr(e,"data-block-type",s=t[4].dev?t[1]:null)},m(r,o){insert_hydration(r,e,o),append_hydration(e,n),t[13](e)},p(t,c){let[l]=c;8&l&&r!==(r=t[3]/2)&&attr(n,"y1",r),64&l&&attr(n,"x2",t[6]),8&l&&o!==(o=t[3]/2)&&attr(n,"y2",o),132&l&&a!==(a="block-"+t[2]+" "+t[7]+" svelte-12beer4")&&attr(e,"class",a),17&l&&i!==(i=t[4].dev?t[0]:null)&&attr(e,"data-block-id",i),18&l&&s!==(s=t[4].dev?t[1]:null)&&attr(e,"data-block-type",s)},i:noop$1,o:noop$1,d(n){n&&detach(e),t[13](null)}}}function instance$l(t,e,n){let r,o,a,i,s,c;const{themeData:l,emotion:u,flags:d}=getContext("visContainer");component_subscribe(t,l,(t=>n(12,c=t))),component_subscribe(t,d,(t=>n(4,s=t)));let p,{id:f}=e,{type:h}=e,{key:m}=e,g=0;return onMount((()=>{n(6,g=p.getBoundingClientRect().width)})),"undefined"!=typeof window&&window.addEventListener("resize",(()=>{n(6,g=p.getBoundingClientRect().width)})),t.$$set=t=>{"id"in t&&n(0,f=t.id),"type"in t&&n(1,h=t.type),"key"in t&&n(2,m=t.key)},t.$$.update=()=>{4100&t.$$.dirty&&n(10,({getProp:r,css:o}=getThemeStyleHelpers(u,c,m)),r,(n(11,o),n(12,c),n(2,m))),1024&t.$$.dirty&&n(3,a=r("width",1)),3096&t.$$.dirty&&n(7,i="function"==typeof o?o(_templateObject$6||(_templateObject$6=_taggedTemplateLiteral(["\n                  height: ",";\n                  ","\n                  line {\n                      stroke: ",";\n                      stroke-width: ",";\n                      stroke-dasharray: ",";\n                      stroke-linecap: ",";\n                  }\n              "])),toPixel(a),margins(r),r("color",s.dark?"#eeeeee":"#222222"),toPixel(a),r("strokeDasharray"),r("strokeLinecap")):"")},[f,h,m,a,s,p,g,i,l,d,r,o,c,function(t){binding_callbacks[t?"unshift":"push"]((()=>{p=t,n(5,p)}))}]}class RuleSVG extends SvelteComponent{constructor(t){super(),init(this,t,instance$l,create_fragment$l,safe_not_equal,{id:0,type:1,key:2},add_css$8)}}var decodeHtml=function(t){return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent},_templateObject$5,_templateObject2;function add_css$7(t){append_styles(t,"svelte-w37s36","button.svelte-w37s36.svelte-w37s36{display:block;cursor:pointer;line-height:0}button.svelte-w37s36 svg.svelte-w37s36{fill:currentColor}")}function get_each_context$2(t,e,n){const r=t.slice();return r[31]=e[n],r}function create_if_block$c(t){let e,n,r,o,a,i,s,c,l,u,d;return{c(){e=element("button"),n=svg_element("svg"),r=svg_element("path"),s=space(),this.h()},l(t){e=claim_element(t,"BUTTON",{"data-tool":!0,class:!0});var o=children(e);n=claim_svg_element(o,"svg",{alt:!0,viewBox:!0,class:!0});var a=children(n);r=claim_svg_element(a,"path",{d:!0}),children(r).forEach(detach),a.forEach(detach),s=claim_space(o),o.forEach(detach),this.h()},h(){attr(r,"d",o=t[6][t[31]]?t[6][t[31]].path:t[8][t[31]].iconPath),attr(n,"alt",a=t[8][t[31]].alt),attr(n,"viewBox",i=t[6][t[31]]?t[6][t[31]].viewBox:"0 0 30 30"),attr(n,"class","svelte-w37s36"),attr(e,"data-tool",c=t[31]),attr(e,"class",l=null_to_empty(t[15](t[3],t[31]))+" svelte-w37s36")},m(o,a){insert_hydration(o,e,a),append_hydration(e,n),append_hydration(n,r),append_hydration(e,s),u||(d=listen(e,"click",(function(){is_function(t[8][t[31]].action)&&t[8][t[31]].action.apply(this,arguments)})),u=!0)},p(s,u){t=s,448&u[0]&&o!==(o=t[6][t[31]]?t[6][t[31]].path:t[8][t[31]].iconPath)&&attr(r,"d",o),384&u[0]&&a!==(a=t[8][t[31]].alt)&&attr(n,"alt",a),192&u[0]&&i!==(i=t[6][t[31]]?t[6][t[31]].viewBox:"0 0 30 30")&&attr(n,"viewBox",i),128&u[0]&&c!==(c=t[31])&&attr(e,"data-tool",c),136&u[0]&&l!==(l=null_to_empty(t[15](t[3],t[31]))+" svelte-w37s36")&&attr(e,"class",l)},d(t){t&&detach(e),u=!1,d()}}}function create_each_block$2(t){let e,n=!t[8][t[31]].hide&&create_if_block$c(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert_hydration(t,e,r)},p(t,r){t[8][t[31]].hide?n&&(n.d(1),n=null):n?n.p(t,r):(n=create_if_block$c(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&detach(e)}}}function create_fragment$k(t){let e,n,r,o,a=t[7],i=[];for(let e=0;e<a.length;e+=1)i[e]=create_each_block$2(get_each_context$2(t,a,e));return{c(){e=element("div");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){e=claim_element(t,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0});var n=children(e);for(let t=0;t<i.length;t+=1)i[t].l(n);n.forEach(detach),this.h()},h(){attr(e,"class",n="block-"+t[1]+" "+t[5]),attr(e,"data-block-id",r=t[4].dev?t[0]:null),attr(e,"data-block-type",o=t[4].dev?t[2]:null)},m(t,n){insert_hydration(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,s){if(33224&s[0]){let n;for(a=t[7],n=0;n<a.length;n+=1){const r=get_each_context$2(t,a,n);i[n]?i[n].p(r,s):(i[n]=create_each_block$2(r),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}34&s[0]&&n!==(n="block-"+t[1]+" "+t[5])&&attr(e,"class",n),17&s[0]&&r!==(r=t[4].dev?t[0]:null)&&attr(e,"data-block-id",r),20&s[0]&&o!==(o=t[4].dev?t[2]:null)&&attr(e,"data-block-type",o)},i:noop$1,o:noop$1,d(t){t&&detach(e),destroy_each(i,t)}}}function instance$k(t,e,n){let r,o,a,i,s,c,l,u,d,p,f,h,m,g,_,y;const{chart:b,themeData:$,emotion:v,__:k,postEvent:x,dwChart:w,isIframe:E,teamPublicSettings:T,flags:S}=getContext("visContainer");component_subscribe(t,b,(t=>n(24,g=t))),component_subscribe(t,$,(t=>n(22,f=t))),component_subscribe(t,x,(t=>n(23,m=t))),component_subscribe(t,w,(t=>n(26,y=t))),component_subscribe(t,T,(t=>n(25,_=t))),component_subscribe(t,S,(t=>n(4,h=t)));let{id:M}=e,{key:A}=e,{type:C}=e,D=!1;function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["background: ".concat(u("buttons.".concat(t,".background"),e.background),";"),"color: ".concat(u("buttons.".concat(t,".color"),e.color),";"),fourSides("border-%",u("buttons.".concat(t,".border"),e.border))].join("\n")}return onMount((()=>n(16,D=!0))),t.$$set=t=>{"id"in t&&n(0,M=t.id),"key"in t&&n(1,A=t.key),"type"in t&&n(2,C=t.type)},t.$$.update=()=>{130023424&t.$$.dirty[0]&&n(20,r=getDownloadCSVHandler({$postEvent:m,$chart:g,$dwChart:y,$teamPublicSettings:_,$themeData:f})),16842752&t.$$.dirty[0]&&n(21,o=encodeURIComponent(get_1(g,"metadata.visualize.sharing.auto",!1)?D?document.referrer:"":get_1(g,"metadata.visualize.sharing.url"))),28311552&t.$$.dirty[0]&&n(8,a={twitter:{alt:k("Share on Twitter"),action(){const t="https://twitter.com/intent/tweet?text=".concat(o);window.open(t,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),m&&m("share",{tool:"twitter",url:t})},iconPath:"M28,6.937c-0.957,0.425-1.985,0.711-3.064,0.84c1.102-0.66,1.947-1.705,2.345-2.951c-1.03,0.611-2.172,1.055-3.388,1.295\nc-0.973-1.037-2.359-1.685-3.893-1.685c-2.946,0-5.334,2.389-5.334,5.334c0,0.418,0.048,0.826,0.138,1.215\nc-4.433-0.222-8.363-2.346-10.995-5.574C3.351,6.199,3.088,7.115,3.088,8.094c0,1.85,0.941,3.483,2.372,4.439\nc-0.874-0.028-1.697-0.268-2.416-0.667c0,0.023,0,0.044,0,0.067c0,2.585,1.838,4.741,4.279,5.23\nc-0.447,0.122-0.919,0.187-1.406,0.187c-0.343,0-0.678-0.034-1.003-0.095c0.679,2.119,2.649,3.662,4.983,3.705\nc-1.825,1.431-4.125,2.284-6.625,2.284c-0.43,0-0.855-0.025-1.273-0.075c2.361,1.513,5.164,2.396,8.177,2.396\nc9.812,0,15.176-8.128,15.176-15.177c0-0.231-0.005-0.461-0.015-0.69C26.38,8.945,27.285,8.006,28,6.937z"},facebook:{alt:k("Share on Facebook"),action(){const t="https://www.facebook.com/sharer/sharer.php?u=".concat(o);window.open(t,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),m&&m("share",{tool:"facebook",url:t})},iconPath:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5\nc1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697\nC22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3"},linkedin:{alt:k("Share on LinkedIn"),action(){const t="https://www.linkedin.com/cws/share?url=".concat(o);window.open(t,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),m&&m("share",{tool:"linkedin",url:t})},iconPath:"M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h18c1.105,0,2-0.895,2-2V6C26,4.895,25.105,4,24,4z\nM10.954,22h-2.95 v-9.492h2.95V22z\nM9.449,11.151c-0.951,0-1.72-0.771-1.72-1.72c0-0.949,0.77-1.719,1.72-1.719c0.948,0,1.719,0.771,1.719,1.719\nC11.168,10.38,10.397,11.151,9.449,11.151z M22.004,22h-2.948v-4.616c0-1.101-0.02-2.517-1.533-2.517\nc-1.535,0-1.771,1.199-1.771,2.437V22h-2.948v-9.492h2.83v1.297h0.04c0.394-0.746,1.356-1.533,2.791-1.533\nc2.987,0,3.539,1.966,3.539,4.522V22z\n    "},email:{alt:k("Share via Email"),action(){const t="mailto:?subject=".concat(encodeURIComponent(decodeHtml(g.title)),"&body=").concat(o);m&&m("share",{tool:"email",url:t}),window.location.href=t},iconPath:"M2 9v12c0 1.1.9 2 2 2h22c1.1 0 2-.9 2-2V9c0-.2 0-.5-.1-.7L17.6 18c-.7.7-1.6 1-2.6\n1s-1.8-.3-2.6-1L2.1 8.3c-.1.2-.1.5-.1.7zm24-2h.4l-10.2 9.5c-.7.6-1.7.6-2.4 0L3.6 7H26z\n"},print:{alt:k("Print"),hide:!E,action(){m&&m("share",{tool:"print"}),window.print()},iconPath:"M7 4a1 1 0 0 0-1 1v2h18V5a1 1 0 0 0-1-1H7ZM4 9a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h2v5h18v-5h2a2 2 0 0 0\n2-2v-9a2 2 0 0 0-2-2H4Zm4 6h14v10H8V15Z\n"},downloadCSV:{alt:k("Get the data"),action(t){r(t)},iconPath:"M7 2a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h13.79a2.998 2.998 0 0 1-.79-2c0-1.654 1.346-3\n3-3v-2c0-1.302.839-2.401 2-2.816V9.5a1 1 0 0 0-.293-.707l-6.5-6.5A1 1 0 0 0 17.5 2H7Zm10\n1.904L23.096 10H18a1 1 0 0 1-1-1V3.904Zm-5.71 9.905c.487 0 .822.098.96.185l-.229 1.16a1.37 1.37 0 0\n0-.64-.14c-.785 0-1.486.677-1.486 2.427 0 1.687.644 2.348 1.478 2.348.231 0 .496-.05.664-.104l.135\n1.159c-.198.093-.584.168-1.063.168-1.808 0-2.671-1.486-2.671-3.494 0-2.667 1.48-3.71\n2.851-3.71Zm4.415 0c.47 0 .906.13 1.111.254l-.218 1.183a1.689 1.689 0 0 0-.9-.242c-.59\n0-.874.356-.874.73 0 .424.214.65.975 1.108.938.563 1.28 1.28 1.28 2.021-.002 1.302-.957 2.149-2.337\n2.149-.57 0-1.12-.144-1.355-.285l.199-1.19c.285.164.77.277 1.162.277.649 0 .975-.336.975-.802\n0-.505-.32-.765-.92-1.147-.967-.594-1.334-1.335-1.334-1.978 0-1.136.753-2.078\n2.236-2.078Zm1.818.062h1.522l.502 3.057c.123.76.266 1.625.361\n2.455h.026c.09-.84.209-1.688.334-2.485l.482-3.025h1.512l-1.617 7.076h-1.543l-1.579-7.078ZM26 20a1 1\n0 0 0-1 1v4h-2a1 1 0 0 0-1 1c0 .287.124.542.318.725l2.967 2.972a.994.994 0 0 0\n1.43-.002l2.967-2.97A.99.99 0 0 0 30 26a1 1 0 0 0-1-1h-2v-4a1 1 0 0 0-1-1Z\n"}}),16&t.$$.dirty[0]&&n(18,i={background:"transparent",border:"none",color:h.dark?"#dddddd":"#333333"}),4194306&t.$$.dirty[0]&&n(19,s=get_1(f,"blocks.".concat(A,".options"),{})),524288&t.$$.dirty[0]&&n(7,c=get_1(s,"tools",["facebook","linkedin","twitter"])),524288&t.$$.dirty[0]&&n(6,l=get_1(s,"icons",{})),4194306&t.$$.dirty[0]&&n(17,({getProp:u,css:d}=getThemeStyleHelpers(v,f,A)),u,(n(3,d),n(22,f),n(1,A))),393224&t.$$.dirty[0]&&n(5,p="function"==typeof d?d(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n                  display: flex;\n                  ","\n                  flex-direction: ",";\n                  gap: ",";\n\n                  button {\n                      ","\n                      ","\n                      ","\n                  }\n                  button:hover {\n                      ","\n                  }\n                  button svg {\n                      width: ",";\n                  }\n              "])),sharedContainerStyles(u),u("layout","column"),toPixel(u("gap")),fourSides("padding-%",u("buttons.base.padding","5px"),!0),fourCorners("border-%-radius",u("buttons.base.borderRadius")),O("base",i),O("base.hover"),toPixel(u("buttons.base.width",24))):"")},[M,A,C,d,h,p,l,c,a,b,$,x,w,T,S,function(t,e){return"function"!=typeof t?"":t(_templateObject$5||(_templateObject$5=_taggedTemplateLiteral(["\n            && {\n                ","\n            }\n            &&:hover {\n                ","\n            }\n        "])),O(e),O("".concat(e,".hover")))},D,u,i,s,r,o,f,m,g,_,y]}class ShareTools extends SvelteComponent{constructor(t){super(),init(this,t,instance$k,create_fragment$k,safe_not_equal,{id:0,key:1,type:2},add_css$7,[-1,-1])}}var validation={};Object.defineProperty(validation,"__esModule",{value:!0}),validation.isValidUrl=isAllowedSourceUrl_1=validation.isAllowedSourceUrl=void 0;const allowedSourceUrlRegExp=/^(https?|ftp):\/\//i;function isAllowedSourceUrl(t){return allowedSourceUrlRegExp.test(t)}var isAllowedSourceUrl_1=validation.isAllowedSourceUrl=isAllowedSourceUrl;const validUrlRegExp=/^(http|https):\/\/(([a-z0-9$\-_.+!*'(),;:&=]|%[0-9a-f]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?((\/(([a-z0-9$\-_.+!*'(),;:@&=~]|%[0-9a-f]{2})*(\/([a-z0-9$\-_.+!*'(),;:@&=]|%[0-9a-f]{2})*)*)|)?(\?([a-z0-9$\-_.+!*'()[\],;:@&=/?~]|%[0-9a-f]{2})*)?(#([a-z0-9$\-_.+!*'()[\],;:@&=/?~]|%[0-9a-f]{2})*)?)?$/i;function isValidUrl(t){return validUrlRegExp.test(t)}function create_if_block$b(t){let e,n;return e=new TextBlock({props:{tag:"span",id:t[0],key:t[1],type:t[2],supportsCaption:!0,defaultCaption:t[8]("blocks / source")+":",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[0]),2&n&&(r.key=t[1]),4&n&&(r.type=t[2]),4136&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_else_block$3(t){let e,n;return e=new InlineEditable({props:{class:"source",key:"metadata.describe.source-name"}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p:noop$1,i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$5(t){let e,n,r,o,a;return n=new InlineEditable({props:{key:"metadata.describe.source-name"}}),{c(){e=element("a"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"A",{class:!0,target:!0,rel:!0,href:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"class","source"),attr(e,"target","_blank"),attr(e,"rel","nofollow noopener noreferrer"),attr(e,"href",t[3])},m(i,s){insert_hydration(i,e,s),mount_component(n,e,null),r=!0,o||(a=listen(e,"click",t[9]),o=!0)},p(t,n){(!r||8&n)&&attr(e,"href",t[3])},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){t&&detach(e),destroy_component(n),o=!1,a()}}}function create_default_slot$2(t){let e,n,r,o;const a=[create_if_block_1$5,create_else_block$3],i=[];function s(t,e){return t[3]&&t[5]?0:1}return e=s(t),n=i[e]=a[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){i[e].m(t,n),insert_hydration(t,r,n),o=!0},p(t,o){let c=e;e=s(t),e===c?i[e].p(t,o):(group_outros(),transition_out(i[c],1,1,(()=>{i[c]=null})),check_outros(),n=i[e],n?n.p(t,o):(n=i[e]=a[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){o||(transition_in(n),o=!0)},o(t){transition_out(n),o=!1},d(t){i[e].d(t),t&&detach(r)}}}function create_fragment$j(t){let e,n,r=t[4]&&create_if_block$b(t);return{c(){r&&r.c(),e=empty()},l(t){r&&r.l(t),e=empty()},m(t,o){r&&r.m(t,o),insert_hydration(t,e,o),n=!0},p(t,n){let[o]=n;t[4]?r?(r.p(t,o),16&o&&transition_in(r,1)):(r=create_if_block$b(t),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros())},i(t){n||(transition_in(r),n=!0)},o(t){transition_out(r),n=!1},d(t){r&&r.d(t),t&&detach(e)}}}function instance$j(t,e,n){let r,o,a,i,s;const{chart:c,postEvent:l,__:u}=getContext("visContainer");component_subscribe(t,c,(t=>n(10,s=t))),component_subscribe(t,l,(t=>n(11,i=t)));let{id:d}=e,{key:p}=e,{type:f}=e;return t.$$set=t=>{"id"in t&&n(0,d=t.id),"key"in t&&n(1,p=t.key),"type"in t&&n(2,f=t.type)},t.$$.update=()=>{1024&t.$$.dirty&&n(4,r=get_1(s,"metadata.describe.source-name")),1024&t.$$.dirty&&n(3,o=get_1(s,"metadata.describe.source-url")),8&t.$$.dirty&&n(5,a=isAllowedSourceUrl_1(o))},[d,p,f,o,r,a,c,l,u,function(){i&&i("source.click",{url:o,name:r})},s]}validation.isValidUrl=isValidUrl;class Source$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$j,create_fragment$j,safe_not_equal,{id:0,key:1,type:2})}}function create_else_block$2(t){let e,n;return e=new TextBlock({props:{tag:"div",id:t[0],key:t[1],type:t[2],$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[0]),2&n&&(r.key=t[1]),4&n&&(r.type=t[2]),2080&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block$a(t){let e,n;return e=new TextBlock({props:{tag:"div",id:t[0],key:t[1],type:t[2],supportsCaption:!0,$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[0]),2&n&&(r.key=t[1]),4&n&&(r.type=t[2]),2064&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot_1$1(t){let e,n,r=clean(t[5])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){32&n&&r!==(r=clean(t[5])+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_default_slot$1(t){let e,n;return e=new InlineEditable({props:{key:"metadata.custom."+t[4]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.key="metadata.custom."+t[4]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_fragment$i(t){let e,n,r,o;const a=[create_if_block$a,create_else_block$2],i=[];function s(t,e){return"string"==typeof t[3]?0:1}return e=s(t),n=i[e]=a[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){i[e].m(t,n),insert_hydration(t,r,n),o=!0},p(t,o){let[c]=o,l=e;e=s(t),e===l?i[e].p(t,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),n=i[e],n?n.p(t,c):(n=i[e]=a[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){o||(transition_in(n),o=!0)},o(t){transition_out(n),o=!1},d(t){i[e].d(t),t&&detach(r)}}}function instance$i(t,e,n){let r,o,a,i,s,c;const{chart:l,themeData:u}=getContext("visContainer");component_subscribe(t,l,(t=>n(9,s=t))),component_subscribe(t,u,(t=>n(10,c=t)));let{id:d}=e,{key:p}=e,{type:f}=e;return t.$$set=t=>{"id"in t&&n(0,d=t.id),"key"in t&&n(1,p=t.key),"type"in t&&n(2,f=t.type)},t.$$.update=()=>{1026&t.$$.dirty&&n(4,r=get_1(c,"blocks.".concat(p,".options.customField"))),1026&t.$$.dirty&&n(8,o=get_1(c,"blocks.".concat(p,".options.text"))),528&t.$$.dirty&&n(3,a=r?get_1(s,"metadata.custom.".concat(r),""):null),280&t.$$.dirty&&n(5,i=r?!0===a&&o?o:a:o||"")},[d,p,f,a,r,i,l,u,o,s,c]}class Text extends SvelteComponent{constructor(t){super(),init(this,t,instance$i,create_fragment$i,safe_not_equal,{id:0,key:1,type:2})}}const CHAR_W={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4};var estimateTextWidth=function(t){if(!t)return 0;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:14)/14;return t.split("").reduce(((t,e)=>t+(CHAR_W[e]||CHAR_W.a)),0)*e},_templateObject$4;function add_css$6(t){append_styles(t,"svelte-1rfvry0","svg.svelte-1rfvry0{pointer-events:none}text.svelte-1rfvry0{text-anchor:middle;fill:currentColor;transform-box:fill-box;transform-origin:center}")}function create_if_block$9(t){let e,n,r,o,a,i,s,c,l,u,d=purifyHtml(t[3],"")+"";return{c(){e=svg_element("svg"),n=svg_element("text"),r=text(d),this.h()},l(t){e=claim_svg_element(t,"svg",{width:!0,height:!0,class:!0,"data-block-id":!0,"data-block-type":!0});var o=children(e);n=claim_svg_element(o,"text",{class:!0,"dominant-baseline":!0,style:!0,transform:!0,"data-rotate":!0,x:!0,y:!0});var a=children(n);r=claim_text(a,d),a.forEach(detach),o.forEach(detach),this.h()},h(){attr(n,"class",o="watermark "+t[6]+" svelte-1rfvry0"),attr(n,"dominant-baseline","central"),set_style(n,"font-size",t[7]),attr(n,"transform",a="rotate("+t[8]+")"),attr(n,"data-rotate",t[8]),attr(n,"x",i=.5*t[4]),attr(n,"y",s=.5*t[5]),attr(e,"width",t[4]),attr(e,"height",t[5]),attr(e,"class",c="block-"+t[1]+" svelte-1rfvry0"),attr(e,"data-block-id",l=t[9].dev?t[0]:null),attr(e,"data-block-type",u=t[9].dev?t[2]:null)},m(t,o){insert_hydration(t,e,o),append_hydration(e,n),append_hydration(n,r)},p(t,p){8&p&&d!==(d=purifyHtml(t[3],"")+"")&&set_data(r,d),64&p&&o!==(o="watermark "+t[6]+" svelte-1rfvry0")&&attr(n,"class",o),128&p&&set_style(n,"font-size",t[7]),256&p&&a!==(a="rotate("+t[8]+")")&&attr(n,"transform",a),256&p&&attr(n,"data-rotate",t[8]),16&p&&i!==(i=.5*t[4])&&attr(n,"x",i),32&p&&s!==(s=.5*t[5])&&attr(n,"y",s),16&p&&attr(e,"width",t[4]),32&p&&attr(e,"height",t[5]),2&p&&c!==(c="block-"+t[1]+" svelte-1rfvry0")&&attr(e,"class",c),513&p&&l!==(l=t[9].dev?t[0]:null)&&attr(e,"data-block-id",l),516&p&&u!==(u=t[9].dev?t[2]:null)&&attr(e,"data-block-type",u)},d(t){t&&detach(e)}}}function create_fragment$h(t){let e,n=t[5]&&create_if_block$9(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert_hydration(t,e,r)},p(t,r){let[o]=r;t[5]?n?n.p(t,o):(n=create_if_block$9(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:noop$1,o:noop$1,d(t){n&&n.d(t),t&&detach(e)}}}function instance$h(t,e,n){let r,o,a,i,s,c,l,u,d,p,f,h,m,g,_,y,b,$,v,k,x;const{outerWidth:w,outerHeight:E}=getContext("stores");component_subscribe(t,w,(t=>n(28,v=t))),component_subscribe(t,E,(t=>n(27,$=t)));const{chart:T,themeData:S,textDirection:M,emotion:A,flags:C}=getContext("visContainer");component_subscribe(t,T,(t=>n(29,k=t))),component_subscribe(t,S,(t=>n(25,y=t))),component_subscribe(t,M,(t=>n(26,b=t))),component_subscribe(t,C,(t=>n(9,x=t)));let{id:D}=e,{key:O}=e,{type:N}=e;return t.$$set=t=>{"id"in t&&n(0,D=t.id),"key"in t&&n(1,O=t.key),"type"in t&&n(2,N=t.type)},t.$$.update=()=>{33554434&t.$$.dirty&&n(23,r=get_1(y,"blocks.".concat(O,".options"),void 0)),8388608&t.$$.dirty&&n(24,o=get_1(r,"customField")),8388608&t.$$.dirty&&n(21,a=get_1(r,"rotate",!0)),33554434&t.$$.dirty&&n(20,i=get_1(y,"blocks.".concat(O,".styles.typography.fontSize"))),562036736&t.$$.dirty&&n(3,s=!!r&&(o?get_1(k,"metadata.custom.".concat(o),""):get_1(r,"text","CONFIDENTIAL"))),268435456&t.$$.dirty&&n(4,c=v),134217728&t.$$.dirty&&n(5,l=$),69206064&t.$$.dirty&&n(22,u=a?-Math.atan(l/c)*("rtl"===b?-1:1):0),4194304&t.$$.dirty&&n(8,d=180*u/Math.PI),2097200&t.$$.dirty&&n(19,p=a?Math.sqrt(c*c+l*l):c),8&t.$$.dirty&&n(18,f=estimateTextWidth(s,20)),1835008&t.$$.dirty&&n(7,h="".concat(i||Math.round(.75*p/f*20),"px")),33554434&t.$$.dirty&&n(16,({getProp:m,css:g}=getThemeStyleHelpers(A,y,O)),m,(n(17,g),n(25,y),n(1,O))),33751042&t.$$.dirty&&n(6,_="function"==typeof g?g(_templateObject$4||(_templateObject$4=_taggedTemplateLiteral(["\n                  opacity: ",";\n                  ","\n              "])),m("opacity",.182),typography(y,O,{fontWeight:700})):"")},[D,O,N,s,c,l,_,h,d,x,w,E,T,S,M,C,m,g,f,p,i,a,u,r,o,y,b,$,v,k]}class Watermark$1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$h,create_fragment$h,safe_not_equal,{id:0,key:1,type:2},add_css$6)}}var blocks={attribution:{component:Attribution,region:"footer",order:10,test(t){let{chart:e,entitlements:n}=t;return!!n.requiresAttribution||get_1(e,"metadata.publish.force-attribution",!1)}},byline:{component:Byline$1,region:"footer",order:1,test(t){let{options:e,chart:n,flags:r}=t;return!(r.plain&&!e.forceInPlain)&&!!get_1(n,"metadata.describe.byline")}},container:{component:Container},description:{component:Description$1,region:"header",order:1,test(t){let{options:e,chart:n,flags:r}=t;return!(r.plain&&!e.forceInPlain)&&!!get_1(n,"metadata.describe.intro")}},downloadImage:{component:DownloadImage,region:"footer",order:7,test:testDownloadImage("image")},downloadPDF:{component:DownloadImage,region:"footer",order:8,test:testDownloadImage("pdf")},downloadSVG:{component:DownloadImage,region:"footer",order:9,test:testDownloadImage("svg")},edit:{component:EditInDatawrapper$1,region:"footer",order:5,test(t){let{chart:e,flags:n,options:r}=t;return!(n.static||n.plain&&!r.forceInPlain)&&(get_1(e,"forkable",!1)&&get_1(e,"metadata.publish.blocks.edit-in-datawrapper",!1))}},embed:{component:Embed$1,region:"footer",order:6,test(t){let{chart:e,flags:n,options:r}=t;return!(!get_1(e,"metadata.publish.blocks.embed")||n.static||n.plain&&!r.forceInPlain)}},filterUI:{component:FilterUI,region:"header",order:2,test(t){let{filterUI:e,flags:n}=t;return!n.static&&e}},getTheData:{component:GetTheData$1,region:"footer",order:4,test(t){let{chart:e,flags:n,options:r}=t;return get_1(e,"metadata.publish.blocks.get-the-data")&&!(n.plain&&!r.forceInPlain)&&!n.static&&"locator-map"!==e.type}},headline:{component:Headline$1,region:"header",order:0,test(t){let{chart:e,flags:n,options:r}=t;return!(n.plain&&!r.forceInPlain)&&!(!e.title||get_1(e,"metadata.describe.hide-title"))}},image:{component:Image,test(t){let{flags:e,options:n}=t;return!(e.plain&&!n.forceInPlain)}},logo:{component:Logo$1,test(t){let{chart:e,flags:n,options:r}=t;return!(n.plain&&!r.forceInPlain)&&(!!r.variants.length&&(get_1(e,"metadata.publish.blocks.logo.enabled")||"on"===n.logo))}},mapAttribution:{component:MapAttribution,region:"footer",order:3,test(t){let{mapAttribution:e}=t;return!!e}},menu:{component:Menu,test(t){let{block:e,flags:n,options:r}=t;return!(n.plain&&!r.forceInPlain||n.static)&&e.children.length>0}},notes:{component:Notes$1,region:"footer",order:0,test(t){let{chart:e,flags:n,options:r}=t;return!(n.plain&&!r.forceInPlain)&&!!get_1(e,"metadata.annotate.notes")}},rectangle:{component:Rectangle$1,test(t){let{flags:e,options:n}=t;return!(e.plain&&!n.forceInPlain)}},ruleHTML:{component:RuleHTML,test(t){let{options:e,flags:n}=t;return!(n.plain&&!e.forceInPlain)}},ruleSVG:{component:RuleSVG,test(t){let{options:e,flags:n}=t;return!(n.plain&&!e.forceInPlain)}},shareTools:{component:ShareTools,region:"bodyRight",test(t){let{options:e,chart:n,flags:r}=t;return!(r.static||r.plain&&!e.forceInPlain)&&get_1(n,"metadata.visualize.sharing.enabled",!1)}},source:{component:Source$1,region:"footer",order:2,test(t){let{chart:e,flags:n,options:r}=t;return!(n.plain&&!r.forceInPlain)&&!!get_1(e,"metadata.describe.source-name")}},text:{component:Text,test(t){let{options:e,chart:n,flags:r}=t;if(r.plain&&!e.forceInPlain)return!1;const o=get_1(e,"customField"),a=get_1(e,"text"),i=get_1(n,"metadata.custom.".concat(o));return o?i:a}},watermark:{component:Watermark$1,test(t){let{block:e,chart:n,themeData:r}=t;const o=get_1(r,"blocks.".concat(e.id||e.type,".options")),a=get_1(o,"customField"),i=get_1(o,"text","WATERMARK");return a?get_1(n,"metadata.custom.".concat(a),""):i}}};function testDownloadImage(t){return e=>{let{chart:n,flags:r,options:o,entitlements:a}=e;return!(r.static||r.plain&&!o.forceInPlain)&&(!!("pdf"!==t&&"svg"!==t||a.allowPrintExport)&&!!get_1(n,"metadata.publish.blocks.download-".concat(t)))}}var lodash_clonedeep={exports:{}};!function(t,e){var n=200,r="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",h="[object RegExp]",m="[object Set]",g="[object String]",_="[object Symbol]",y="[object WeakMap]",b="[object ArrayBuffer]",$="[object DataView]",v="[object Float32Array]",k="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",C=/\w*$/,D=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,N={};N[a]=N["[object Array]"]=N[b]=N[$]=N[i]=N[s]=N[v]=N[k]=N[x]=N[w]=N[E]=N[u]=N[d]=N[p]=N[h]=N[m]=N[g]=N[_]=N[T]=N[S]=N[M]=N[A]=!0,N["[object Error]"]=N[c]=N[y]=!1;var I="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,P="object"==typeof self&&self&&self.Object===Object&&self,R=I||P||Function("return this")(),L=e&&!e.nodeType&&e,F=L&&t&&!t.nodeType&&t,B=F&&F.exports===L;function U(t,e){return t.set(e[0],e[1]),t}function j(t,e){return t.add(e),t}function H(t,e,n,r){var o=-1,a=t?t.length:0;for(r&&a&&(n=t[++o]);++o<a;)n=e(n,t[o],o,t);return n}function Y(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function W(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var V,G=Array.prototype,K=Function.prototype,J=Object.prototype,Z=R["__core-js_shared__"],X=(V=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",Q=K.toString,tt=J.hasOwnProperty,et=J.toString,nt=RegExp("^"+Q.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=B?R.Buffer:void 0,ot=R.Symbol,at=R.Uint8Array,it=W(Object.getPrototypeOf,Object),st=Object.create,ct=J.propertyIsEnumerable,lt=G.splice,ut=Object.getOwnPropertySymbols,dt=rt?rt.isBuffer:void 0,pt=W(Object.keys,Object),ft=Ft(R,"DataView"),ht=Ft(R,"Map"),mt=Ft(R,"Promise"),gt=Ft(R,"Set"),_t=Ft(R,"WeakMap"),yt=Ft(Object,"create"),bt=Yt(ft),$t=Yt(ht),vt=Yt(mt),kt=Yt(gt),xt=Yt(_t),wt=ot?ot.prototype:void 0,Et=wt?wt.valueOf:void 0;function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){this.__data__=new St(t)}function Ct(t,e){var n=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&qt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!tt.call(t,i)||o&&("length"==i||jt(i,r))||n.push(i);return n}function Dt(t,e,n){var r=t[e];tt.call(t,e)&&zt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ot(t,e){for(var n=t.length;n--;)if(zt(t[n][0],e))return n;return-1}function Nt(t,e,n,r,o,f,y){var D;if(r&&(D=f?r(t,o,f,y):r(t)),void 0!==D)return D;if(!Kt(t))return t;var O=Wt(t);if(O){if(D=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,D)}else{var I=Ut(t),P=I==c||I==l;if(Vt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(I==p||I==a||P&&!f){if(Y(t))return f?t:{};if(D=function(t){return"function"!=typeof t.constructor||Ht(t)?{}:(e=it(t),Kt(e)?st(e):{});var e}(P?{}:t),!e)return function(t,e){return Rt(t,Bt(t),e)}(t,function(t,e){return t&&Rt(e,Jt(e),t)}(D,t))}else{if(!N[I])return f?t:{};D=function(t,e,n,r){var o=t.constructor;switch(e){case b:return Pt(t);case i:case s:return new o(+t);case $:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case v:case k:case x:case w:case E:case T:case S:case M:case A:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case u:return function(t,e,n){var r=e?n(z(t),!0):z(t);return H(r,U,new t.constructor)}(t,r,n);case d:case g:return new o(t);case h:return function(t){var e=new t.constructor(t.source,C.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return function(t,e,n){var r=e?n(q(t),!0):q(t);return H(r,j,new t.constructor)}(t,r,n);case _:return a=t,Et?Object(Et.call(a)):{}}var a}(t,I,Nt,e)}}y||(y=new At);var R=y.get(t);if(R)return R;if(y.set(t,D),!O)var L=n?function(t){return function(t,e,n){var r=e(t);return Wt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Jt,Bt)}(t):Jt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(L||t,(function(o,a){L&&(o=t[a=o]),Dt(D,a,Nt(o,e,n,r,a,t,y))})),D}function It(t){return!(!Kt(t)||(e=t,X&&X in e))&&(Gt(t)||Y(t)?nt:D).test(Yt(t));var e}function Pt(t){var e=new t.constructor(t.byteLength);return new at(e).set(new at(t)),e}function Rt(t,e,n,r){n||(n={});for(var o=-1,a=e.length;++o<a;){var i=e[o],s=r?r(n[i],t[i],i,n,t):void 0;Dt(n,i,void 0===s?t[i]:s)}return n}function Lt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}Tt.prototype.clear=function(){this.__data__=yt?yt(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:tt.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?r:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():lt.call(e,n,1),!0)},St.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Ot(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Ot(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new Tt,map:new(ht||St),string:new Tt}},Mt.prototype.delete=function(t){return Lt(this,t).delete(t)},Mt.prototype.get=function(t){return Lt(this,t).get(t)},Mt.prototype.has=function(t){return Lt(this,t).has(t)},Mt.prototype.set=function(t,e){return Lt(this,t).set(t,e),this},At.prototype.clear=function(){this.__data__=new St},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var o=r.__data__;if(!ht||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new Mt(o)}return r.set(t,e),this};var Bt=ut?W(ut,Object):function(){return[]},Ut=function(t){return et.call(t)};function jt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Yt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=$||ht&&Ut(new ht)!=u||mt&&Ut(mt.resolve())!=f||gt&&Ut(new gt)!=m||_t&&Ut(new _t)!=y)&&(Ut=function(t){var e=et.call(t),n=e==p?t.constructor:void 0,r=n?Yt(n):void 0;if(r)switch(r){case bt:return $;case $t:return u;case vt:return f;case kt:return m;case xt:return y}return e});var Wt=Array.isArray;function qt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Gt(t)}var Vt=dt||function(){return!1};function Gt(t){var e=Kt(t)?et.call(t):"";return e==c||e==l}function Kt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Jt(t){return qt(t)?Ct(t):function(t){if(!Ht(t))return pt(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Nt(t,!0,!0)}}(lodash_clonedeep,lodash_clonedeep.exports);var cloneDeep=lodash_clonedeep.exports,_templateObject$3;function add_css$5(t){append_styles(t,"svelte-ej8jdi",".is-static.svelte-ej8jdi a{color:unset;pointer-events:none;text-decoration:inherit}.dir-rtl .outer-container.svelte-ej8jdi{direction:rtl}.outer-container.svelte-ej8jdi{position:relative}.container-afterChart.svelte-ej8jdi{position:absolute;pointer-events:none;top:0;left:0;right:0;bottom:0}")}function get_each_context$1(t,e,n){const r=t.slice();return r[62]=e[n],r}const get_visBody_slot_changes=t=>({visBodyStyles:1024&t[0]}),get_visBody_slot_context=t=>({visBodyStyles:t[10]});function create_if_block_4(t){let e,n;return e=new Container({props:{key:"bodyLeft",children:t[7].children||[]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};128&n[0]&&(r.children=t[7].children||[]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot_2(t){let e,n,r;const o=[t[9]];let a={};for(let t=0;t<o.length;t+=1)a=assign$1(a,o[t]);e=new Block({props:a});const i=t[47].visBody,s=create_slot(i,t,t[49],get_visBody_slot_context);return{c(){create_component(e.$$.fragment),n=space(),s&&s.c()},l(t){claim_component(e.$$.fragment,t),n=claim_space(t),s&&s.l(t)},m(t,o){mount_component(e,t,o),insert_hydration(t,n,o),s&&s.m(t,o),r=!0},p(t,n){const a=512&n[0]?get_spread_update(o,[get_spread_object(t[9])]):{};e.$set(a),s&&s.p&&(!r||1024&n[0]|262144&n[1])&&update_slot_base(s,i,t,t[49],r?get_slot_changes(i,t[49],n,get_visBody_slot_changes):get_all_dirty_from_scope(t[49]),get_visBody_slot_context)},i(t){r||(transition_in(e.$$.fragment,t),transition_in(s,t),r=!0)},o(t){transition_out(e.$$.fragment,t),transition_out(s,t),r=!1},d(t){destroy_component(e,t),t&&detach(n),s&&s.d(t)}}}function create_if_block_3(t){let e,n;return e=new Container({props:{key:"bodyRight",children:t[6].children||[]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};64&n[0]&&(r.children=t[6].children||[]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot_1(t){let e,n,r,o,a,i=t[7].children.length>0&&create_if_block_4(t);n=new Container({props:{key:"bodyCenter",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:t}}});let s=t[6].children.length>0&&create_if_block_3(t);return{c(){i&&i.c(),e=space(),create_component(n.$$.fragment),r=space(),s&&s.c(),o=empty()},l(t){i&&i.l(t),e=claim_space(t),claim_component(n.$$.fragment,t),r=claim_space(t),s&&s.l(t),o=empty()},m(t,c){i&&i.m(t,c),insert_hydration(t,e,c),mount_component(n,t,c),insert_hydration(t,r,c),s&&s.m(t,c),insert_hydration(t,o,c),a=!0},p(t,r){t[7].children.length>0?i?(i.p(t,r),128&r[0]&&transition_in(i,1)):(i=create_if_block_4(t),i.c(),transition_in(i,1),i.m(e.parentNode,e)):i&&(group_outros(),transition_out(i,1,1,(()=>{i=null})),check_outros());const a={};1536&r[0]|262144&r[1]&&(a.$$scope={dirty:r,ctx:t}),n.$set(a),t[6].children.length>0?s?(s.p(t,r),64&r[0]&&transition_in(s,1)):(s=create_if_block_3(t),s.c(),transition_in(s,1),s.m(o.parentNode,o)):s&&(group_outros(),transition_out(s,1,1,(()=>{s=null})),check_outros())},i(t){a||(transition_in(i),transition_in(n.$$.fragment,t),transition_in(s),a=!0)},o(t){transition_out(i),transition_out(n.$$.fragment,t),transition_out(s),a=!1},d(t){i&&i.d(t),t&&detach(e),destroy_component(n,t),t&&detach(r),s&&s.d(t),t&&detach(o)}}}function create_if_block_2$1(t){let e,n,r=t[5],o=[];for(let e=0;e<r.length;e+=1)o[e]=create_each_block$1(get_each_context$1(t,r,e));const a=t=>transition_out(o[t],1,1,(()=>{o[t]=null}));return{c(){e=element("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var n=children(e);for(let t=0;t<o.length;t+=1)o[t].l(n);n.forEach(detach),this.h()},h(){attr(e,"class","container-afterChart svelte-ej8jdi")},m(t,r){insert_hydration(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(32&n[0]){let i;for(r=t[5],i=0;i<r.length;i+=1){const a=get_each_context$1(t,r,i);o[i]?(o[i].p(a,n),transition_in(o[i],1)):(o[i]=create_each_block$1(a),o[i].c(),transition_in(o[i],1),o[i].m(e,null))}for(group_outros(),i=r.length;i<o.length;i+=1)a(i);check_outros()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)transition_in(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)transition_out(o[t]);n=!1},d(t){t&&detach(e),destroy_each(o,t)}}}function create_each_block$1(t){let e,n;const r=[t[62]];let o={};for(let t=0;t<r.length;t+=1)o=assign$1(o,r[t]);return e=new Block({props:o}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const o=32&n[0]?get_spread_update(r,[get_spread_object(t[62])]):{};e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot(t){let e,n,r,o,a,i;e=new Container({props:{key:"bodyTop",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}});const s=[t[8]];let c={};for(let t=0;t<s.length;t+=1)c=assign$1(c,s[t]);r=new Block({props:c});let l=t[5]&&create_if_block_2$1(t);return{c(){create_component(e.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),l&&l.c(),a=empty()},l(t){claim_component(e.$$.fragment,t),n=claim_space(t),claim_component(r.$$.fragment,t),o=claim_space(t),l&&l.l(t),a=empty()},m(t,s){mount_component(e,t,s),insert_hydration(t,n,s),mount_component(r,t,s),insert_hydration(t,o,s),l&&l.m(t,s),insert_hydration(t,a,s),i=!0},p(t,n){const o={};1728&n[0]|262144&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i=256&n[0]?get_spread_update(s,[get_spread_object(t[8])]):{};r.$set(i),t[5]?l?(l.p(t,n),32&n[0]&&transition_in(l,1)):(l=create_if_block_2$1(t),l.c(),transition_in(l,1),l.m(a.parentNode,a)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros())},i(t){i||(transition_in(e.$$.fragment,t),transition_in(r.$$.fragment,t),transition_in(l),i=!0)},o(t){transition_out(e.$$.fragment,t),transition_out(r.$$.fragment,t),transition_out(l),i=!1},d(t){destroy_component(e,t),t&&detach(n),destroy_component(r,t),t&&detach(o),l&&l.d(t),t&&detach(a)}}}function create_if_block_1$4(t){let e,n,r=t[3].template.afterChart+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){8&n[0]&&r!==(r=t[3].template.afterChart+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_if_block$8(t){let e,n;return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(r,o){e.m(t[1],r,o),insert_hydration(r,n,o)},p(t,n){2&n[0]&&e.p(t[1])},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$g(t){let e,n,r,o,a,i=t[2]&&get_1(t[3],"template.afterChart");n=new Container({props:{key:"body",$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}});let s=i&&create_if_block_1$4(t),c=t[1]&&create_if_block$8(t);return{c(){e=element("div"),create_component(n.$$.fragment),r=space(),s&&s.c(),o=space(),c&&c.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var a=children(e);claim_component(n.$$.fragment,a),r=claim_space(a),s&&s.l(a),o=claim_space(a),c&&c.l(a),a.forEach(detach),this.h()},h(){attr(e,"class","outer-container svelte-ej8jdi"),toggle_class(e,"is-static",t[4].static)},m(i,l){insert_hydration(i,e,l),mount_component(n,e,null),append_hydration(e,r),s&&s.m(e,null),append_hydration(e,o),c&&c.m(e,null),t[48](e),a=!0},p(t,r){const l={};2016&r[0]|262144&r[1]&&(l.$$scope={dirty:r,ctx:t}),n.$set(l),12&r[0]&&(i=t[2]&&get_1(t[3],"template.afterChart")),i?s?s.p(t,r):(s=create_if_block_1$4(t),s.c(),s.m(e,o)):s&&(s.d(1),s=null),t[1]?c?c.p(t,r):(c=create_if_block$8(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!a||16&r[0])&&toggle_class(e,"is-static",t[4].static)},i(t){a||(transition_in(n.$$.fragment,t),a=!0)},o(t){transition_out(n.$$.fragment,t),a=!1},d(r){r&&detach(e),destroy_component(n),s&&s.d(),c&&c.d(),t[48](null)}}}function analyseRegions(t){const e=new Set,n=new Map;return function t(r){for(const o of r)e.add(o.type),"container"!==o.type&&"menu"!==o.type||n.set(o.id,o),o.children&&t(o.children)}(t),{used:e,containers:n}}function instance$g(t,e,n){let r,o,a,i,s,c,l,u,d,p,f,h,m,g,_,y,b,$,v,k,x,w,{$$slots:E={},$$scope:T}=e;const{themeData:S,outerWidth:M}=getContext("stores");component_subscribe(t,S,(t=>n(3,d=t))),component_subscribe(t,M,(t=>n(44,h=t)));let{container:A}=e,{allowPrintExport:C}=e,{chart:D}=e,{chartAfterBodyHTML:O}=e,{config:N}=e,{dwChart:I}=e,{emotion:P}=e,{filterUI:R}=e,{mapAttribution:L}=e,{isIframe:F}=e,{renderFlags:B}=e,{textDirection:U}=e,{theme:j}=e,{vis:H}=e,{__:Y}=e,{postEvent:z}=e,{teamPublicSettings:W}=e,{requiresAttribution:q}=e,{allBlocks:V}=e;const G=writable(D);component_subscribe(t,G,(t=>n(43,p=t)));const K=writable(N);component_subscribe(t,K,(t=>n(57,w=t)));const J=writable(I);component_subscribe(t,J,(t=>n(56,x=t)));const Z=writable(R);component_subscribe(t,Z,(t=>n(46,g=t)));const X=writable(L);component_subscribe(t,X,(t=>n(45,m=t)));const Q=writable(B);component_subscribe(t,Q,(t=>n(4,f=t)));const tt=writable(j);component_subscribe(t,tt,(t=>n(54,v=t)));const et=writable(H);component_subscribe(t,et,(t=>n(55,k=t)));const nt=writable(U);component_subscribe(t,nt,(t=>n(53,$=t)));const rt=writable(z);component_subscribe(t,rt,(t=>n(52,b=t)));const ot=writable(W);component_subscribe(t,ot,(t=>n(51,y=t)));const at=writable({allowPrintExport:C,requiresAttribution:q});function it(t){const e={type:"container",id:"header",children:[],...cloneDeep(t.header||{})},n={type:"container",id:"footer",children:[],...cloneDeep(t.footer||{})},r={type:"container",id:"bodyLeft",children:[],...cloneDeep(t.bodyLeft||{})},o={type:"container",id:"bodyRight",children:[],...cloneDeep(t.bodyRight||{})},a=cloneDeep(t.afterChart||[]),i=[e,n,r,o,{type:"container",children:a}],{used:s,containers:c}=analyseRegions(i),l=function(t,e){const n={footer:d.defaultFooterRegion||"footer",header:d.defaultHeaderRegion||"header"},r={};for(const[o,{region:a,order:i}]of Object.entries(blocks))if(a&&!t.has(o)){const t=e.has(n[a]||a)&&n[a]||a;if(e.has(t)){const n=e.get(t);void 0!==i&&(r[o]=i),n.children||(n.children=[]),n.children.push({type:o})}}return r}(s,c);return i.forEach((t=>{ct(t,l),st(t)})),{header:e,footer:n,bodyLeft:r,bodyRight:o,afterChart:a}}function st(t){t.children=(t.children||[]).filter((t=>{if("container"===t.type)return st(t),(t.children||[]).length>0;if(!blocks[t.type].test({options:get_1(d,"blocks.".concat(t.id||t.type,".options"),{}),block:t,chart:p,filterUI:g,mapAttribution:m,flags:f,themeData:d,entitlements:{requiresAttribution:q,allowPrintExport:C}}))return!1;const e=get_1(d,"blocks.".concat(t.id||t.type,".options.condition"));return null==e||!!resolveCondition(e,{chart:p,width:h,flags:f,team:p.organizationId,...parseChartLanguage(p.language)})}))}function ct(t,e){t.children.forEach(((t,n)=>{t.order=get_1(d,"blocks.".concat(t.id||t.type,".options.order"),get_1(e,t.id||t.type,n)),"container"!==t.type&&"menu"!==t.type||!t.children||ct(t,e)})),t.children=t.children.sort(((t,e)=>t.order-e.order))}return component_subscribe(t,at,(t=>n(50,_=t))),setContext("visContainer",{__:Y,chart:G,config:K,clean:clean$1,dwChart:J,emotion:P,entitlements:at,filterUI:Z,mapAttribution:X,flags:Q,isIframe:F,postEvent:rt,teamPublicSettings:ot,textDirection:nt,theme:tt,themeData:S,visualization:et}),t.$$set=t=>{"container"in t&&n(0,A=t.container),"allowPrintExport"in t&&n(25,C=t.allowPrintExport),"chart"in t&&n(26,D=t.chart),"chartAfterBodyHTML"in t&&n(1,O=t.chartAfterBodyHTML),"config"in t&&n(27,N=t.config),"dwChart"in t&&n(28,I=t.dwChart),"emotion"in t&&n(29,P=t.emotion),"filterUI"in t&&n(30,R=t.filterUI),"mapAttribution"in t&&n(31,L=t.mapAttribution),"isIframe"in t&&n(2,F=t.isIframe),"renderFlags"in t&&n(32,B=t.renderFlags),"textDirection"in t&&n(33,U=t.textDirection),"theme"in t&&n(34,j=t.theme),"vis"in t&&n(35,H=t.vis),"__"in t&&n(36,Y=t.__),"postEvent"in t&&n(37,z=t.postEvent),"teamPublicSettings"in t&&n(38,W=t.teamPublicSettings),"requiresAttribution"in t&&n(39,q=t.requiresAttribution),"allBlocks"in t&&n(40,V=t.allBlocks),"$$scope"in t&&n(49,T=t.$$scope)},t.$$.update=()=>{67108864&t.$$.dirty[0]&&set_store_value(G,p=D,p),134217728&t.$$.dirty[0]&&set_store_value(K,w=N,w),268435456&t.$$.dirty[0]&&set_store_value(J,x=I,x),1073741824&t.$$.dirty[0]&&set_store_value(Z,g=R,g),1&t.$$.dirty[1]&&set_store_value(X,m=L,m),2&t.$$.dirty[1]&&set_store_value(Q,f=B,f),16&t.$$.dirty[1]&&set_store_value(et,k=H,k),8&t.$$.dirty[1]&&set_store_value(tt,v=j,v),4&t.$$.dirty[1]&&set_store_value(nt,$=U,$),64&t.$$.dirty[1]&&set_store_value(rt,b=z,b),128&t.$$.dirty[1]&&set_store_value(ot,y=W,y),33554432&t.$$.dirty[0]|256&t.$$.dirty[1]&&set_store_value(at,_={allowPrintExport:C,requiresAttribution:q},_),536870920&t.$$.dirty[0]&&n(41,({getProp:r,css:o}=getThemeStyleHelpers(P,d,"chart")),r,(n(42,o),n(29,P),n(3,d))),24&t.$$.dirty[0]|3072&t.$$.dirty[1]&&n(10,a=o(_templateObject$3||(_templateObject$3=_taggedTemplateLiteral(["\n        ","\n        ","\n        ","\n        ","\n        ","\n        /* svg label styling */\n        svg text.label tspan {\n            fill: currentColor;\n        }\n    "])),margins(r),paddings(r),f.static?"":linkStyles(r),typography(d,"chart"),visStyles(d))),24&t.$$.dirty[0]|61440&t.$$.dirty[1]&&n(9,({header:i,footer:s,bodyLeft:c,bodyRight:l,afterChart:u}=it(d.regions||{})),i,(n(8,s),n(3,d),n(43,p),n(4,f),n(46,g),n(45,m),n(44,h),n(26,D),n(32,B),n(30,R),n(31,L)),(n(7,c),n(3,d),n(43,p),n(4,f),n(46,g),n(45,m),n(44,h),n(26,D),n(32,B),n(30,R),n(31,L)),(n(6,l),n(3,d),n(43,p),n(4,f),n(46,g),n(45,m),n(44,h),n(26,D),n(32,B),n(30,R),n(31,L)),(n(5,u),n(3,d),n(43,p),n(4,f),n(46,g),n(45,m),n(44,h),n(26,D),n(32,B),n(30,R),n(31,L)))},[A,O,F,d,f,u,l,c,s,i,a,S,M,G,K,J,Z,X,Q,tt,et,nt,rt,ot,at,C,D,N,I,P,R,L,B,U,j,H,Y,z,W,q,V,r,o,p,h,m,g,E,function(t){binding_callbacks[t?"unshift":"push"]((()=>{A=t,n(0,A)}))},T]}class VisContainer extends SvelteComponent{constructor(t){super(),init(this,t,instance$g,create_fragment$g,safe_not_equal,{container:0,allowPrintExport:25,chart:26,chartAfterBodyHTML:1,config:27,dwChart:28,emotion:29,filterUI:30,mapAttribution:31,isIframe:2,renderFlags:32,textDirection:33,theme:34,vis:35,__:36,postEvent:37,teamPublicSettings:38,requiresAttribution:39,allBlocks:40},add_css$5,[-1,-1,-1])}}var arrayToObject=function(t){if(Array.isArray(t)){const e={};return Object.keys(t).forEach((n=>e[n]=t[n])),e}return t},publish=[t=>{set(t,"publish",arrayToObject(get_1(t,"publish",{})))},t=>{const e=get_1(t,"publish.blocks.logo");"boolean"==typeof e&&set(t,"publish.blocks.logo",{enabled:e})}];const migrations=[...publish];function migrate(t){migrations.forEach((e=>e(t)))}var now=Date.now||function(){return(new Date).getTime()};function debounce(t,e,n){var r,o,a,i,s,c=function(){var l=now()-o;e>l?r=setTimeout(c,e-l):(r=null,n||(i=t.apply(s,a)),r||(a=s=null))},l=restArguments((function(l){return s=this,a=l,o=now(),r||(r=setTimeout(c,e),n&&(i=t.apply(s,a))),i}));return l.cancel=function(){clearTimeout(r),r=a=s=null},l}function isBoolean(t){return!0===t||!1===t||"[object Boolean]"===toString.call(t)}function uniq(t,e,n,r){isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=cb(n,r));for(var o=[],a=[],i=0,s=getLength(t);i<s;i++){var c=t[i],l=n?n(c,i,t):c;e&&!n?(i&&a===l||o.push(c),a=l):n?contains(a,l)||(a.push(l),o.push(c)):contains(o,c)||o.push(c)}return o}var isString=tagTester("String"),isDate=tagTester("Date");function each(t,e,n){var r,o;if(e=optimizeCb(e,n),isArrayLike(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var a=keys(t);for(r=0,o=a.length;r<o;r++)e(t[a[r]],a[r],t)}return t}function isUndefined(t){return void 0===t}function random(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(t){return t?isArray(t)?slice$1.call(t):isString(t)?t.match(reStrSymbol):isArrayLike(t)?map(t,identity$1):values(t):[]}function sample(t,e,n){if(null==e||n)return isArrayLike(t)||(t=values(t)),t[random(t.length-1)];var r=toArray(t),o=getLength(r);e=Math.max(Math.min(e,o),0);for(var a=o-1,i=0;i<e;i++){var s=random(i,a),c=r[i];r[i]=r[s],r[s]=c}return r.slice(0,e)}function shuffle(t){return sample(t,1/0)}function findKey(t,e,n){e=cb(e,n);for(var r,o=keys(t),a=0,i=o.length;a<i;a++)if(e(t[r=o[a]],r,t))return r}function find(t,e,n){var r=(isArrayLike(t)?findIndex:findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function range(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),a=0;a<r;a++,t+=n)o[a]=t;return o}function isNull(t){return null===t}function flatten(t,e){return flatten$1(t,e,!1)}var isRegExp=tagTester("RegExp");const begin=/^ */.source,end=/[*']* *$/.source,s0=/[ \-/.]?/.source,s1=/[ \-/.]/.source,s2=/[ \-/.;,]/.source,s3=/[ \-|T]/.source,sM=/[ \-/.m]/.source,rx={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(AM|PM)?/}},MONTHS={0:["JAN","JANUARY","JANUAR","JÄNNER","JÄN","JANV","JANVIER","ENE","ENERO","GEN","GENNAIO","JANEIRO"],1:["FEB","FEBRUARY","FEBR","FEBRUAR","FÉV","FÉVR","FÉVRIER","FEBRERO","FEBBRAIO","FEV","FEVEREIRO"],2:["MAR","MÄR","MARCH","MRZ","MÄRZ","MARS","MARS","MARZO","MARZO","MARÇO"],3:["APR","APRIL","APR","APRIL","AVR","AVRIL","ABR","ABRIL","APRILE"],4:["MAY","MAI","MAYO","MAG","MAGGIO","MAIO","MAJ"],5:["JUN","JUNE","JUNI","JUIN","JUNIO","GIU","GIUGNO","JUNHO"],6:["JUL","JULY","JULI","JUIL","JUILLET","JULIO","LUG","LUGLIO","JULHO"],7:["AUG","AUGUST","AOÛT","AGO","AGOSTO"],8:["SEP","SEPTEMBER","SEPT","SEPTEMBRE","SEPTIEMBRE","SET","SETTEMBRE","SETEMBRO"],9:["OCT","OCTOBER","OKT","OKTOBER","OCTOBRE","OCTUBRE","OTT","OTTOBRE","OUT","OUTUBRO"],10:["NOV","NOVEMBER","NOVEMBER","NOVEMBRE","NOVIEMBRE","NOVEMBRE","NOVEMBRO"],11:["DEC","DECEMBER","DEZ","DES","DEZEMBER","DÉC","DÉCEMBRE","DIC","DICIEMBRE","DICEMBRE","DESEMBER","DEZEMBRO"]};each(MONTHS,(function(t,e){each(t,(function(t){}))})),rx.MMM={parse:new RegExp("("+flatten(values(MONTHS)).join("|")+")")};const ISO8601_REG=/^(?:([1-9]\d{3})(-?)(?:(0\d|1[012]))\2(0\d|1\d|2\d|3[01]))T([01]\d|2[0-3])(:?)([0-5]\d)(?:\6([0-5]\d)(?:\.(\d+))?)?(Z|[+-][01]\d(?:\6[0-5]\d)?)$/,FLOATING_TS=/^(?:([1-9]\d{3})(-?)(?:(0\d|1[012]))\2(0\d|1\d|2\d|3[01]))T([01]\d|2[0-3])(:?)([0-5]\d)(?:\6([0-5]\d)(?:\.(\d{3})))$/;function reg(){return new RegExp(begin+Array.prototype.slice.call(arguments).join(" *")+end,"i")}each(rx,(function(t){t.parse=t.parse.source,isRegExp(t.test)?t.test=t.test.source:t.test=t.parse})),reg(rx.YYYY2.test),reg(rx.YYYY2.parse),reg(rx.YYYY.test,s0,rx.H.test),reg(rx.YYYY.parse,s0,rx.H.parse),reg(rx.H.test,s1,rx.YYYY.test),reg(rx.H.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,s0,rx.Q.test),reg(rx.YYYY.parse,s0,rx.Q.parse),reg(rx.Q.test,s1,rx.YYYY.test),reg(rx.Q.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,sM,rx.MM.test),reg(rx.YYYY.parse,sM,rx.MM.parse),reg(rx.MM.test,s1,rx.YYYY.test),reg(rx.MM.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,s1,rx.MMM.parse),reg(rx.YYYY.parse,s1,rx.MMM.parse),reg(rx.MMM.parse,s1,rx.YYYY.test),reg(rx.MMM.parse,s1,rx.YYYY.parse),reg(rx.MMM.parse,s1,rx.YY.test),reg(rx.MMM.parse,s1,rx.YY.parse),reg(rx.MMM.parse),reg(rx.MMM.parse),reg(rx.YYYY.test,s0,rx.W.test),reg(rx.YYYY.parse,s0,rx.W.parse),reg(rx.W.test,s1,rx.YYYY.test),reg(rx.W.parse,s1,rx.YYYY.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YYYY.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YYYY.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YY.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YYYY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YYYY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MMM.test,"\\2",rx.YYYY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MMM.parse,"\\2",rx.YYYY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MMM.test,"\\2",rx.YY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MMM.parse,"\\2",rx.YY.parse),reg(rx.YYYY.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.DD.test),reg(rx.YYYY.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.DD.parse),reg(rx.MMM.test,s1,rx.DD.test,s2,rx.YYYY.test),reg(rx.MMM.parse,s1,rx.DD.parse,s2,rx.YYYY.parse),reg(rx.YYYY.test,s0,rx.W.test,s1,rx.DOW.test),reg(rx.YYYY.parse,s0,rx.W.parse,s1,rx.DOW.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YYYY.test,s3,rx.HHMM.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YYYY.parse,s3,rx.HHMM.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YYYY.test,s3,rx.HHMM.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YYYY.parse,s3,rx.HHMM.parse),reg(rx.YYYY.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.DD.test,s3,rx.HHMM.test),reg(rx.YYYY.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.DD.parse,s3,rx.HHMM.parse);var tailLength=function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)},round=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Math.pow(10,e);return Math.round(t*n)/n};function isElement(t){return!(!t||1!==t.nodeType)}var isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer"),hasObjectTag=tagTester("Object"),hasStringTagBug=supportsDataView&&hasObjectTag(new DataView(new ArrayBuffer(8))),isIE11="undefined"!=typeof Map&&hasObjectTag(new Map),isDataView=tagTester("DataView");function ie10IsDataView(t){return null!=t&&isFunction$1(t.getInt8)&&isArrayBuffer(t.buffer)}var isDataView$1=hasStringTagBug?ie10IsDataView:isDataView;function isFinite$1(t){return!isSymbol(t)&&_isFinite(t)&&!isNaN(parseFloat(t))}function constant(t){return function(){return t}}var getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength),typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(t){return nativeIsView?nativeIsView(t)&&!isDataView$1(t):isBufferLike(t)&&typedArrayPattern.test(toString.call(t))}var isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(!1);function isEmpty(t){if(null==t)return!0;var e=getLength(t);return"number"==typeof e&&(isArray(t)||isString(t)||isArguments$1(t))?0===e:0===getLength(keys(t))}function toBufferView(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,getByteLength(t))}var tagDataView="[object DataView]";function eq(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&deepEq(t,e,n,r)}function deepEq(t,e,n,r){t instanceof _$1&&(t=t._wrapped),e instanceof _$1&&(e=e._wrapped);var o=toString.call(t);if(o!==toString.call(e))return!1;if(hasStringTagBug&&"[object Object]"==o&&isDataView$1(t)){if(!isDataView$1(e))return!1;o=tagDataView}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return SymbolProto.valueOf.call(t)===SymbolProto.valueOf.call(e);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(t),toBufferView(e),n,r)}var a="[object Array]"===o;if(!a&&isTypedArray$1(t)){if(getByteLength(t)!==getByteLength(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var i=t.constructor,s=e.constructor;if(i!==s&&!(isFunction$1(i)&&i instanceof i&&isFunction$1(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),a){if((c=t.length)!==e.length)return!1;for(;c--;)if(!eq(t[c],e[c],n,r))return!1}else{var l,u=keys(t);if(c=u.length,keys(e).length!==c)return!1;for(;c--;)if(!has$1(e,l=u[c])||!eq(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}function isEqual(t,e){return eq(t,e)}function ie11fingerprint(t){var e=getLength(t);return function(n){if(null==n)return!1;var r=allKeys(n);if(getLength(r))return!1;for(var o=0;o<e;o++)if(!isFunction$1(n[t[o]]))return!1;return t!==weakMapMethods||!isFunction$1(n[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName),isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function pairs(t){for(var e=keys(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r}function invert(t){for(var e={},n=keys(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function functions(t){var e=[];for(var n in t)isFunction$1(t[n])&&e.push(n);return e.sort()}var extend=createAssigner(allKeys),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(t){if(!isObject(t))return{};if(nativeCreate)return nativeCreate(t);var e=ctor();e.prototype=t;var n=new e;return e.prototype=null,n}function create(t,e){var n=baseCreate(t);return e&&extendOwn(n,e),n}function clone(t){return isObject(t)?isArray(t)?t.slice():extend({},t):t}function tap(t,e){return e(t),t}function get(t,e,n){var r=deepGet(t,toPath(e));return isUndefined(r)?n:r}function mapObject(t,e,n){e=cb(e,n);for(var r=keys(t),o=r.length,a={},i=0;i<o;i++){var s=r[i];a[s]=e(t[s],s,t)}return a}function noop(){}function propertyOf(t){return null==t?noop:function(e){return get(t,e)}}function times(t,e,n){var r=Array(Math.max(0,t));e=optimizeCb(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r}function createEscaper(t){var e=function(e){return t[e]},n="(?:"+keys(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(t){return"\\"+escapes[t]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(t,e,n){!e&&n&&(e=n),e=defaults({},e,_$1.templateSettings);var r=RegExp([(e.escape||noMatch).source,(e.interpolate||noMatch).source,(e.evaluate||noMatch).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,(function(e,n,r,i,s){return a+=t.slice(o,s).replace(escapeRegExp,escapeChar),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e})),a+="';\n";var i,s=e.variable;if(s){if(!bareIdentifier.test(s))throw new Error("variable is not a bare identifier: "+s)}else a="with(obj||{}){\n"+a+"}\n",s="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(s,"_",a)}catch(t){throw t.source=a,t}var c=function(t){return i.call(this,t,_$1)};return c.source="function("+s+"){\n"+a+"}",c}function result(t,e,n){var r=(e=toPath(e)).length;if(!r)return isFunction$1(n)?n.call(t):n;for(var o=0;o<r;o++){var a=null==t?void 0:t[e[o]];void 0===a&&(a=n,o=r),t=isFunction$1(a)?a.call(t):a}return t}var idCounter=0;function uniqueId(t){var e=++idCounter+"";return t?t+e:e}function chain(t){var e=_$1(t);return e._chain=!0,e}function executeBound(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var a=baseCreate(t.prototype),i=t.apply(a,o);return isObject(i)?i:a}var partial=restArguments((function(t,e){var n=partial.placeholder,r=function(){for(var o=0,a=e.length,i=Array(a),s=0;s<a;s++)i[s]=e[s]===n?arguments[o++]:e[s];for(;o<arguments.length;)i.push(arguments[o++]);return executeBound(t,r,this,this,i)};return r}));partial.placeholder=_$1;var bind=restArguments((function(t,e,n){if(!isFunction$1(t))throw new TypeError("Bind must be called on a function");var r=restArguments((function(o){return executeBound(t,r,e,this,n.concat(o))}));return r})),bindAll=restArguments((function(t,e){var n=(e=flatten$1(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=bind(t[r],t)}return t}));function memoize(t,e){var n=function(r){var o=n.cache,a=""+(e?e.apply(this,arguments):r);return has$1(o,a)||(o[a]=t.apply(this,arguments)),o[a]};return n.cache={},n}var delay=restArguments((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),defer=partial(delay,_$1,1);function throttle(t,e,n){var r,o,a,i,s=0;n||(n={});var c=function(){s=!1===n.leading?0:now(),r=null,i=t.apply(o,a),r||(o=a=null)},l=function(){var l=now();s||!1!==n.leading||(s=l);var u=e-(l-s);return o=this,a=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=l,i=t.apply(o,a),r||(o=a=null)):r||!1===n.trailing||(r=setTimeout(c,u)),i};return l.cancel=function(){clearTimeout(r),s=0,r=o=a=null},l}function wrap(t,e){return partial(e,t)}function compose(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function after(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function before(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var once=partial(before,2),findLastIndex=createPredicateIndexFinder(-1),lastIndexOf=createIndexFinder(-1,findLastIndex);function findWhere(t,e){return find(t,matcher(e))}function createReduce(t){var e=function(e,n,r,o){var a=!isArrayLike(e)&&keys(e),i=(a||e).length,s=t>0?0:i-1;for(o||(r=e[a?a[s]:s],s+=t);s>=0&&s<i;s+=t){var c=a?a[s]:s;r=n(r,e[c],c,e)}return r};return function(t,n,r,o){var a=arguments.length>=3;return e(t,optimizeCb(n,o,4),r,a)}}var reduce=createReduce(1),reduceRight=createReduce(-1);function filter(t,e,n){var r=[];return e=cb(e,n),each(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function reject(t,e,n){return filter(t,negate(cb(e)),n)}var invoke=restArguments((function(t,e,n){var r,o;return isFunction$1(e)?o=e:(e=toPath(e),r=e.slice(0,-1),e=e[e.length-1]),map(t,(function(t){var a=o;if(!a){if(r&&r.length&&(t=deepGet(t,r)),null==t)return;a=t[e]}return null==a?a:a.apply(t,n)}))}));function pluck(t,e){return map(t,property(e))}function where(t,e){return filter(t,matcher(e))}function max(t,e,n){var r,o,a=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,c=(t=isArrayLike(t)?t:values(t)).length;s<c;s++)null!=(r=t[s])&&r>a&&(a=r);else e=cb(e,n),each(t,(function(t,n,r){((o=e(t,n,r))>i||o===-1/0&&a===-1/0)&&(a=t,i=o)}));return a}function min(t,e,n){var r,o,a=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,c=(t=isArrayLike(t)?t:values(t)).length;s<c;s++)null!=(r=t[s])&&r<a&&(a=r);else e=cb(e,n),each(t,(function(t,n,r){((o=e(t,n,r))<i||o===1/0&&a===1/0)&&(a=t,i=o)}));return a}function sortBy(t,e,n){var r=0;return e=cb(e,n),pluck(map(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function group(t,e){return function(n,r,o){var a=e?[[],[]]:{};return r=cb(r,o),each(n,(function(e,o){var i=r(e,o,n);t(a,e,i)})),a}}var groupBy=group((function(t,e,n){has$1(t,n)?t[n].push(e):t[n]=[e]})),indexBy=group((function(t,e,n){t[n]=e})),countBy=group((function(t,e,n){has$1(t,n)?t[n]++:t[n]=1})),partition=group((function(t,e,n){t[n?0:1].push(e)}),!0);function size(t){return null==t?0:isArrayLike(t)?t.length:keys(t).length}function initial(t,e,n){return slice$1.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function first(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:initial(t,t.length-e)}function rest(t,e,n){return slice$1.call(t,null==e||n?1:e)}function last(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:rest(t,Math.max(0,t.length-e))}function compact(t){return filter(t,Boolean)}var difference=restArguments((function(t,e){return e=flatten$1(e,!0,!0),filter(t,(function(t){return!contains(e,t)}))})),without=restArguments((function(t,e){return difference(t,e)})),union=restArguments((function(t){return uniq(flatten$1(t,!0,!0))}));function intersection(t){for(var e=[],n=arguments.length,r=0,o=getLength(t);r<o;r++){var a=t[r];if(!contains(e,a)){var i;for(i=1;i<n&&contains(arguments[i],a);i++);i===n&&e.push(a)}}return e}function unzip(t){for(var e=t&&max(t,getLength).length||0,n=Array(e),r=0;r<e;r++)n[r]=pluck(t,r);return n}var zip=restArguments(unzip);function object(t,e){for(var n={},r=0,o=getLength(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function chunk(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(slice$1.call(t,r,r+=e));return n}function chainResult(t,e){return t._chain?_$1(e).chain():e}function mixin(t){return each(functions(t),(function(e){var n=_$1[e]=t[e];_$1.prototype[e]=function(){var t=[this._wrapped];return push.apply(t,arguments),chainResult(this,n.apply(_$1,t))}})),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=ArrayProto[t];_$1.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),chainResult(this,n)}})),each(["concat","join","slice"],(function(t){var e=ArrayProto[t];_$1.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),chainResult(this,t)}}));var allExports=Object.freeze({__proto__:null,VERSION:VERSION,restArguments:restArguments,isObject:isObject,isNull:isNull,isUndefined:isUndefined,isBoolean:isBoolean,isElement:isElement,isString:isString,isNumber:isNumber,isDate:isDate,isRegExp:isRegExp,isError:isError,isSymbol:isSymbol,isArrayBuffer:isArrayBuffer,isDataView:isDataView$1,isArray:isArray,isFunction:isFunction$1,isArguments:isArguments$1,isFinite:isFinite$1,isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:isEmpty,isMatch:isMatch,isEqual:isEqual,isMap:isMap,isWeakMap:isWeakMap,isSet:isSet,isWeakSet:isWeakSet,keys:keys,allKeys:allKeys,values:values,pairs:pairs,invert:invert,functions:functions,methods:functions,extend:extend,extendOwn:extendOwn,assign:extendOwn,defaults:defaults,create:create,clone:clone,tap:tap,get:get,has:has,mapObject:mapObject,identity:identity$1,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:propertyOf,matcher:matcher,matches:matcher,times:times,random:random,now:now,escape:escape,unescape:unescape,templateSettings:templateSettings,template:template,result:result,uniqueId:uniqueId,chain:chain,iteratee:iteratee,partial:partial,bind:bind,bindAll:bindAll,memoize:memoize,delay:delay,defer:defer,throttle:throttle,debounce:debounce,wrap:wrap,negate:negate,compose:compose,after:after,before:before,once:once,findKey:findKey,findIndex:findIndex,findLastIndex:findLastIndex,sortedIndex:sortedIndex,indexOf:indexOf,lastIndexOf:lastIndexOf,find:find,detect:find,findWhere:findWhere,each:each,forEach:each,map:map,collect:map,reduce:reduce,foldl:reduce,inject:reduce,reduceRight:reduceRight,foldr:reduceRight,filter:filter,select:filter,reject:reject,every:every,all:every,some:some,any:some,contains:contains,includes:contains,include:contains,invoke:invoke,pluck:pluck,where:where,max:max,min:min,shuffle:shuffle,sample:sample,sortBy:sortBy,groupBy:groupBy,indexBy:indexBy,countBy:countBy,partition:partition,toArray:toArray,size:size,pick:pick,omit:omit,first:first,head:first,take:first,initial:initial,last:last,rest:rest,tail:rest,drop:rest,compact:compact,flatten:flatten,without:without,uniq:uniq,unique:uniq,union:union,intersection:intersection,difference:difference,unzip:unzip,transpose:unzip,zip:zip,object:object,range:range,chunk:chunk,mixin:mixin,default:_$1}),_=mixin(allExports);_._=_;var indexAll=Object.freeze({__proto__:null,default:_,VERSION:VERSION,restArguments:restArguments,isObject:isObject,isNull:isNull,isUndefined:isUndefined,isBoolean:isBoolean,isElement:isElement,isString:isString,isNumber:isNumber,isDate:isDate,isRegExp:isRegExp,isError:isError,isSymbol:isSymbol,isArrayBuffer:isArrayBuffer,isDataView:isDataView$1,isArray:isArray,isFunction:isFunction$1,isArguments:isArguments$1,isFinite:isFinite$1,isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:isEmpty,isMatch:isMatch,isEqual:isEqual,isMap:isMap,isWeakMap:isWeakMap,isSet:isSet,isWeakSet:isWeakSet,keys:keys,allKeys:allKeys,values:values,pairs:pairs,invert:invert,functions:functions,methods:functions,extend:extend,extendOwn:extendOwn,assign:extendOwn,defaults:defaults,create:create,clone:clone,tap:tap,get:get,has:has,mapObject:mapObject,identity:identity$1,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:propertyOf,matcher:matcher,matches:matcher,times:times,random:random,now:now,escape:escape,unescape:unescape,templateSettings:templateSettings,template:template,result:result,uniqueId:uniqueId,chain:chain,iteratee:iteratee,partial:partial,bind:bind,bindAll:bindAll,memoize:memoize,delay:delay,defer:defer,throttle:throttle,debounce:debounce,wrap:wrap,negate:negate,compose:compose,after:after,before:before,once:once,findKey:findKey,findIndex:findIndex,findLastIndex:findLastIndex,sortedIndex:sortedIndex,indexOf:indexOf,lastIndexOf:lastIndexOf,find:find,detect:find,findWhere:findWhere,each:each,forEach:each,map:map,collect:map,reduce:reduce,foldl:reduce,inject:reduce,reduceRight:reduceRight,foldr:reduceRight,filter:filter,select:filter,reject:reject,every:every,all:every,some:some,any:some,contains:contains,includes:contains,include:contains,invoke:invoke,pluck:pluck,where:where,max:max,min:min,shuffle:shuffle,sample:sample,sortBy:sortBy,groupBy:groupBy,indexBy:indexBy,countBy:countBy,partition:partition,toArray:toArray,size:size,pick:pick,omit:omit,first:first,head:first,take:first,initial:initial,last:last,rest:rest,tail:rest,drop:rest,compact:compact,flatten:flatten,without:without,uniq:uniq,unique:uniq,union:union,intersection:intersection,difference:difference,unzip:unzip,transpose:unzip,zip:zip,object:object,range:range,chunk:chunk,mixin:mixin}),require$$2=getAugmentedNamespace(indexAll),__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const tailLength_1=__importDefault$3(tailLength),round_1=__importDefault$3(round),underscore_1=require$$2;var significantDimension=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=[],r=0;const o=(0,underscore_1.uniq)(t.filter(underscore_1.isFinite)),a=o.length;let i,s;const c=Math.floor(a*(1-e));if(o.length<3)return Math.round(o.reduce((function(t,e){if(!e)return t;const n=Math.log(Math.abs(e))/Math.LN10;return n<8&&n>-3?t+Math.min(3,(0,tailLength_1.default)(o[0])):t+(n>0?-1*(n-1):-1*n)}),0)/o.length);(0,underscore_1.uniq)(o.map(u)).length>c?(i=function(){return(0,underscore_1.uniq)(n).length===a},s=-1):(i=function(){return(0,underscore_1.uniq)(n).length<=c},s=1);let l=100;do{n=o.map(u),r+=s}while(i()&&l-- >0);function u(t){return(0,round_1.default)(t,r)}return l<10&&console.warn("maximum iteration reached",t,n,r),s<0?r+=2:r--,r},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function width(t){const e=parseFloat(getComputedStyle(t,null).width.replace("px",""));return isNaN(e)?0:e}function domReady(t){/complete|interactive|loaded/.test(document.readyState)?t():window.addEventListener("DOMContentLoaded",(()=>{t()}))}function getHeightMode(t){let{themeData:e,visualizationMeta:n,renderFlags:r}=t;return get_1(e,"vis.d3-pies.fitchart",!1)&&["d3-pies","d3-donuts","d3-multiple-pies","d3-multiple-donuts"].includes(n.id)||r.fitchart||"fixed"!==n.height?"fit":"fixed"}__importDefault$2(significantDimension),__importDefault$2(round);var fontfaceobserver_standalone={exports:{}};!function(t){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.g.offsetWidth,n=e+100;return t.j.style.width=n+"px",t.i.scrollLeft=n,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function a(t,n){function r(){var t=a;o(t)&&null!==t.g.parentNode&&n(t.l)}var a=t;e(t.h,r),e(t.i,r),o(t)}function i(t,e,n){e=e||{},n=n||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=n}var s=null,c=null,l=null,u=null;function d(t){return null===u&&(u=!!t.document.fonts),u}function p(t,e){var n=t.style,r=t.weight;if(null===l){var o=document.createElement("div");try{o.style.font="condensed 100px sans-serif"}catch(t){}l=""!==o.style.font}return[n,r,l?t.stretch:"","100px",e].join(" ")}i.prototype.load=function(t,e){var o=this,i=t||"BESbswy",l=0,u=e||3e3,f=(new Date).getTime();return new Promise((function(t,e){if(d(o.context)&&!function(t){return null===c&&(d(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!t&&603>parseInt(t[1],10)):c=!1),c}(o.context)){var h=new Promise((function(t,e){!function n(){(new Date).getTime()-f>=u?e(Error(u+"ms timeout exceeded")):o.context.document.fonts.load(p(o,'"'+o.family+'"'),i).then((function(e){1<=e.length?t():setTimeout(n,25)}),e)}()})),m=new Promise((function(t,e){l=setTimeout((function(){e(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([m,h]).then((function(){clearTimeout(l),t(o)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function c(){var e;(e=-1!=g&&-1!=_||-1!=g&&-1!=y||-1!=_&&-1!=y)&&((e=g!=_&&g!=y&&_!=y)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(g==b&&_==b&&y==b||g==$&&_==$&&y==$||g==v&&_==v&&y==v)),e=!e),e&&(null!==k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),t(o))}var d=new n(i),h=new n(i),m=new n(i),g=-1,_=-1,y=-1,b=-1,$=-1,v=-1,k=document.createElement("div");k.dir="ltr",r(d,p(o,"sans-serif")),r(h,p(o,"serif")),r(m,p(o,"monospace")),k.appendChild(d.g),k.appendChild(h.g),k.appendChild(m.g),o.context.document.body.appendChild(k),b=d.g.offsetWidth,$=h.g.offsetWidth,v=m.g.offsetWidth,function t(){if((new Date).getTime()-f>=u)null!==k.parentNode&&k.parentNode.removeChild(k),e(Error(u+"ms timeout exceeded"));else{var n=o.context.document.hidden;!0!==n&&void 0!==n||(g=d.g.offsetWidth,_=h.g.offsetWidth,y=m.g.offsetWidth,c()),l=setTimeout(t,50)}}(),a(d,(function(t){g=t,c()})),r(d,p(o,'"'+o.family+'",sans-serif')),a(h,(function(t){_=t,c()})),r(h,p(o,'"'+o.family+'",serif')),a(m,(function(t){y=t,c()})),r(m,p(o,'"'+o.family+'",monospace'))}))}))},t.exports=i}()}(fontfaceobserver_standalone);var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const fontfaceobserver_1=__importDefault$1(fontfaceobserver_standalone.exports);var observeFonts=function(t,e){const n=new Set(Array.isArray(t)?[]:Object.keys(t).filter((e=>"font"===t[e].type))),r=[];Object.keys(e.fontFamilies||{}).forEach((t=>{e.fontFamilies[t].forEach((e=>{n.has(e.name)&&(n.delete(e.name),r.push({family:t,props:{weight:e.weight||400,style:e.style||"normal"}}))}))}));const o=[];return n.forEach((t=>{const e=new fontfaceobserver_1.default(t);o.push(e.load(null,5e3))})),r.forEach((t=>{const e=new fontfaceobserver_1.default(t.family,t.props);o.push(e.load(null,5e3))})),Promise.all(o)},fetch$1={},getValueOrDefault$1={};Object.defineProperty(getValueOrDefault$1,"__esModule",{value:!0}),getValueOrDefault$1.getValueOrDefault=void 0;const getValueOrDefault=(t,e,n)=>t&&e(t)?t:n();getValueOrDefault$1.getValueOrDefault=getValueOrDefault,Object.defineProperty(fetch$1,"__esModule",{value:!0});var loadStylesheet_1=fetch$1.loadStylesheet=loadScript_1=fetch$1.loadScript=fetch$1.deleteJSON=fetch$1.patchJSON=fetch$1.putJSON=fetch$1.postJSON=fetch$1.getJSON=fetch$1.fetchJSON=void 0;const getValueOrDefault_1=getValueOrDefault$1;function fetchJSON(t,e,n,r,o){const a={method:e,body:r,mode:"cors",credentials:n};return window.fetch(t,a).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.text()})).then((t=>{try{return JSON.parse(t)}catch(e){return console.warn("malformed json input",t),t}})).then((t=>(o&&o(t),t))).catch((t=>{if(!o)throw t;console.error(t)}))}function getJSON(t,e,n){let r,o;return 2===arguments.length&&"function"==typeof e?(o=e,r="include"):1===arguments.length?(o=void 0,r="include"):(o=n,r=e),fetchJSON(t,"GET",r,null,o)}function postJSON(t,e,n){return fetchJSON(t,"POST","include",e,n)}function putJSON(t,e,n){return fetchJSON(t,"PUT","include",e,n)}function patchJSON(t,e,n){return fetchJSON(t,"PATCH","include",e,n)}function deleteJSON(t,e){return fetchJSON(t,"DELETE","include",null,e)}function loadScript(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(((n,r)=>{const o=document.createElement("script");o.src=t,o.charset="utf-8",o.onload=()=>{e&&e(),n()},o.onerror=r,document.body.appendChild(o)}))}fetch$1.fetchJSON=fetchJSON,fetch$1.getJSON=getJSON,fetch$1.postJSON=postJSON,fetch$1.putJSON=putJSON,fetch$1.patchJSON=patchJSON,fetch$1.deleteJSON=deleteJSON;var loadScript_1=fetch$1.loadScript=loadScript;function loadStylesheet(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"==typeof t&&(t={src:t});const n=t,r=(0,getValueOrDefault_1.getValueOrDefault)(n.parentElement,(t=>"function"==typeof t.appendChild),(()=>document.head));return new Promise(((t,o)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=n.src,a.charset="utf-8",a.onload=()=>{e&&e(),t()},a.onerror=o,r.appendChild(a)}))}loadStylesheet_1=fetch$1.loadStylesheet=loadStylesheet;var chroma={exports:{}};
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */!function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},r={},o=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<a.length;o+=1){var i=a[o];r["[object "+i+"]"]=i.toLowerCase()}var s=function(t){return r[Object.prototype.toString.call(t)]||"object"},c=s,l=function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==c(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},u=s,d=function(t){if(t.length<2)return null;var e=t.length-1;return"string"==u(t[e])?t[e].toLowerCase():null},p=Math.PI,f={clip_rgb:n,limit:t,type:s,unpack:l,last:d,PI:p,TWOPI:2*p,PITHIRD:p/3,DEG2RAD:p/180,RAD2DEG:180/p},h={format:{},autodetect:[]},m=f.last,g=f.clip_rgb,_=f.type,y=h,b=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===_(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=m(t),o=!1;if(!r){o=!0,y.sorted||(y.autodetect=y.autodetect.sort((function(t,e){return e.p-t.p})),y.sorted=!0);for(var a=0,i=y.autodetect;a<i.length;a+=1){var s=i[a];if(r=s.test.apply(s,t))break}}if(!y.format[r])throw new Error("unknown format: "+t);var c=y.format[r].apply(null,o?t:t.slice(0,-1));n._rgb=g(c),3===n._rgb.length&&n._rgb.push(1)};b.prototype.toString=function(){return"function"==_(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var $=b,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(v.Color,[null].concat(t)))};v.Color=$,v.version="2.4.2";var k=v,x=f.unpack,w=Math.max,E=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=x(t,"rgb"),r=n[0],o=n[1],a=n[2],i=1-w(r/=255,w(o/=255,a/=255)),s=i<1?1/(1-i):0;return[(1-r-i)*s,(1-o-i)*s,(1-a-i)*s,i]},T=E,S=f.unpack,M=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=S(t,"cmyk"))[0],r=t[1],o=t[2],a=t[3],i=t.length>4?t[4]:1;return 1===a?[0,0,0,i]:[n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),o>=1?0:255*(1-o)*(1-a),i]},A=M,C=k,D=$,O=h,N=f.unpack,I=f.type,P=T;D.prototype.cmyk=function(){return P(this._rgb)},C.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(D,[null].concat(t,["cmyk"])))},O.format.cmyk=A,O.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=N(t,"cmyk"),"array"===I(t)&&4===t.length)return"cmyk"}});var R=f.unpack,L=f.last,F=function(t){return Math.round(100*t)/100},B=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=R(t,"hsla"),r=L(t)||"lsa";return n[0]=F(n[0]||0),n[1]=F(100*n[1])+"%",n[2]=F(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},U=B,j=f.unpack,H=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=j(t,"rgba"))[0],r=t[1],o=t[2];n/=255,r/=255,o/=255;var a,i,s=Math.min(n,r,o),c=Math.max(n,r,o),l=(c+s)/2;return c===s?(a=0,i=Number.NaN):a=l<.5?(c-s)/(c+s):(c-s)/(2-c-s),n==c?i=(r-o)/(c-s):r==c?i=2+(o-n)/(c-s):o==c&&(i=4+(n-r)/(c-s)),(i*=60)<0&&(i+=360),t.length>3&&void 0!==t[3]?[i,a,l,t[3]]:[i,a,l]},Y=H,z=f.unpack,W=f.last,q=U,V=Y,G=Math.round,K=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=z(t,"rgba"),r=W(t)||"rgb";return"hsl"==r.substr(0,3)?q(V(n),r):(n[0]=G(n[0]),n[1]=G(n[1]),n[2]=G(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},J=K,Z=f.unpack,X=Math.round,Q=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,o,a,i=(e=Z(e,"hsl"))[0],s=e[1],c=e[2];if(0===s)r=o=a=255*c;else{var l=[0,0,0],u=[0,0,0],d=c<.5?c*(1+s):c+s-c*s,p=2*c-d,f=i/360;l[0]=f+1/3,l[1]=f,l[2]=f-1/3;for(var h=0;h<3;h++)l[h]<0&&(l[h]+=1),l[h]>1&&(l[h]-=1),6*l[h]<1?u[h]=p+6*(d-p)*l[h]:2*l[h]<1?u[h]=d:3*l[h]<2?u[h]=p+(d-p)*(2/3-l[h])*6:u[h]=p;r=(t=[X(255*u[0]),X(255*u[1]),X(255*u[2])])[0],o=t[1],a=t[2]}return e.length>3?[r,o,a,e[3]]:[r,o,a,1]},tt=Q,et=tt,nt=h,rt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ot=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,at=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,it=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,st=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ct=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,lt=Math.round,ut=function(t){var e;if(t=t.toLowerCase().trim(),nt.format.named)try{return nt.format.named(t)}catch(t){}if(e=t.match(rt)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(ot)){for(var o=e.slice(1,5),a=0;a<4;a++)o[a]=+o[a];return o}if(e=t.match(at)){for(var i=e.slice(1,4),s=0;s<3;s++)i[s]=lt(2.55*i[s]);return i[3]=1,i}if(e=t.match(it)){for(var c=e.slice(1,5),l=0;l<3;l++)c[l]=lt(2.55*c[l]);return c[3]=+c[3],c}if(e=t.match(st)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var d=et(u);return d[3]=1,d}if(e=t.match(ct)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var f=et(p);return f[3]=+e[4],f}};ut.test=function(t){return rt.test(t)||ot.test(t)||at.test(t)||it.test(t)||st.test(t)||ct.test(t)};var dt=ut,pt=k,ft=$,ht=h,mt=f.type,gt=J,_t=dt;ft.prototype.css=function(t){return gt(this._rgb,t)},pt.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ft,[null].concat(t,["css"])))},ht.format.css=_t,ht.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===mt(t)&&_t.test(t))return"css"}});var yt=$,bt=k,$t=h,vt=f.unpack;$t.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=vt(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},bt.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(yt,[null].concat(t,["gl"])))},yt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var kt=f.unpack,xt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=kt(t,"rgb"),o=r[0],a=r[1],i=r[2],s=Math.min(o,a,i),c=Math.max(o,a,i),l=c-s,u=100*l/255,d=s/(255-l)*100;return 0===l?n=Number.NaN:(o===c&&(n=(a-i)/l),a===c&&(n=2+(i-o)/l),i===c&&(n=4+(o-a)/l),(n*=60)<0&&(n+=360)),[n,u,d]},wt=xt,Et=f.unpack,Tt=Math.floor,St=function(){for(var t,e,n,r,o,a,i=[],s=arguments.length;s--;)i[s]=arguments[s];var c,l,u,d=(i=Et(i,"hcg"))[0],p=i[1],f=i[2];f*=255;var h=255*p;if(0===p)c=l=u=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var m=Tt(d/=60),g=d-m,_=f*(1-p),y=_+h*(1-g),b=_+h*g,$=_+h;switch(m){case 0:c=(t=[$,b,_])[0],l=t[1],u=t[2];break;case 1:c=(e=[y,$,_])[0],l=e[1],u=e[2];break;case 2:c=(n=[_,$,b])[0],l=n[1],u=n[2];break;case 3:c=(r=[_,y,$])[0],l=r[1],u=r[2];break;case 4:c=(o=[b,_,$])[0],l=o[1],u=o[2];break;case 5:c=(a=[$,_,y])[0],l=a[1],u=a[2]}}return[c,l,u,i.length>3?i[3]:1]},Mt=St,At=f.unpack,Ct=f.type,Dt=k,Ot=$,Nt=h,It=wt;Ot.prototype.hcg=function(){return It(this._rgb)},Dt.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ot,[null].concat(t,["hcg"])))},Nt.format.hcg=Mt,Nt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=At(t,"hcg"),"array"===Ct(t)&&3===t.length)return"hcg"}});var Pt=f.unpack,Rt=f.last,Lt=Math.round,Ft=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Pt(t,"rgba"),r=n[0],o=n[1],a=n[2],i=n[3],s=Rt(t)||"auto";void 0===i&&(i=1),"auto"===s&&(s=i<1?"rgba":"rgb");var c="000000"+((r=Lt(r))<<16|(o=Lt(o))<<8|(a=Lt(a))).toString(16);c=c.substr(c.length-6);var l="0"+Lt(255*i).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+c+l;case"argb":return"#"+l+c;default:return"#"+c}},Bt=Ft,Ut=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,jt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ht=function(t){if(t.match(Ut)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(jt)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},Yt=Ht,zt=k,Wt=$,qt=f.type,Vt=h,Gt=Bt;Wt.prototype.hex=function(t){return Gt(this._rgb,t)},zt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Wt,[null].concat(t,["hex"])))},Vt.format.hex=Yt,Vt.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===qt(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Kt=f.unpack,Jt=f.TWOPI,Zt=Math.min,Xt=Math.sqrt,Qt=Math.acos,te=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Kt(t,"rgb"),o=r[0],a=r[1],i=r[2],s=Zt(o/=255,a/=255,i/=255),c=(o+a+i)/3,l=c>0?1-s/c:0;return 0===l?n=NaN:(n=(o-a+(o-i))/2,n/=Xt((o-a)*(o-a)+(o-i)*(a-i)),n=Qt(n),i>a&&(n=Jt-n),n/=Jt),[360*n,l,c]},ee=te,ne=f.unpack,re=f.limit,oe=f.TWOPI,ae=f.PITHIRD,ie=Math.cos,se=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,a=(t=ne(t,"hsi"))[0],i=t[1],s=t[2];return isNaN(a)&&(a=0),isNaN(i)&&(i=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?r=1-((o=(1-i)/3)+(n=(1+i*ie(oe*a)/ie(ae-oe*a))/3)):a<2/3?o=1-((n=(1-i)/3)+(r=(1+i*ie(oe*(a-=1/3))/ie(ae-oe*a))/3)):n=1-((r=(1-i)/3)+(o=(1+i*ie(oe*(a-=2/3))/ie(ae-oe*a))/3)),[255*(n=re(s*n*3)),255*(r=re(s*r*3)),255*(o=re(s*o*3)),t.length>3?t[3]:1]},ce=se,le=f.unpack,ue=f.type,de=k,pe=$,fe=h,he=ee;pe.prototype.hsi=function(){return he(this._rgb)},de.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(pe,[null].concat(t,["hsi"])))},fe.format.hsi=ce,fe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=le(t,"hsi"),"array"===ue(t)&&3===t.length)return"hsi"}});var me=f.unpack,ge=f.type,_e=k,ye=$,be=h,$e=Y;ye.prototype.hsl=function(){return $e(this._rgb)},_e.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ye,[null].concat(t,["hsl"])))},be.format.hsl=tt,be.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=me(t,"hsl"),"array"===ge(t)&&3===t.length)return"hsl"}});var ve=f.unpack,ke=Math.min,xe=Math.max,we=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,a=(t=ve(t,"rgb"))[0],i=t[1],s=t[2],c=ke(a,i,s),l=xe(a,i,s),u=l-c;return o=l/255,0===l?(n=Number.NaN,r=0):(r=u/l,a===l&&(n=(i-s)/u),i===l&&(n=2+(s-a)/u),s===l&&(n=4+(a-i)/u),(n*=60)<0&&(n+=360)),[n,r,o]},Ee=we,Te=f.unpack,Se=Math.floor,Me=function(){for(var t,e,n,r,o,a,i=[],s=arguments.length;s--;)i[s]=arguments[s];var c,l,u,d=(i=Te(i,"hsv"))[0],p=i[1],f=i[2];if(f*=255,0===p)c=l=u=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var h=Se(d/=60),m=d-h,g=f*(1-p),_=f*(1-p*m),y=f*(1-p*(1-m));switch(h){case 0:c=(t=[f,y,g])[0],l=t[1],u=t[2];break;case 1:c=(e=[_,f,g])[0],l=e[1],u=e[2];break;case 2:c=(n=[g,f,y])[0],l=n[1],u=n[2];break;case 3:c=(r=[g,_,f])[0],l=r[1],u=r[2];break;case 4:c=(o=[y,g,f])[0],l=o[1],u=o[2];break;case 5:c=(a=[f,g,_])[0],l=a[1],u=a[2]}}return[c,l,u,i.length>3?i[3]:1]},Ae=Me,Ce=f.unpack,De=f.type,Oe=k,Ne=$,Ie=h,Pe=Ee;Ne.prototype.hsv=function(){return Pe(this._rgb)},Oe.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ne,[null].concat(t,["hsv"])))},Ie.format.hsv=Ae,Ie.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Ce(t,"hsv"),"array"===De(t)&&3===t.length)return"hsv"}});var Re={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Le=Re,Fe=f.unpack,Be=Math.pow,Ue=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Fe(t,"rgb"),r=n[0],o=n[1],a=n[2],i=Ye(r,o,a),s=i[0],c=i[1],l=116*c-16;return[l<0?0:l,500*(s-c),200*(c-i[2])]},je=function(t){return(t/=255)<=.04045?t/12.92:Be((t+.055)/1.055,2.4)},He=function(t){return t>Le.t3?Be(t,1/3):t/Le.t2+Le.t0},Ye=function(t,e,n){return t=je(t),e=je(e),n=je(n),[He((.4124564*t+.3575761*e+.1804375*n)/Le.Xn),He((.2126729*t+.7151522*e+.072175*n)/Le.Yn),He((.0193339*t+.119192*e+.9503041*n)/Le.Zn)]},ze=Ue,We=Re,qe=f.unpack,Ve=Math.pow,Ge=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,o,a=(t=qe(t,"lab"))[0],i=t[1],s=t[2];return r=(a+16)/116,n=isNaN(i)?r:r+i/500,o=isNaN(s)?r:r-s/200,r=We.Yn*Je(r),n=We.Xn*Je(n),o=We.Zn*Je(o),[Ke(3.2404542*n-1.5371385*r-.4985314*o),Ke(-.969266*n+1.8760108*r+.041556*o),Ke(.0556434*n-.2040259*r+1.0572252*o),t.length>3?t[3]:1]},Ke=function(t){return 255*(t<=.00304?12.92*t:1.055*Ve(t,1/2.4)-.055)},Je=function(t){return t>We.t1?t*t*t:We.t2*(t-We.t0)},Ze=Ge,Xe=f.unpack,Qe=f.type,tn=k,en=$,nn=h,rn=ze;en.prototype.lab=function(){return rn(this._rgb)},tn.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(en,[null].concat(t,["lab"])))},nn.format.lab=Ze,nn.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Xe(t,"lab"),"array"===Qe(t)&&3===t.length)return"lab"}});var on=f.unpack,an=f.RAD2DEG,sn=Math.sqrt,cn=Math.atan2,ln=Math.round,un=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=on(t,"lab"),r=n[0],o=n[1],a=n[2],i=sn(o*o+a*a),s=(cn(a,o)*an+360)%360;return 0===ln(1e4*i)&&(s=Number.NaN),[r,i,s]},dn=un,pn=f.unpack,fn=ze,hn=dn,mn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=pn(t,"rgb"),r=n[0],o=n[1],a=n[2],i=fn(r,o,a),s=i[0],c=i[1],l=i[2];return hn(s,c,l)},gn=mn,_n=f.unpack,yn=f.DEG2RAD,bn=Math.sin,$n=Math.cos,vn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_n(t,"lch"),r=n[0],o=n[1],a=n[2];return isNaN(a)&&(a=0),[r,$n(a*=yn)*o,bn(a)*o]},kn=vn,xn=f.unpack,wn=kn,En=Ze,Tn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=xn(t,"lch"))[0],r=t[1],o=t[2],a=wn(n,r,o),i=a[0],s=a[1],c=a[2],l=En(i,s,c);return[l[0],l[1],l[2],t.length>3?t[3]:1]},Sn=Tn,Mn=f.unpack,An=Sn,Cn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Mn(t,"hcl").reverse();return An.apply(void 0,n)},Dn=Cn,On=f.unpack,Nn=f.type,In=k,Pn=$,Rn=h,Ln=gn;Pn.prototype.lch=function(){return Ln(this._rgb)},Pn.prototype.hcl=function(){return Ln(this._rgb).reverse()},In.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Pn,[null].concat(t,["lch"])))},In.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Pn,[null].concat(t,["hcl"])))},Rn.format.lch=Sn,Rn.format.hcl=Dn,["lch","hcl"].forEach((function(t){return Rn.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=On(e,t),"array"===Nn(e)&&3===e.length)return t}})}));var Fn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Bn=$,Un=h,jn=f.type,Hn=Fn,Yn=Yt,zn=Bt;Bn.prototype.name=function(){for(var t=zn(this._rgb,"rgb"),e=0,n=Object.keys(Hn);e<n.length;e+=1){var r=n[e];if(Hn[r]===t)return r.toLowerCase()}return t},Un.format.named=function(t){if(t=t.toLowerCase(),Hn[t])return Yn(Hn[t]);throw new Error("unknown color name: "+t)},Un.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===jn(t)&&Hn[t.toLowerCase()])return"named"}});var Wn=f.unpack,qn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Wn(t,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},Vn=qn,Gn=f.type,Kn=function(t){if("number"==Gn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},Jn=k,Zn=$,Xn=h,Qn=f.type,tr=Vn;Zn.prototype.num=function(){return tr(this._rgb)},Jn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Zn,[null].concat(t,["num"])))},Xn.format.num=Kn,Xn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===Qn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var er=k,nr=$,rr=h,or=f.unpack,ar=f.type,ir=Math.round;nr.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ir)},nr.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:ir(e):e}))},er.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(nr,[null].concat(t,["rgb"])))},rr.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=or(t,"rgba");return void 0===n[3]&&(n[3]=1),n},rr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=or(t,"rgba"),"array"===ar(t)&&(3===t.length||4===t.length&&"number"==ar(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var sr=Math.log,cr=function(t){var e,n,r,o=t/100;return o<66?(e=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*sr(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*sr(r)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*sr(e),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*sr(n),r=255),[e,n,r,1]},lr=cr,ur=f.unpack,dr=Math.round,pr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=ur(t,"rgb"),o=r[0],a=r[2],i=1e3,s=4e4,c=.4;s-i>c;){var l=lr(n=.5*(s+i));l[2]/l[0]>=a/o?s=n:i=n}return dr(n)},fr=k,hr=$,mr=h,gr=pr;hr.prototype.temp=hr.prototype.kelvin=hr.prototype.temperature=function(){return gr(this._rgb)},fr.temp=fr.kelvin=fr.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(hr,[null].concat(t,["temp"])))},mr.format.temp=mr.format.kelvin=mr.format.temperature=cr;var _r=f.unpack,yr=Math.cbrt,br=Math.pow,$r=Math.sign,vr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_r(t,"rgb"),r=n[0],o=n[1],a=n[2],i=[xr(r/255),xr(o/255),xr(a/255)],s=i[0],c=i[1],l=i[2],u=yr(.4122214708*s+.5363325363*c+.0514459929*l),d=yr(.2119034982*s+.6806995451*c+.1073969566*l),p=yr(.0883024619*s+.2817188376*c+.6299787005*l);return[.2104542553*u+.793617785*d-.0040720468*p,1.9779984951*u-2.428592205*d+.4505937099*p,.0259040371*u+.7827717662*d-.808675766*p]},kr=vr;function xr(t){var e=Math.abs(t);return e<.04045?t/12.92:($r(t)||1)*br((e+.055)/1.055,2.4)}var wr=f.unpack,Er=Math.pow,Tr=Math.sign,Sr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=wr(t,"lab"))[0],r=t[1],o=t[2],a=Er(n+.3963377774*r+.2158037573*o,3),i=Er(n-.1055613458*r-.0638541728*o,3),s=Er(n-.0894841775*r-1.291485548*o,3);return[255*Ar(4.0767416621*a-3.3077115913*i+.2309699292*s),255*Ar(-1.2684380046*a+2.6097574011*i-.3413193965*s),255*Ar(-.0041960863*a-.7034186147*i+1.707614701*s),t.length>3?t[3]:1]},Mr=Sr;function Ar(t){var e=Math.abs(t);return e>.0031308?(Tr(t)||1)*(1.055*Er(e,1/2.4)-.055):12.92*t}var Cr=f.unpack,Dr=f.type,Or=k,Nr=$,Ir=h,Pr=kr;Nr.prototype.oklab=function(){return Pr(this._rgb)},Or.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Nr,[null].concat(t,["oklab"])))},Ir.format.oklab=Mr,Ir.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Cr(t,"oklab"),"array"===Dr(t)&&3===t.length)return"oklab"}});var Rr=f.unpack,Lr=kr,Fr=dn,Br=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Rr(t,"rgb"),r=n[0],o=n[1],a=n[2],i=Lr(r,o,a),s=i[0],c=i[1],l=i[2];return Fr(s,c,l)},Ur=Br,jr=f.unpack,Hr=kn,Yr=Mr,zr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=jr(t,"lch"))[0],r=t[1],o=t[2],a=Hr(n,r,o),i=a[0],s=a[1],c=a[2],l=Yr(i,s,c);return[l[0],l[1],l[2],t.length>3?t[3]:1]},Wr=zr,qr=f.unpack,Vr=f.type,Gr=k,Kr=$,Jr=h,Zr=Ur;Kr.prototype.oklch=function(){return Zr(this._rgb)},Gr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Kr,[null].concat(t,["oklch"])))},Jr.format.oklch=Wr,Jr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=qr(t,"oklch"),"array"===Vr(t)&&3===t.length)return"oklch"}});var Xr=$,Qr=f.type;Xr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Qr(t)?e?(this._rgb[3]=t,this):new Xr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},$.prototype.clipped=function(){return this._rgb._clipped||!1};var to=$,eo=Re;to.prototype.darken=function(t){void 0===t&&(t=1);var e=this,n=e.lab();return n[0]-=eo.Kn*t,new to(n,"lab").alpha(e.alpha(),!0)},to.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},to.prototype.darker=to.prototype.darken,to.prototype.brighter=to.prototype.brighten,$.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],o=this[n]();if(r){var a=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(a>-1)return o[a];throw new Error("unknown channel "+r+" in mode "+n)}return o};var no=$,ro=f.type,oo=Math.pow,ao=1e-7,io=20;no.prototype.luminance=function(t){if(void 0!==t&&"number"===ro(t)){if(0===t)return new no([0,0,0,this._rgb[3]],"rgb");if(1===t)return new no([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",r=io,o=function(e,a){var i=e.interpolate(a,.5,n),s=i.luminance();return Math.abs(t-s)<ao||!r--?i:s>t?o(e,i):o(i,a)},a=(e>t?o(new no([0,0,0]),this):o(this,new no([255,255,255]))).rgb();return new no(a.concat([this._rgb[3]]))}return so.apply(void 0,this._rgb.slice(0,3))};var so=function(t,e,n){return.2126*(t=co(t))+.7152*(e=co(e))+.0722*(n=co(n))},co=function(t){return(t/=255)<=.03928?t/12.92:oo((t+.055)/1.055,2.4)},lo={},uo=$,po=f.type,fo=lo,ho=function(t,e,n){void 0===n&&(n=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var a=r[0]||"lrgb";if(fo[a]||r.length||(a=Object.keys(fo)[0]),!fo[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==po(t)&&(t=new uo(t)),"object"!==po(e)&&(e=new uo(e)),fo[a](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},mo=$,go=ho;mo.prototype.mix=mo.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return go.apply(void 0,[this,t,e].concat(n))};var _o=$;_o.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new _o([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var yo=$,bo=Re;yo.prototype.saturate=function(t){void 0===t&&(t=1);var e=this,n=e.lch();return n[1]+=bo.Kn*t,n[1]<0&&(n[1]=0),new yo(n,"lch").alpha(e.alpha(),!0)},yo.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var $o=$,vo=f.type;$o.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),o=r[0],a=r[1],i=this[o]();if(a){var s=o.indexOf(a)-("ok"===o.substr(0,2)?2:0);if(s>-1){if("string"==vo(e))switch(e.charAt(0)){case"+":case"-":i[s]+=+e;break;case"*":i[s]*=+e.substr(1);break;case"/":i[s]/=+e.substr(1);break;default:i[s]=+e}else{if("number"!==vo(e))throw new Error("unsupported value for Color.set");i[s]=e}var c=new $o(i,o);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+a+" in mode "+o)}return i};var ko=$,xo=function(t,e,n){var r=t._rgb,o=e._rgb;return new ko(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};lo.rgb=xo;var wo=$,Eo=Math.sqrt,To=Math.pow,So=function(t,e,n){var r=t._rgb,o=r[0],a=r[1],i=r[2],s=e._rgb,c=s[0],l=s[1],u=s[2];return new wo(Eo(To(o,2)*(1-n)+To(c,2)*n),Eo(To(a,2)*(1-n)+To(l,2)*n),Eo(To(i,2)*(1-n)+To(u,2)*n),"rgb")};lo.lrgb=So;var Mo=$,Ao=function(t,e,n){var r=t.lab(),o=e.lab();return new Mo(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};lo.lab=Ao;var Co=$,Do=function(t,e,n,r){var o,a,i,s,c,l,u,d,p,f,h,m,g;return"hsl"===r?(i=t.hsl(),s=e.hsl()):"hsv"===r?(i=t.hsv(),s=e.hsv()):"hcg"===r?(i=t.hcg(),s=e.hcg()):"hsi"===r?(i=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=t.hcl(),s=e.hcl()):"oklch"===r&&(i=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(c=(o=i)[0],u=o[1],p=o[2],l=(a=s)[0],d=a[1],f=a[2]),isNaN(c)||isNaN(l)?isNaN(c)?isNaN(l)?m=Number.NaN:(m=l,1!=p&&0!=p||"hsv"==r||(h=d)):(m=c,1!=f&&0!=f||"hsv"==r||(h=u)):m=c+n*(l>c&&l-c>180?l-(c+360):l<c&&c-l>180?l+360-c:l-c),void 0===h&&(h=u+n*(d-u)),g=p+n*(f-p),new Co("oklch"===r?[g,h,m]:[m,h,g],r)},Oo=Do,No=function(t,e,n){return Oo(t,e,n,"lch")};lo.lch=No,lo.hcl=No;var Io=$,Po=function(t,e,n){var r=t.num(),o=e.num();return new Io(r+n*(o-r),"num")};lo.num=Po;var Ro=Do,Lo=function(t,e,n){return Ro(t,e,n,"hcg")};lo.hcg=Lo;var Fo=Do,Bo=function(t,e,n){return Fo(t,e,n,"hsi")};lo.hsi=Bo;var Uo=Do,jo=function(t,e,n){return Uo(t,e,n,"hsl")};lo.hsl=jo;var Ho=Do,Yo=function(t,e,n){return Ho(t,e,n,"hsv")};lo.hsv=Yo;var zo=$,Wo=function(t,e,n){var r=t.oklab(),o=e.oklab();return new zo(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};lo.oklab=Wo;var qo=Do,Vo=function(t,e,n){return qo(t,e,n,"oklch")};lo.oklch=Vo;var Go=$,Ko=f.clip_rgb,Jo=Math.pow,Zo=Math.sqrt,Xo=Math.PI,Qo=Math.cos,ta=Math.sin,ea=Math.atan2,na=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var o=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=o})),t=t.map((function(t){return new Go(t)})),"lrgb"===e)return ra(t,n);for(var a=t.shift(),i=a.get(e),s=[],c=0,l=0,u=0;u<i.length;u++)if(i[u]=(i[u]||0)*n[0],s.push(isNaN(i[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(i[u])){var d=i[u]/180*Xo;c+=Qo(d)*n[0],l+=ta(d)*n[0]}var p=a.alpha()*n[0];t.forEach((function(t,r){var o=t.get(e);p+=t.alpha()*n[r+1];for(var a=0;a<i.length;a++)if(!isNaN(o[a]))if(s[a]+=n[r+1],"h"===e.charAt(a)){var u=o[a]/180*Xo;c+=Qo(u)*n[r+1],l+=ta(u)*n[r+1]}else i[a]+=o[a]*n[r+1]}));for(var f=0;f<i.length;f++)if("h"===e.charAt(f)){for(var h=ea(l/s[f],c/s[f])/Xo*180;h<0;)h+=360;for(;h>=360;)h-=360;i[f]=h}else i[f]=i[f]/s[f];return p/=r,new Go(i,e).alpha(p>.99999?1:p,!0)},ra=function(t,e){for(var n=t.length,r=[0,0,0,0],o=0;o<t.length;o++){var a=t[o],i=e[o]/n,s=a._rgb;r[0]+=Jo(s[0],2)*i,r[1]+=Jo(s[1],2)*i,r[2]+=Jo(s[2],2)*i,r[3]+=s[3]*i}return r[0]=Zo(r[0]),r[1]=Zo(r[1]),r[2]=Zo(r[2]),r[3]>.9999999&&(r[3]=1),new Go(Ko(r))},oa=k,aa=f.type,ia=Math.pow,sa=function(t){var e="rgb",n=oa("#ccc"),r=0,o=[0,1],a=[],i=[0,0],s=!1,c=[],l=!1,u=0,d=1,p=!1,f={},h=!0,m=1,g=function(t){if((t=t||["#fff","#000"])&&"string"===aa(t)&&oa.brewer&&oa.brewer[t.toLowerCase()]&&(t=oa.brewer[t.toLowerCase()]),"array"===aa(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=oa(t[e]);a.length=0;for(var n=0;n<t.length;n++)a.push(n/(t.length-1))}return v(),c=t},_=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0},y=function(t){return t},b=function(t){return t},$=function(t,r){var o,l;if(null==r&&(r=!1),isNaN(t)||null===t)return n;l=r?t:s&&s.length>2?_(t)/(s.length-2):d!==u?(t-u)/(d-u):1,l=b(l),r||(l=y(l)),1!==m&&(l=ia(l,m)),l=i[0]+l*(1-i[0]-i[1]),l=Math.min(1,Math.max(0,l));var p=Math.floor(1e4*l);if(h&&f[p])o=f[p];else{if("array"===aa(c))for(var g=0;g<a.length;g++){var $=a[g];if(l<=$){o=c[g];break}if(l>=$&&g===a.length-1){o=c[g];break}if(l>$&&l<a[g+1]){l=(l-$)/(a[g+1]-$),o=oa.interpolate(c[g],c[g+1],l,e);break}}else"function"===aa(c)&&(o=c(l));h&&(f[p]=o)}return o},v=function(){return f={}};g(t);var k=function(t){var e=oa($(t));return l&&e[l]?e[l]():e};return k.classes=function(t){if(null!=t){if("array"===aa(t))s=t,o=[t[0],t[t.length-1]];else{var e=oa.analyze(o);s=0===t?[e.min,e.max]:oa.limits(e,"e",t)}return k}return s},k.domain=function(t){if(!arguments.length)return o;u=t[0],d=t[t.length-1],a=[];var e=c.length;if(t.length===e&&u!==d)for(var n=0,r=Array.from(t);n<r.length;n+=1){var i=r[n];a.push((i-u)/(d-u))}else{for(var s=0;s<e;s++)a.push(s/(e-1));if(t.length>2){var l=t.map((function(e,n){return n/(t.length-1)})),p=t.map((function(t){return(t-u)/(d-u)}));p.every((function(t,e){return l[e]===t}))||(b=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=p[e+1];)e++;var n=(t-p[e])/(p[e+1]-p[e]);return l[e]+n*(l[e+1]-l[e])})}}return o=[u,d],k},k.mode=function(t){return arguments.length?(e=t,v(),k):e},k.range=function(t,e){return g(t),k},k.out=function(t){return l=t,k},k.spread=function(t){return arguments.length?(r=t,k):r},k.correctLightness=function(t){return null==t&&(t=!0),p=t,v(),y=p?function(t){for(var e=$(0,!0).lab()[0],n=$(1,!0).lab()[0],r=e>n,o=$(t,!0).lab()[0],a=e+(n-e)*t,i=o-a,s=0,c=1,l=20;Math.abs(i)>.01&&l-- >0;)r&&(i*=-1),i<0?(s=t,t+=.5*(c-t)):(c=t,t+=.5*(s-t)),o=$(t,!0).lab()[0],i=o-a;return t}:function(t){return t},k},k.padding=function(t){return null!=t?("number"===aa(t)&&(t=[t,t]),i=t,k):i},k.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===e)r=[k(.5)];else if(e>1){var a=o[0],i=o[1]-a;r=ca(0,e,!1).map((function(t){return k(a+t/(e-1)*i)}))}else{t=[];var l=[];if(s&&s.length>2)for(var u=1,d=s.length,p=1<=d;p?u<d:u>d;p?u++:u--)l.push(.5*(s[u-1]+s[u]));else l=o;r=l.map((function(t){return k(t)}))}return oa[n]&&(r=r.map((function(t){return t[n]()}))),r},k.cache=function(t){return null!=t?(h=t,k):h},k.gamma=function(t){return null!=t?(m=t,k):m},k.nodata=function(t){return null!=t?(n=oa(t),k):n},k};function ca(t,e,n){for(var r=[],o=t<e,a=n?o?e+1:e-1:e,i=t;o?i<a:i>a;o?i++:i--)r.push(i);return r}var la=$,ua=sa,da=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],o=1;o<=e.length;o++)r[o]=(e[o]||0)+e[o-1];e=r}return e},pa=function(t){var e,n,r,o,a,i,s;if(2===(t=t.map((function(t){return new la(t)}))).length)e=t.map((function(t){return t.lab()})),a=e[0],i=e[1],o=function(t){var e=[0,1,2].map((function(e){return a[e]+t*(i[e]-a[e])}));return new la(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),a=n[0],i=n[1],s=n[2],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*i[e]+t*t*s[e]}));return new la(e,"lab")};else if(4===t.length){var c;r=t.map((function(t){return t.lab()})),a=r[0],i=r[1],s=r[2],c=r[3],o=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*i[e]+3*(1-t)*t*t*s[e]+t*t*t*c[e]}));return new la(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var l,u,d;l=t.map((function(t){return t.lab()})),d=t.length-1,u=da(d),o=function(t){var e=1-t,n=[0,1,2].map((function(n){return l.reduce((function(r,o,a){return r+u[a]*Math.pow(e,d-a)*Math.pow(t,a)*o[n]}),0)}));return new la(n,"lab")}}return o},fa=function(t){var e=pa(t);return e.scale=function(){return ua(e)},e},ha=k,ma=function(t,e,n){if(!ma[n])throw new Error("unknown blend mode "+n);return ma[n](t,e)},ga=function(t){return function(e,n){var r=ha(n).rgb(),o=ha(e).rgb();return ha.rgb(t(r,o))}},_a=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},ya=function(t){return t},ba=function(t,e){return t*e/255},$a=function(t,e){return t>e?e:t},va=function(t,e){return t>e?t:e},ka=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},xa=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},wa=function(t,e){return 255*(1-(1-e/255)/(t/255))},Ea=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t};ma.normal=ga(_a(ya)),ma.multiply=ga(_a(ba)),ma.screen=ga(_a(ka)),ma.overlay=ga(_a(xa)),ma.darken=ga(_a($a)),ma.lighten=ga(_a(va)),ma.dodge=ga(_a(Ea)),ma.burn=ga(_a(wa));for(var Ta=ma,Sa=f.type,Ma=f.clip_rgb,Aa=f.TWOPI,Ca=Math.pow,Da=Math.sin,Oa=Math.cos,Na=k,Ia=function(t,e,n,r,o){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var a,i=0;"array"===Sa(o)?a=o[1]-o[0]:(a=0,o=[o,o]);var s=function(s){var c=Aa*((t+120)/360+e*s),l=Ca(o[0]+a*s,r),u=(0!==i?n[0]+s*i:n)*l*(1-l)/2,d=Oa(c),p=Da(c);return Na(Ma([255*(l+u*(-.14861*d+1.78277*p)),255*(l+u*(-.29227*d-.90649*p)),255*(l+u*(1.97294*d)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===Sa(n=t)?0==(i=n[1]-n[0])&&(n=n[1]):i=0,s)},s.lightness=function(t){return null==t?o:("array"===Sa(t)?(o=t,a=t[1]-t[0]):(o=[t,t],a=0),s)},s.scale=function(){return Na.scale(s)},s.hue(n),s},Pa=$,Ra="0123456789abcdef",La=Math.floor,Fa=Math.random,Ba=function(){for(var t="#",e=0;e<6;e++)t+=Ra.charAt(La(16*Fa()));return new Pa(t,"hex")},Ua=s,ja=Math.log,Ha=Math.pow,Ya=Math.floor,za=Math.abs,Wa=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ua(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Ua(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return qa(n,t,e)},n},qa=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==Ua(t)&&(t=Wa(t));var r=t.min,o=t.max,a=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,o];var i=[];if("c"===e.substr(0,1)&&(i.push(r),i.push(o)),"e"===e.substr(0,1)){i.push(r);for(var s=1;s<n;s++)i.push(r+s/n*(o-r));i.push(o)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*ja(r),l=Math.LOG10E*ja(o);i.push(r);for(var u=1;u<n;u++)i.push(Ha(10,c+u/n*(l-c)));i.push(o)}else if("q"===e.substr(0,1)){i.push(r);for(var d=1;d<n;d++){var p=(a.length-1)*d/n,f=Ya(p);if(f===p)i.push(a[f]);else{var h=p-f;i.push(a[f]*(1-h)+a[f+1]*h)}}i.push(o)}else if("k"===e.substr(0,1)){var m,g=a.length,_=new Array(g),y=new Array(n),b=!0,$=0,v=null;(v=[]).push(r);for(var k=1;k<n;k++)v.push(r+k/n*(o-r));for(v.push(o);b;){for(var x=0;x<n;x++)y[x]=0;for(var w=0;w<g;w++)for(var E=a[w],T=Number.MAX_VALUE,S=void 0,M=0;M<n;M++){var A=za(v[M]-E);A<T&&(T=A,S=M),y[S]++,_[w]=S}for(var C=new Array(n),D=0;D<n;D++)C[D]=null;for(var O=0;O<g;O++)null===C[m=_[O]]?C[m]=a[O]:C[m]+=a[O];for(var N=0;N<n;N++)C[N]*=1/y[N];b=!1;for(var I=0;I<n;I++)if(C[I]!==v[I]){b=!0;break}v=C,++$>200&&(b=!1)}for(var P={},R=0;R<n;R++)P[R]=[];for(var L=0;L<g;L++)P[m=_[L]].push(a[L]);for(var F=[],B=0;B<n;B++)F.push(P[B][0]),F.push(P[B][P[B].length-1]);F=F.sort((function(t,e){return t-e})),i.push(F[0]);for(var U=1;U<F.length;U+=2){var j=F[U];isNaN(j)||-1!==i.indexOf(j)||i.push(j)}}return i},Va={analyze:Wa,limits:qa},Ga=$,Ka=function(t,e){t=new Ga(t),e=new Ga(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Ja=$,Za=Math.sqrt,Xa=Math.pow,Qa=Math.min,ti=Math.max,ei=Math.atan2,ni=Math.abs,ri=Math.cos,oi=Math.sin,ai=Math.exp,ii=Math.PI,si=function(t,e,n,r,o){void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=1);var a=function(t){return 360*t/(2*ii)},i=function(t){return 2*ii*t/360};t=new Ja(t),e=new Ja(e);var s=Array.from(t.lab()),c=s[0],l=s[1],u=s[2],d=Array.from(e.lab()),p=d[0],f=d[1],h=d[2],m=(c+p)/2,g=(Za(Xa(l,2)+Xa(u,2))+Za(Xa(f,2)+Xa(h,2)))/2,_=.5*(1-Za(Xa(g,7)/(Xa(g,7)+Xa(25,7)))),y=l*(1+_),b=f*(1+_),$=Za(Xa(y,2)+Xa(u,2)),v=Za(Xa(b,2)+Xa(h,2)),k=($+v)/2,x=a(ei(u,y)),w=a(ei(h,b)),E=x>=0?x:x+360,T=w>=0?w:w+360,S=ni(E-T)>180?(E+T+360)/2:(E+T)/2,M=1-.17*ri(i(S-30))+.24*ri(i(2*S))+.32*ri(i(3*S+6))-.2*ri(i(4*S-63)),A=T-E;A=ni(A)<=180?A:T<=E?A+360:A-360,A=2*Za($*v)*oi(i(A)/2);var C=p-c,D=v-$,O=1+.015*Xa(m-50,2)/Za(20+Xa(m-50,2)),N=1+.045*k,I=1+.015*k*M,P=30*ai(-Xa((S-275)/25,2)),R=-2*Za(Xa(k,7)/(Xa(k,7)+Xa(25,7)))*oi(2*i(P)),L=Za(Xa(C/(n*O),2)+Xa(D/(r*N),2)+Xa(A/(o*I),2)+R*(D/(r*N))*(A/(o*I)));return ti(0,Qa(100,L))},ci=$,li=function(t,e,n){void 0===n&&(n="lab"),t=new ci(t),e=new ci(e);var r=t.get(n),o=e.get(n),a=0;for(var i in r){var s=(r[i]||0)-(o[i]||0);a+=s*s}return Math.sqrt(a)},ui=$,di=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(ui,[null].concat(t))),!0}catch(t){return!1}},pi=k,fi=sa,hi={cool:function(){return fi([pi.hsl(180,1,.9),pi.hsl(250,.7,.4)])},hot:function(){return fi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},mi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},gi=0,_i=Object.keys(mi);gi<_i.length;gi+=1){var yi=_i[gi];mi[yi.toLowerCase()]=mi[yi]}var bi=mi,$i=k;$i.average=na,$i.bezier=fa,$i.blend=Ta,$i.cubehelix=Ia,$i.mix=$i.interpolate=ho,$i.random=Ba,$i.scale=sa,$i.analyze=Va.analyze,$i.contrast=Ka,$i.deltaE=si,$i.distance=li,$i.limits=Va.limits,$i.valid=di,$i.scales=hi,$i.colors=Fn,$i.brewer=bi;var vi=$i;return vi}()}(chroma);var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const chroma_js_1=__importDefault(chroma.exports),MAX_ITER=10,EPS=.01;function invertColor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;const o=(0,chroma_js_1.default)(t).alpha(1),a=(0,chroma_js_1.default)(t).alpha();if(0===a)return t;const i=o.lab()[0],s=(0,chroma_js_1.default)(n).lab()[0],c=(0,chroma_js_1.default)(e).lab()[0],l=computeContrast(t,n);if(Math.abs(l-1)<EPS)return e;const u=s>i,d=u?b(c,100,MAX_ITER):b(0,c,MAX_ITER),p=d.lab()[0],f=100*Math.pow(p/100,r),h=d.set("lab.l",f).hex();if(1===a)return h;const m=chroma_js_1.default.mix(e,h,a,"rgb"),g=chroma_js_1.default.contrast(e,m),_=g*getContrastBoost(g,1.05),y=correctOpacity(h,e,a,_);return(0,chroma_js_1.default)(h).alpha(y).hex();function b(n,r,o){const a=.5*(n+r),i=(0,chroma_js_1.default)(t).set("lab.l",a),s=computeContrast(e,i);if(Math.abs(s-l)<EPS||!o)return i;const d=a>c,p=d&&u||!d&&u;return p&&s>l||!p&&s<l?b(n,a,o-1):b(a,r,o-1)}}function computeContrast(t,e){return chroma_js_1.default.contrast(t,e)}function getContrastBoost(t,e){return 1+(t<1.5?1:t>3?0:1-(t-1.5)/1.5)*(e-1)}function correctOpacity(t,e,n,r){const o=.01,a=chroma_js_1.default.mix(e,t,n,"rgb");return chroma_js_1.default.contrast(a,e)-r>-o||!n?n:function n(a,i,s){const c=(a+i)/2,l=chroma_js_1.default.mix(e,t,c,"rgb"),u=chroma_js_1.default.contrast(l,e);if(Math.abs(u-r)<o||!s)return c;return u<r?n(c,i,s-1):n(a,c,s-1)}(n,1,10)}var invertColor_1=invertColor,_templateObject$2,_templateObject$1,_templateObject;function create_fragment$f(t){let e,n,r=t[1](t[0].title)+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){let[o]=n;1&o&&r!==(r=t[1](t[0].title)+"")&&e.p(r)},i:noop$1,o:noop$1,d(t){t&&detach(n),t&&e.d()}}}function instance$f(t,e,n){let r,{props:o}=e;const{purifyHtml:a}=o;return t.$$set=t=>{"props"in t&&n(2,o=t.props)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r=o.chart)},[r,a,o]}class Headline extends SvelteComponent{constructor(t){super(),init(this,t,instance$f,create_fragment$f,safe_not_equal,{props:2})}}function HeadlineStyles(t,e){const{css:n,getProp:r}=getThemeStyleHelpers$1(t,e);return n(_templateObject$2||(_templateObject$2=_taggedTemplateLiteral(["\n        margin: ",";\n        padding: ",";\n        border-top: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        background: ",";\n\n        font-family: ",";\n        font-weight: ",";\n        font-size: ",";\n        font-stretch: ",";\n        line-height: ",";\n\n        text-transform: ",";\n        letter-spacing: ",";\n        font-style: ",";\n        text-decoration: ",";\n        color: ",";\n        text-align: ",";\n    "])),r("style.header.title.margin","0 0 10px"),r("style.header.title.padding"),r("style.header.title.border.top"),r("style.header.title.border.bottom"),r("style.header.title.border.left"),r("style.header.title.border.right"),r("style.header.title.background"),r("typography.headline.typeface"),r("typography.headline.fontWeight"),toPixel$1(r("typography.headline.fontSize")),r("typography.headline.fontStretch"),lineHeight$1(r("typography.headline.lineHeight")),r("typography.headline.textTransform"),toPixel$1(r("typography.headline.letterSpacing")),get_1(e,"typography.headline.cursive")?"italic":"normal",get_1(e,"typography.headline.underlined")?"underline":"none",r("typography.headline.color"),r("style.header.title.textAlign"))}function create_fragment$e(t){let e,n,r=clean$1(t[0],t[1])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){let[o]=n;1&o&&r!==(r=clean$1(t[0],t[1])+"")&&e.p(r)},i:noop$1,o:noop$1,d(t){t&&detach(n),t&&e.d()}}}function instance$e(t,e,n){let r,o,{props:a}=e;const{get:i}=a;return t.$$set=t=>{"props"in t&&n(2,a=t.props)},t.$$.update=()=>{4&t.$$.dirty&&n(3,r=a.chart),8&t.$$.dirty&&n(0,o=i(r,"metadata.describe.intro"))},[o,["caption","details","summary"],a,r]}class Description extends SvelteComponent{constructor(t){super(),init(this,t,instance$e,create_fragment$e,safe_not_equal,{props:2})}}function DescriptionStyles(t,e){const{css:n,getProp:r}=getThemeStyleHelpers$1(t,e);return n(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral(["\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n\n        border-top: ",";\n        border-left: ",";\n        border-right: ",";\n        border-bottom: ",";\n        background: ",";\n\n        font-family: ",";\n        font-weight: ",";\n        font-size: ",";\n        font-stretch: ",";\n        text-transform: ",";\n        line-height: ",";\n\n        letter-spacing: ",";\n        font-style: ",";\n        text-decoration: ",";\n        color: ",";\n    "])),r("style.header.description.margin","5px 0 10px"),r("style.header.description.padding"),r("style.header.description.textAlign"),r("style.header.description.border.top"),r("style.header.description.border.left"),r("style.header.description.border.right"),r("style.header.description.border.bottom"),r("style.header.description.background"),r("typography.description.typeface"),r("typography.description.fontWeight"),toPixel$1(r("typography.description.fontSize")),r("typography.description.fontStretch"),r("typography.description.textTransform"),lineHeight$1(r("typography.description.lineHeight")),toPixel$1(r("typography.description.letterSpacing")),get_1(e,"typography.description.cursive")?"italic":"normal",get_1(e,"typography.description.underlined")?"underline":"none",r("typography.description.color"))}function create_if_block$7(t){let e,n,r=t[3]&&create_if_block_2(t);function o(t,e){return t[0]&&t[2]?create_if_block_1$3:create_else_block$1}let a=o(t),i=a(t);return{c(){r&&r.c(),e=space(),i.c(),n=empty()},l(t){r&&r.l(t),e=claim_space(t),i.l(t),n=empty()},m(t,o){r&&r.m(t,o),insert_hydration(t,e,o),i.m(t,o),insert_hydration(t,n,o)},p(t,s){t[3]?r?r.p(t,s):(r=create_if_block_2(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a===(a=o(t))&&i?i.p(t,s):(i.d(1),i=a(t),i&&(i.c(),i.m(n.parentNode,n)))},d(t){r&&r.d(t),t&&detach(e),i.d(t),t&&detach(n)}}}function create_if_block_2(t){let e,n,r;return{c(){e=element("span"),n=text(t[3]),r=text(":"),this.h()},l(o){e=claim_element(o,"SPAN",{class:!0});var a=children(e);n=claim_text(a,t[3]),r=claim_text(a,":"),a.forEach(detach),this.h()},h(){attr(e,"class","source-caption")},m(t,o){insert_hydration(t,e,o),append_hydration(e,n),append_hydration(e,r)},p(t,e){8&e&&set_data(n,t[3])},d(t){t&&detach(e)}}}function create_else_block$1(t){let e,n,r=t[4](t[1])+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0,title:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","source"),attr(e,"title",n=t[0]&&!t[2]?t[0]:null)},m(t,n){insert_hydration(t,e,n),e.innerHTML=r},p(t,o){2&o&&r!==(r=t[4](t[1])+"")&&(e.innerHTML=r),5&o&&n!==(n=t[0]&&!t[2]?t[0]:null)&&attr(e,"title",n)},d(t){t&&detach(e)}}}function create_if_block_1$3(t){let e,n,r,o=t[4](t[1])+"";return{c(){e=element("a"),this.h()},l(t){e=claim_element(t,"A",{class:!0,target:!0,rel:!0,href:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","source"),attr(e,"target","_blank"),attr(e,"rel","nofollow noopener noreferrer"),attr(e,"href",t[0])},m(a,i){insert_hydration(a,e,i),e.innerHTML=o,n||(r=listen(e,"click",t[5]),n=!0)},p(t,n){2&n&&o!==(o=t[4](t[1])+"")&&(e.innerHTML=o),1&n&&attr(e,"href",t[0])},d(t){t&&detach(e),n=!1,r()}}}function create_fragment$d(t){let e,n=t[1]&&create_if_block$7(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert_hydration(t,e,r)},p(t,r){let[o]=r;t[1]?n?n.p(t,o):(n=create_if_block$7(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:noop$1,o:noop$1,d(t){n&&n.d(t),t&&detach(e)}}}function instance$d(t,e,n){let r,o,a,i,s,c,l,{props:u}=e;const{__:d,get:p,purifyHtml:f}=u;return t.$$set=t=>{"props"in t&&n(6,u=t.props)},t.$$.update=()=>{64&t.$$.dirty&&n(7,({chart:r,themeData:o,postEvent:a}=u),r,(n(8,o),n(6,u))),256&t.$$.dirty&&n(3,i=p(o,"options.blocks.source.data.caption",d("blocks / source"))),128&t.$$.dirty&&n(1,s=p(r,"metadata.describe.source-name")),128&t.$$.dirty&&n(0,c=p(r,"metadata.describe.source-url")),1&t.$$.dirty&&n(2,l=isAllowedSourceUrl_1(c))},[c,s,l,i,f,function(){a("source.click",{url:c,name:s})},u,r,o]}class Source extends SvelteComponent{constructor(t){super(),init(this,t,instance$d,create_fragment$d,safe_not_equal,{props:6})}}function create_if_block_1$2(t){let e,n;return{c(){e=element("span"),n=text(t[3]),this.h()},l(r){e=claim_element(r,"SPAN",{class:!0});var o=children(e);n=claim_text(o,t[3]),o.forEach(detach),this.h()},h(){attr(e,"class","byline-caption")},m(t,r){insert_hydration(t,e,r),append_hydration(e,n)},p(t,e){8&e&&set_data(n,t[3])},d(t){t&&detach(e)}}}function create_if_block$6(t){let e,n,r=t[4](t[2])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){4&n&&r!==(r=t[4](t[2])+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$c(t){let e,n,r,o,a,i=t[3]&&create_if_block_1$2(t),s=t[0].basedOnByline&&create_if_block$6(t);return{c(){i&&i.c(),e=space(),n=element("span"),r=text(t[1]),o=space(),s&&s.c(),a=empty(),this.h()},l(c){i&&i.l(c),e=claim_space(c),n=claim_element(c,"SPAN",{class:!0});var l=children(n);r=claim_text(l,t[1]),l.forEach(detach),o=claim_space(c),s&&s.l(c),a=empty(),this.h()},h(){attr(n,"class","byline-content")},m(t,c){i&&i.m(t,c),insert_hydration(t,e,c),insert_hydration(t,n,c),append_hydration(n,r),insert_hydration(t,o,c),s&&s.m(t,c),insert_hydration(t,a,c)},p(t,n){let[o]=n;t[3]?i?i.p(t,o):(i=create_if_block_1$2(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),2&o&&set_data(r,t[1]),t[0].basedOnByline?s?s.p(t,o):(s=create_if_block$6(t),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},i:noop$1,o:noop$1,d(t){i&&i.d(t),t&&detach(e),t&&detach(n),t&&detach(o),s&&s.d(t),t&&detach(a)}}}function instance$c(t,e,n){let r,o,a,i,s,c,l,u,{props:d}=e;const{get:p,purifyHtml:f,__:h}=d;return t.$$set=t=>{"props"in t&&n(5,d=t.props)},t.$$.update=()=>{32&t.$$.dirty&&n(0,r=d.chart),32&t.$$.dirty&&n(8,o=d.themeData),32&t.$$.dirty&&n(9,a=d.caption),768&t.$$.dirty&&n(3,i=p(o,"options.blocks.byline.data.".concat(a,"Caption"),h("blocks / byline / ".concat(a)))),1&t.$$.dirty&&n(1,s=p(r,"metadata.describe.byline",!1)),256&t.$$.dirty&&n(7,c=p(o,"options.blocks.byline.data.forkCaption",h("blocks / byline / fork"))),3&t.$$.dirty&&n(6,l=r.basedOnByline&&s),193&t.$$.dirty&&n(2,u=(l?"(":"")+c+" "+f(r.basedOnByline)+(l?")":""))},[r,s,u,i,f,d,l,c,o,a]}class Byline extends SvelteComponent{constructor(t){super(),init(this,t,instance$c,create_fragment$c,safe_not_equal,{props:5})}}function create_fragment$b(t){let e,n,r=clean$1(t[1](t[0],"metadata.annotate.notes"),["details","summary"])+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){let[o]=n;1&o&&r!==(r=clean$1(t[1](t[0],"metadata.annotate.notes"),["details","summary"])+"")&&e.p(r)},i:noop$1,o:noop$1,d(t){t&&detach(n),t&&e.d()}}}function instance$b(t,e,n){let r,{props:o}=e;const{get:a}=o;return t.$$set=t=>{"props"in t&&n(2,o=t.props)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r=o.chart)},[r,a,o]}class Notes extends SvelteComponent{constructor(t){super(),init(this,t,instance$b,create_fragment$b,safe_not_equal,{props:2})}}function NotesStyles(t,e){const{css:n,getProp:r}=getThemeStyleHelpers$1(t,e);return n(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n        position: relative;\n        color: ",";\n        font-family: ",";\n        font-size: ",";\n        font-stretch: ",";\n        font-style: ",";\n        font-weight: ",";\n        letter-spacing: ",";\n        line-height: ",";\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n        text-decoration: ",";\n        text-transform: ",";\n\n        a {\n            padding: ",";\n            border-bottom: ",";\n            font-style: ",";\n        }\n    "])),r("typography.notes.color"),r("typography.notes.typeface"),toPixel$1(r("typography.notes.fontSize")),r("typography.notes.fontStretch"),get_1(e,"typography.notes.cursive")?"italic":"normal",r("typography.notes.fontWeight"),toPixel$1(r("typography.notes.letterSpacing")),lineHeight$1(r("typography.notes.lineHeight")),r("style.notes.margin"),r("style.notes.padding"),r("style.notes.textAlign"),get_1(e,"typography.notes.underlined")?"underline":"none",r("typography.notes.textTransform"),r("style.footer.links.padding"),r("style.footer.links.border.bottom"),get_1(e,"typography.notes.cursive")||get_1(e,"typography.links.cursive")?"italic":"normal")}function create_fragment$a(t){let e,n,r,o,a,i,s,c=t[3](t[2])+"";return{c(){e=element("a"),n=text(c),this.h()},l(t){e=claim_element(t,"A",{class:!0,"aria-label":!0,target:!0,href:!0});var r=children(e);n=claim_text(r,c),r.forEach(detach),this.h()},h(){attr(e,"class","dw-data-link"),attr(e,"aria-label",r=t[3](t[2])+": "+t[4](t[0].title,[])),attr(e,"target",o=t[1]?"_blank":"_self"),attr(e,"href",a=t[1]||"javascript:void(0)")},m(r,o){insert_hydration(r,e,o),append_hydration(e,n),i||(s=listen(e,"click",t[5]),i=!0)},p(t,i){let[s]=i;4&s&&c!==(c=t[3](t[2])+"")&&set_data(n,c),5&s&&r!==(r=t[3](t[2])+": "+t[4](t[0].title,[]))&&attr(e,"aria-label",r),2&s&&o!==(o=t[1]?"_blank":"_self")&&attr(e,"target",o),2&s&&a!==(a=t[1]||"javascript:void(0)")&&attr(e,"href",a)},i:noop$1,o:noop$1,d(t){t&&detach(e),i=!1,s()}}}function download(t,e){const n=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,e);else{const t=document.createElement("a");t.href=URL.createObjectURL(n),t.download=e,t.click()}}function instance$a(t,e,n){let r,o,a,i,s,c,l,{props:u}=e;const{get:d,__:p,purifyHtml:f}=u;return t.$$set=t=>{"props"in t&&n(6,u=t.props)},t.$$.update=()=>{64&t.$$.dirty&&n(0,({chart:r,dwChart:o,teamPublicSettings:a,themeData:i,postEvent:s}=u),r,(n(7,i),n(6,u))),1&t.$$.dirty&&n(1,c=d(r,"externalData")),128&t.$$.dirty&&n(2,l=d(i,"options.blocks.get-the-data.data.caption",p("blocks / get-the-data")))},[r,c,l,p,f,function(t){if(s("download",{type:"csv"}),!c&&o&&o.dataset){download(function(){const t={};return a.downloadDataLocalized&&(t.numeral=o.vis().libraries().numeral),"\ufeff"+o.dataset().csv(t)}(),function(){const t="data-".concat(r.id,".csv"),e=d(i,"options.blocks.get-the-data.data.filename","").replace(/%custom_(.*?)%/g,((t,e)=>d(r,"metadata.custom.".concat(e),""))).replace(/%chart_id%/g,r.id);return e&&".csv"!==e?e:t}()),t.preventDefault()}},u,i]}class GetTheData extends SvelteComponent{constructor(t){super(),init(this,t,instance$a,create_fragment$a,safe_not_equal,{props:6})}}function create_if_block$5(t){let e,n,r,o,a=t[3](t[0])+"";return{c(){e=element("a"),n=text(a),this.h()},l(t){e=claim_element(t,"A",{href:!0});var r=children(e);n=claim_text(r,a),r.forEach(detach),this.h()},h(){attr(e,"href","#/edit-in-datawrapper")},m(a,i){insert_hydration(a,e,i),append_hydration(e,n),r||(o=listen(e,"click",prevent_default(t[4])),r=!0)},p(t,e){1&e&&a!==(a=t[3](t[0])+"")&&set_data(n,a)},d(t){t&&detach(e),r=!1,o()}}}function create_fragment$9(t){let e,n=t[2]&&t[1]&&create_if_block$5(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert_hydration(t,e,r)},p(t,r){let[o]=r;t[2]&&t[1]?n?n.p(t,o):(n=create_if_block$5(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:noop$1,o:noop$1,d(t){n&&n.d(t),t&&detach(e)}}}function instance$9(t,e,n){let r,o,a,i,s,c,{props:l}=e;const{get:u,__:d}=l;return t.$$set=t=>{"props"in t&&n(5,l=t.props)},t.$$.update=()=>{32&t.$$.dirty&&n(6,({chart:r,themeData:o,config:a}=l),r,(n(7,o),n(5,l))),64&t.$$.dirty&&n(2,i=u(r,"forkable",!1)),64&t.$$.dirty&&n(1,s=u(r,"metadata.publish.blocks.edit-in-datawrapper",!1)),128&t.$$.dirty&&n(0,c=u(o,"options.blocks.edit.data.caption","blocks / edit-in-datawrapper"))},[c,s,i,d,function(){const t=document.createElement("form");t.setAttribute("method","post"),t.setAttribute("target","_blank"),t.setAttribute("action","//".concat(a.frontendDomain,"/create/"));const e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","template"),e.setAttribute("value",r.id),t.appendChild(e),document.body.appendChild(t),t.submit(),document.body.removeChild(t)},l,r,o]}class EditInDatawrapper extends SvelteComponent{constructor(t){super(),init(this,t,instance$9,create_fragment$9,safe_not_equal,{props:5})}}function add_css$4(t){append_styles(t,"svelte-1f8d99s",".embed-code.svelte-1f8d99s.svelte-1f8d99s{position:absolute;bottom:35px;left:8px;max-width:350px;border:1px solid #e5e5e5;background:#fff;box-shadow:0px 4px 10px rgba(0, 0, 0, 0.15);border-radius:4px;padding:15px 20px;font-size:14px;z-index:100}.embed-code.svelte-1f8d99s .close.svelte-1f8d99s{width:15px;height:15px;right:10px;top:10px;position:absolute;fill:#4f4f4f;cursor:pointer}.embed-code.svelte-1f8d99s .close.svelte-1f8d99s:hover,.embed-code.svelte-1f8d99s .close.svelte-1f8d99s:focus{fill:#111}.embed-code.svelte-1f8d99s button.svelte-1f8d99s{cursor:pointer;border:1px solid #ccc;border-bottom-color:#b3b3b3;box-shadow:none;border-radius:4px;width:40px;height:30px;box-shadow:0px 1px 2px rgba(0, 0, 0, 0.05), inset 0px 1px 0px rgba(255, 255, 255, 0.05)}.embed-code.svelte-1f8d99s button.svelte-1f8d99s:hover,.embed-code.svelte-1f8d99s button.svelte-1f8d99s:active{background-color:#e6e6e6}.embed-code.svelte-1f8d99s button svg.svelte-1f8d99s{width:20px;height:20px}.embed-code.svelte-1f8d99s button path.svelte-1f8d99s{fill:#4f4f4f}.embed-code.svelte-1f8d99s p.svelte-1f8d99s{margin:0px 0px 12px 0px;width:calc(100% - 30px);font-size:14px;line-height:20px}.embed-code.svelte-1f8d99s div.actions.svelte-1f8d99s{display:flex;justify-content:space-between}input.svelte-1f8d99s.svelte-1f8d99s{width:100%;background:#f5f5f5;border:1px solid #dddddd;box-sizing:border-box;border-radius:4px;padding:4px;font-size:14px;line-height:14px;color:#4f4f4f;margin-right:10px}")}function create_if_block$4(t){let e,n,r,o,a,i,s,c,l,u,d,p,f,h,m,g=clean$1(t[3].text||t[4]("blocks / embed / caption"))+"";return{c(){e=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),a=space(),i=element("p"),s=space(),c=element("div"),l=element("input"),u=space(),d=element("button"),p=svg_element("svg"),f=svg_element("path"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var h=children(e);n=claim_element(h,"DIV",{class:!0});var m=children(n);r=claim_svg_element(m,"svg",{viewBox:!0,xmlns:!0,class:!0});var g=children(r);o=claim_svg_element(g,"path",{d:!0,class:!0}),children(o).forEach(detach),g.forEach(detach),m.forEach(detach),a=claim_space(h),i=claim_element(h,"P",{class:!0}),children(i).forEach(detach),s=claim_space(h),c=claim_element(h,"DIV",{class:!0});var _=children(c);l=claim_element(_,"INPUT",{type:!0,class:!0}),u=claim_space(_),d=claim_element(_,"BUTTON",{class:!0});var y=children(d);p=claim_svg_element(y,"svg",{viewBox:!0,xmlns:!0,class:!0});var b=children(p);f=claim_svg_element(b,"path",{d:!0,class:!0}),children(f).forEach(detach),b.forEach(detach),y.forEach(detach),_.forEach(detach),h.forEach(detach),this.h()},h(){attr(o,"d","M7 4a.995.995 0 0 0-.707.293l-2 2a.999.999 0 0 0 0 1.414L11.586 15l-7.293\n                    7.293a.999.999 0 0 0 0 1.414l2 2a.999.999 0 0 0 1.414 0L15 18.414l7.293\n                    7.293a.999.999 0 0 0 1.414 0l2-2a.999.999 0 0 0 0-1.414L18.414\n                    15l7.293-7.293a.999.999 0 0 0 0-1.414l-2-2a.999.999 0 0 0-1.414 0L15 11.586\n                    7.707 4.293A.996.996 0 0 0 7 4z"),attr(o,"class","svelte-1f8d99s"),attr(r,"viewBox","0 0 30 30"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"class","svelte-1f8d99s"),attr(n,"class","close svelte-1f8d99s"),attr(i,"class","svelte-1f8d99s"),attr(l,"type","text"),l.readOnly=!0,l.value=t[2],attr(l,"class","svelte-1f8d99s"),attr(f,"d","M15 0c-1.645 0-3 1.355-3 3H8C6.346 3 5 4.346 5 6v17c0 1.654 1.346 3 3\n                        3h14c1.654 0 3-1.346 3-3V6c0-1.654-1.346-3-3-3h-4c0-1.645-1.355-3-3-3zm0\n                        2c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zM8\n                        5h4v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V5h4c.551 0 1 .449 1 1v17c0 .551-.449 1-1\n                        1H8c-.551 0-1-.449-1-1V6c0-.551.449-1 1-1zm4 7a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm8 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0\n                        0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0 0 2 1 1\n                        0 0 0 0-2zm0 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"),attr(f,"class","svelte-1f8d99s"),attr(p,"viewBox","0 0 30 30"),attr(p,"xmlns","http://www.w3.org/2000/svg"),attr(p,"class","svelte-1f8d99s"),attr(d,"class","svelte-1f8d99s"),attr(c,"class","actions svelte-1f8d99s"),attr(e,"class","embed-code svelte-1f8d99s")},m(_,y){insert_hydration(_,e,y),append_hydration(e,n),append_hydration(n,r),append_hydration(r,o),append_hydration(e,a),append_hydration(e,i),i.innerHTML=g,append_hydration(e,s),append_hydration(e,c),append_hydration(c,l),t[10](l),append_hydration(c,u),append_hydration(c,d),append_hydration(d,p),append_hydration(p,f),h||(m=[listen(n,"click",t[5]),listen(d,"click",t[6])],h=!0)},p(t,e){8&e&&g!==(g=clean$1(t[3].text||t[4]("blocks / embed / caption"))+"")&&(i.innerHTML=g),4&e&&l.value!==t[2]&&(l.value=t[2])},d(n){n&&detach(e),t[10](null),h=!1,run_all(m)}}}function create_fragment$8(t){let e,n,r,o,a,i,s=(t[3].caption||t[4]("blocks / embed"))+"",c=!t[0]&&create_if_block$4(t);return{c(){e=element("a"),n=text(s),r=space(),c&&c.c(),o=empty(),this.h()},l(t){e=claim_element(t,"A",{href:!0,class:!0});var a=children(e);n=claim_text(a,s),a.forEach(detach),r=claim_space(t),c&&c.l(t),o=empty(),this.h()},h(){attr(e,"href","#embed"),attr(e,"class","chart-action-embed")},m(s,l){insert_hydration(s,e,l),append_hydration(e,n),insert_hydration(s,r,l),c&&c.m(s,l),insert_hydration(s,o,l),a||(i=listen(e,"click",t[5]),a=!0)},p(t,e){let[r]=e;8&r&&s!==(s=(t[3].caption||t[4]("blocks / embed"))+"")&&set_data(n,s),t[0]?c&&(c.d(1),c=null):c?c.p(t,r):(c=create_if_block$4(t),c.c(),c.m(o.parentNode,o))},i:noop$1,o:noop$1,d(t){t&&detach(e),t&&detach(r),c&&c.d(t),t&&detach(o),a=!1,i()}}}function instance$8(t,e,n){let r,o,a,i,s,{props:c}=e;const{get:l,__:u}=c;let d,p=!0;return t.$$set=t=>{"props"in t&&n(7,c=t.props)},t.$$.update=()=>{128&t.$$.dirty&&n(8,({chart:r,themeData:o,postEvent:a}=c),r,(n(9,o),n(7,c))),512&t.$$.dirty&&n(3,i=l(o,"options.blocks.embed.data",{})),256&t.$$.dirty&&n(2,s=l(r,"metadata.publish.embed-codes.embed-method-responsive","\x3c!-- embed code will be here after publishing --\x3e"))},[p,d,s,i,u,function(t){t.preventDefault(),n(0,p=!p),a("embed.modal.".concat(p?"close":"open"))},function(){a("embed.copy"),d.focus(),d.select(),document.execCommand("copy")},c,r,o,function(t){binding_callbacks[t?"unshift":"push"]((()=>{d=t,n(1,d)}))}]}class Embed extends SvelteComponent{constructor(t){super(),init(this,t,instance$8,create_fragment$8,safe_not_equal,{props:7},add_css$4)}}function create_if_block_1$1(t){let e,n,r,o;return{c(){e=element("img"),this.h()},l(t){e=claim_element(t,"IMG",{height:!0,src:!0,alt:!0}),this.h()},h(){attr(e,"height",n=t[0].height),src_url_equal(e.src,r=t[0].imgSrc)||attr(e,"src",r),attr(e,"alt",o="altText"in t[0]?t[0].altText:t[2].title)},m(t,n){insert_hydration(t,e,n)},p(t,a){1&a&&n!==(n=t[0].height)&&attr(e,"height",n),1&a&&!src_url_equal(e.src,r=t[0].imgSrc)&&attr(e,"src",r),5&a&&o!==(o="altText"in t[0]?t[0].altText:t[2].title)&&attr(e,"alt",o)},d(t){t&&detach(e)}}}function create_if_block$3(t){let e,n=t[1](t[0].text)+"";return{c(){e=element("span"),this.h()},l(t){e=claim_element(t,"SPAN",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","logo-text")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){3&r&&n!==(n=t[1](t[0].text)+"")&&(e.innerHTML=n)},d(t){t&&detach(e)}}}function create_fragment$7(t){let e,n,r=t[0].imgSrc&&create_if_block_1$1(t),o=t[0].text&&create_if_block$3(t);return{c(){r&&r.c(),e=space(),o&&o.c(),n=empty()},l(t){r&&r.l(t),e=claim_space(t),o&&o.l(t),n=empty()},m(t,a){r&&r.m(t,a),insert_hydration(t,e,a),o&&o.m(t,a),insert_hydration(t,n,a)},p(t,a){let[i]=a;t[0].imgSrc?r?r.p(t,i):(r=create_if_block_1$1(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),t[0].text?o?o.p(t,i):(o=create_if_block$3(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:noop$1,o:noop$1,d(t){r&&r.d(t),t&&detach(e),o&&o.d(t),t&&detach(n)}}}function instance$7(t,e,n){let{logo:r}=e,{purifyHtml:o}=e,{theme:a}=e;return t.$$set=t=>{"logo"in t&&n(0,r=t.logo),"purifyHtml"in t&&n(1,o=t.purifyHtml),"theme"in t&&n(2,a=t.theme)},[r,o,a]}class LogoInner extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$7,safe_not_equal,{logo:0,purifyHtml:1,theme:2})}}function create_else_block(t){let e,n;return e=new LogoInner({props:{logo:t[0],purifyHtml:t[2],theme:t[1]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,r){mount_component(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.logo=t[0]),2&n&&(r.theme=t[1]),e.$set(r)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_if_block$2(t){let e,n,r,o,a;return n=new LogoInner({props:{logo:t[0],purifyHtml:t[2],theme:t[1]}}),{c(){e=element("a"),create_component(n.$$.fragment),this.h()},l(t){e=claim_element(t,"A",{href:!0,title:!0,target:!0,rel:!0});var r=children(e);claim_component(n.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"href",r=t[0].url),attr(e,"title",o=t[0].linkTitle||t[0].url),attr(e,"target","_blank"),attr(e,"rel","noopener noreferrer nofollow")},m(t,r){insert_hydration(t,e,r),mount_component(n,e,null),a=!0},p(t,i){const s={};1&i&&(s.logo=t[0]),2&i&&(s.theme=t[1]),n.$set(s),(!a||1&i&&r!==(r=t[0].url))&&attr(e,"href",r),(!a||1&i&&o!==(o=t[0].linkTitle||t[0].url))&&attr(e,"title",o)},i(t){a||(transition_in(n.$$.fragment,t),a=!0)},o(t){transition_out(n.$$.fragment,t),a=!1},d(t){t&&detach(e),destroy_component(n)}}}function create_fragment$6(t){let e,n,r,o;const a=[create_if_block$2,create_else_block],i=[];function s(t,e){return t[0].url?0:1}return e=s(t),n=i[e]=a[e](t),{c(){n.c(),r=empty()},l(t){n.l(t),r=empty()},m(t,n){i[e].m(t,n),insert_hydration(t,r,n),o=!0},p(t,o){let[c]=o,l=e;e=s(t),e===l?i[e].p(t,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),n=i[e],n?n.p(t,c):(n=i[e]=a[e](t),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(t){o||(transition_in(n),o=!0)},o(t){transition_out(n),o=!1},d(t){i[e].d(t),t&&detach(r)}}}function instance$6(t,e,n){let r,o,a,i,{props:s}=e;const{get:c,purifyHtml:l}=s;let u;return t.$$set=t=>{"props"in t&&n(3,s=t.props)},t.$$.update=()=>{if(8&t.$$.dirty&&n(6,({chart:r,themeData:o,theme:a,logoId:i}=s),r,(n(5,o),n(3,s)),(n(1,a),n(3,s)),(n(4,i),n(3,s))),113&t.$$.dirty){const t=c(r,"metadata.publish.blocks.logo",{}),e=c(o,"options.blocks.logo.data.options",[]),a=i||t.id;n(0,u=e.find((t=>t.id===a))),a&&u||n(0,u=e[0]||{})}},[u,a,l,s,i,o,r]}class Logo extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$6,safe_not_equal,{props:3})}}function create_fragment$5(t){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","export-rect"),set_style(e,"width",px(t[2])),set_style(e,"height",px(t[1])),set_style(e,"background",t[0])},m(t,n){insert_hydration(t,e,n)},p(t,n){let[r]=n;4&r&&set_style(e,"width",px(t[2])),2&r&&set_style(e,"height",px(t[1])),1&r&&set_style(e,"background",t[0])},i:noop$1,o:noop$1,d(t){t&&detach(e)}}}function px(t){return"string"==typeof t?t:t+"px"}function instance$5(t,e,n){let r,o,a,i,s,{props:c}=e;const{get:l}=c;return t.$$set=t=>{"props"in t&&n(3,c=t.props)},t.$$.update=()=>{8&t.$$.dirty&&n(5,r=c.themeData),32&t.$$.dirty&&n(4,o=l(r,"options.blocks.rectangle.data",{})),16&t.$$.dirty&&n(2,a=l(o,"width",50)),16&t.$$.dirty&&n(1,i=l(o,"height",5)),16&t.$$.dirty&&n(0,s=l(o,"background","red"))},[s,i,a,c,o,r]}class Rectangle extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$5,safe_not_equal,{props:3})}}function add_css$3(t){append_styles(t,"svelte-k4d5to",".watermark-container.svelte-k4d5to{pointer-events:none}.watermark.svelte-k4d5to{opacity:0.182;font-weight:700;text-anchor:middle;fill:currentColor;transform-box:fill-box;transform-origin:center}")}function create_if_block$1(t){let e,n,r,o,a,i,s=t[7](t[0],"")+"";return{c(){e=svg_element("svg"),n=svg_element("text"),r=text(s),this.h()},l(t){e=claim_svg_element(t,"svg",{width:!0,height:!0,class:!0});var o=children(e);n=claim_svg_element(o,"text",{class:!0,"dominant-baseline":!0,style:!0,transform:!0,"data-rotate":!0,x:!0,y:!0});var a=children(n);r=claim_text(a,s),a.forEach(detach),o.forEach(detach),this.h()},h(){attr(n,"class","watermark svelte-k4d5to"),attr(n,"dominant-baseline","central"),set_style(n,"font-size",t[3]),attr(n,"transform",o="rotate("+t[4]+")"),attr(n,"data-rotate",t[4]),attr(n,"x",a=.5*t[1]),attr(n,"y",i=.5*t[2]),attr(e,"width",t[1]),attr(e,"height",t[2]),attr(e,"class","watermark-container svelte-k4d5to")},m(t,o){insert_hydration(t,e,o),append_hydration(e,n),append_hydration(n,r)},p(t,c){1&c&&s!==(s=t[7](t[0],"")+"")&&set_data(r,s),8&c&&set_style(n,"font-size",t[3]),16&c&&o!==(o="rotate("+t[4]+")")&&attr(n,"transform",o),16&c&&attr(n,"data-rotate",t[4]),2&c&&a!==(a=.5*t[1])&&attr(n,"x",a),4&c&&i!==(i=.5*t[2])&&attr(n,"y",i),2&c&&attr(e,"width",t[1]),4&c&&attr(e,"height",t[2])},d(t){t&&detach(e)}}}function create_fragment$4(t){let e,n=t[2]&&create_if_block$1(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert_hydration(t,e,r)},p(t,r){let[o]=r;t[2]?n?n.p(t,o):(n=create_if_block$1(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:noop$1,o:noop$1,d(t){n&&n.d(t),t&&detach(e)}}}function instance$4(t,e,n){let r,o,a,i,s,c,l,u,d,p,f,h,m,g,_;const{outerWidth:y,outerHeight:b}=getContext("stores");component_subscribe(t,y,(t=>n(18,_=t))),component_subscribe(t,b,(t=>n(17,g=t)));let{props:$}=e;const{get:v,purifyHtml:k,textDirection:x}=$;return t.$$set=t=>{"props"in t&&n(8,$=t.props)},t.$$.update=()=>{256&t.$$.dirty&&n(16,({chart:r,themeData:o}=$),r,(n(14,o),n(8,$))),16384&t.$$.dirty&&n(15,a=v(o,"options.watermark.custom-field")),16384&t.$$.dirty&&n(12,i=v(o,"options.watermark.rotate",!0)),16384&t.$$.dirty&&n(11,s=v(o,"options.watermark.typography.fontSize")),114688&t.$$.dirty&&n(0,c=!!v(o,"options.watermark")&&(a?v(r,"metadata.custom.".concat(a),""):v(o,"options.watermark.text","CONFIDENTIAL"))),262144&t.$$.dirty&&n(1,l=_),131072&t.$$.dirty&&n(2,u=g),4102&t.$$.dirty&&n(13,d=i?-Math.atan(u/l)*("rtl"===x?-1:1):0),8192&t.$$.dirty&&n(4,p=180*d/Math.PI),4102&t.$$.dirty&&n(10,f=i?Math.sqrt(l*l+u*u):l),1&t.$$.dirty&&n(9,h=estimateTextWidth(c,20)),3584&t.$$.dirty&&n(3,m="".concat(s||Math.round(.75*f/h*20),"px"))},[c,l,u,m,p,y,b,k,$,h,f,s,i,d,o,a,r,g,_]}class Watermark extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$4,safe_not_equal,{props:8},add_css$3)}}function create_fragment$3(t){let e;return{c(){e=element("hr"),this.h()},l(t){e=claim_element(t,"HR",{class:!0,style:!0}),this.h()},h(){attr(e,"class","dw-line"),set_style(e,"border","0"),set_style(e,"border-bottom",t[1]),set_style(e,"margin",t[0])},m(t,n){insert_hydration(t,e,n)},p(t,n){let[r]=n;2&r&&set_style(e,"border-bottom",t[1]),1&r&&set_style(e,"margin",t[0])},i:noop$1,o:noop$1,d(t){t&&detach(e)}}}function instance$3(t,e,n){let r,o,a,i,{props:s}=e;const{get:c}=s;return t.$$set=t=>{"props"in t&&n(2,s=t.props)},t.$$.update=()=>{4&t.$$.dirty&&n(4,r=s.themeData),20&t.$$.dirty&&n(3,o=c(r,"options.blocks.".concat(s.id,".data"),{})),8&t.$$.dirty&&n(1,a=c(o,"border","1px solid #cccccc")),8&t.$$.dirty&&n(0,i=c(o,"margin","0px"))},[i,a,s,o,r]}class HorizontalRule extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$3,safe_not_equal,{props:2})}}function add_css$2(t){append_styles(t,"svelte-eczzvz","svg.svelte-eczzvz{width:100%;overflow-x:hidden}")}function create_fragment$2(t){let e,n,r,o;return{c(){e=svg_element("svg"),n=svg_element("line"),this.h()},l(t){e=claim_svg_element(t,"svg",{style:!0,class:!0});var r=children(e);n=claim_svg_element(r,"line",{style:!0,x1:!0,y1:!0,x2:!0,y2:!0}),children(n).forEach(detach),r.forEach(detach),this.h()},h(){set_style(n,"stroke",t[5]),set_style(n,"stroke-width",t[4]),set_style(n,"stroke-dasharray",t[3]),set_style(n,"stroke-linecap",t[2]),attr(n,"x1","0"),attr(n,"y1",r=t[4]/2),attr(n,"x2",t[1]),attr(n,"y2",o=t[4]/2),set_style(e,"height",Math.max(t[4],1)+"px"),set_style(e,"margin",t[6]),attr(e,"class","svelte-eczzvz")},m(r,o){insert_hydration(r,e,o),append_hydration(e,n),t[10](e)},p(t,a){let[i]=a;32&i&&set_style(n,"stroke",t[5]),16&i&&set_style(n,"stroke-width",t[4]),8&i&&set_style(n,"stroke-dasharray",t[3]),4&i&&set_style(n,"stroke-linecap",t[2]),16&i&&r!==(r=t[4]/2)&&attr(n,"y1",r),2&i&&attr(n,"x2",t[1]),16&i&&o!==(o=t[4]/2)&&attr(n,"y2",o),16&i&&set_style(e,"height",Math.max(t[4],1)+"px"),64&i&&set_style(e,"margin",t[6])},i:noop$1,o:noop$1,d(n){n&&detach(e),t[10](null)}}}function instance$2(t,e,n){let r,o,a,i,s,c,l,{props:u}=e;const{get:d}=u;let p,f=0;return onMount((()=>{n(1,f=p.getBoundingClientRect().width)})),"undefined"!=typeof window&&window.addEventListener("resize",(()=>{n(1,f=p.getBoundingClientRect().width)})),t.$$set=t=>{"props"in t&&n(7,u=t.props)},t.$$.update=()=>{128&t.$$.dirty&&n(9,r=u.themeData),640&t.$$.dirty&&n(8,o=d(r,"options.blocks.".concat(u.id,".data"),{})),256&t.$$.dirty&&n(6,a=d(o,"margin","0px")),256&t.$$.dirty&&n(5,i=d(o,"color","#000000")),256&t.$$.dirty&&n(4,s=d(o,"width",1)),256&t.$$.dirty&&n(3,c=d(o,"strokeDasharray","none")),256&t.$$.dirty&&n(2,l=d(o,"strokeLinecap","butt"))},[p,f,l,c,s,i,a,u,o,r,function(t){binding_callbacks[t?"unshift":"push"]((()=>{p=t,n(0,p)}))}]}class SvgRule extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,{props:7},add_css$2)}}var coreBlocksV1=[{id:"headline",tag:"h3",region:"header",priority:10,includeInContext:!0,styles:HeadlineStyles,test:t=>{let{chart:e}=t;return e.title&&!get_1(e,"metadata.describe.hide-title")},component:Headline},{id:"description",tag:"p",region:"header",priority:20,includeInContext:!0,styles:DescriptionStyles,test:t=>{let{chart:e}=t;return get_1(e,"metadata.describe.intro")},component:Description},{id:"notes",region:"aboveFooter",priority:10,styles:NotesStyles,includeInContext:!0,test:t=>{let{chart:e}=t;return get_1(e,"metadata.annotate.notes")},component:Notes},{id:"byline",region:"footerLeft",test:t=>{let{chart:e}=t;return get_1(e,"metadata.describe.byline",!1)||e.basedOnByline},priority:10,includeInContext:!0,component:Byline},{id:"source",region:"footerLeft",test:t=>{let{chart:e}=t;return get_1(e,"metadata.describe.source-name")},priority:20,includeInContext:!0,component:Source},{id:"get-the-data",region:"footerLeft",test:t=>{let{chart:e,isStyleStatic:n}=t;return get_1(e,"metadata.publish.blocks.get-the-data")&&!n&&"locator-map"!==e.type},priority:30,includeInContext:!0,component:GetTheData},{id:"edit",region:"footerLeft",test:t=>{let{chart:e,isStyleStatic:n}=t;return get_1(e,"forkable")&&get_1(e,"metadata.publish.blocks.edit-in-datawrapper",!1)&&!n},priority:31,includeInContext:!0,component:EditInDatawrapper},{id:"embed",region:"footerLeft",test:t=>{let{chart:e,isStyleStatic:n}=t;return get_1(e,"metadata.publish.blocks.embed")&&!n},priority:40,includeInContext:!0,component:Embed},{id:"logo",region:"footerRight",test:t=>{let{chart:e,themeData:n,logoId:r,forceLogo:o}=t;const a=get_1(e,"metadata.publish.blocks.logo",{enabled:!1}),i=get_1(n,"options.blocks.logo.data.options",[]),s=r||a.id;let c=i.find((t=>t.id===s));return s&&c||(c=i[0]||{}),!(!c.imgSrc&&!c.text)&&("on"===o||"off"!==o&&(isObject(a)?a.enabled:a))},priority:10,includeInContext:!1,component:Logo},{id:"rectangle",region:"header",test:t=>{let{themeData:e}=t;return!!get_1(e,"options.blocks.rectangle")},priority:1,includeInContext:!1,component:Rectangle},{id:"watermark",region:"afterBody",test:t=>{let{themeData:e,chart:n}=t;const r=get_1(e,"options.watermark.custom-field");return!!get_1(e,"options.watermark")&&(r?get_1(n,"metadata.custom.".concat(r),""):get_1(e,"options.watermark.text","CONFIDENTIAL"))},priority:1,includeInContext:!1,component:Watermark},hr(0,"hr"),hr(1,"hr"),hr(2,"hr"),hr(0,"svg-rule"),hr(1,"svg-rule"),hr(2,"svg-rule")];function hr(t,e){const n="".concat(e).concat(t||"");return{id:n,region:"header",test:t=>{let{themeData:e}=t;return!!get_1(e,"options.blocks.".concat(n))},priority:0,includeInContext:!1,component:"hr"===e?HorizontalRule:SvgRule}}function _call(t,e,n){if(n)return e?e(t()):t();try{var r=Promise.resolve(t());return e?r.then(e):r}catch(t){return Promise.reject(t)}}function _await$1(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function _async$1(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function _catch(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function _empty(){}function _continueIgnored(t){if(t&&t.then)return t.then(_empty)}function _invoke(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function _invokeIgnored(t){var e=t();if(e&&e.then)return e.then(_empty)}function add_css$1(t){append_styles(t,"svelte-1xgyepy","body,.web-component-body{margin:0;padding:0;-webkit-text-size-adjust:100%}body.in-editor,.web-component-body.in-editor{padding-bottom:10px}.dw-chart.vis-height-fit{overflow:hidden}.chart.dir-rtl .dw-chart-body.svelte-1xgyepy{direction:rtl}.chart.is-dark-mode .hide-in-dark{display:none}.chart:not(.is-dark-mode) .hide-in-light{display:none}.chart .sr-only{position:absolute;left:-9999px;height:1px}.chart.js.svelte-1xgyepy .noscript{display:none}.chart .hidden,.chart .hide{display:none}a img{border:0px}svg rect{shape-rendering:crispEdges}.error{background-color:#fbeff2;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.05) inset;margin:2em}.error p{color:#b63057;font-size:14px;padding:1.25em 1.5em;line-height:1.5;border-color:#cf4870;border-style:solid;border-width:0 0 0 4px;border-radius:4px}.dw-chart-body-content.svelte-1xgyepy{position:relative;z-index:0}")}function get_each_context(t,e,n){const r=t.slice();return r[75]=e[n],r}function create_if_block_1(t){let e,n=purifyHtml(t[23],t[27])+"";return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children(e).forEach(detach),this.h()},h(){attr(e,"class","sr-only")},m(t,r){insert_hydration(t,e,r),e.innerHTML=n},p(t,r){8388608&r[0]&&n!==(n=purifyHtml(t[23],t[27])+"")&&(e.innerHTML=n)},d(t){t&&detach(e)}}}function create_visBody_slot(t){let e,n,r,o,a,i,s,c=t[23]&&create_if_block_1(t);return{c(){e=element("div"),c&&c.c(),n=space(),r=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{slot:!0,id:!0,"data-block-type":!0,"data-block-id":!0,class:!0});var o=children(e);c&&c.l(o),n=claim_space(o),r=claim_element(o,"DIV",{class:!0,"aria-hidden":!0}),children(r).forEach(detach),o.forEach(detach),this.h()},h(){attr(r,"class","dw-chart-body-content svelte-1xgyepy"),attr(r,"aria-hidden",o=!!t[23]),attr(e,"slot","visBody"),attr(e,"id","chart"),attr(e,"data-block-type",a=t[2].dev?"container":null),attr(e,"data-block-id",i=t[2].dev?"chart":null),attr(e,"class",s="dw-chart-body vis-height-"+t[21]+" "+t[78]+" svelte-1xgyepy"),toggle_class(e,"content-below-chart",t[17]),toggle_class(e,"dir-rtl","rtl"===t[6])},m(o,a){insert_hydration(o,e,a),c&&c.m(e,null),append_hydration(e,n),append_hydration(e,r),t[60](r)},p(t,l){t[23]?c?c.p(t,l):(c=create_if_block_1(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),8388608&l[0]&&o!==(o=!!t[23])&&attr(r,"aria-hidden",o),4&l[0]&&a!==(a=t[2].dev?"container":null)&&attr(e,"data-block-type",a),4&l[0]&&i!==(i=t[2].dev?"chart":null)&&attr(e,"data-block-id",i),2097152&l[0]|65536&l[2]&&s!==(s="dw-chart-body vis-height-"+t[21]+" "+t[78]+" svelte-1xgyepy")&&attr(e,"class",s),2228224&l[0]|65536&l[2]&&toggle_class(e,"content-below-chart",t[17]),2097216&l[0]|65536&l[2]&&toggle_class(e,"dir-rtl","rtl"===t[6])},d(n){n&&detach(e),c&&c.d(),t[60](null)}}}function create_if_block(t){let e,n=t[1].data.template.externalScripts,r=[];for(let e=0;e<n.length;e+=1)r[e]=create_each_block(get_each_context(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=empty()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=empty()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);insert_hydration(t,e,n)},p(t,o){if(2&o[0]){let a;for(n=t[1].data.template.externalScripts,a=0;a<n.length;a+=1){const i=get_each_context(t,n,a);r[a]?r[a].p(i,o):(r[a]=create_each_block(i),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){destroy_each(r,t),t&&detach(e)}}}function create_each_block(t){let e,n,r='<script src="'.concat(t[75],'" type="text/javascript"><\/script>')+"";return{c(){e=new HtmlTagHydration(!1),n=empty(),this.h()},l(t){e=claim_html_tag(t,!1),n=empty(),this.h()},h(){e.a=n},m(t,o){e.m(r,t,o),insert_hydration(t,n,o)},p(t,n){2&n[0]&&r!==(r='<script src="'.concat(t[75],'" type="text/javascript"><\/script>')+"")&&e.p(r)},d(t){t&&detach(n),t&&e.d()}}}function create_fragment$1(t){let e,n,r,o,a,i,s=t[8]&&!t[9]&&get_1(t[1],"data.template.externalScripts",[]).length;function c(e){t[61](e)}function l(e){t[62](e)}var u=t[20];function d(t){let e={__:t[28],allBlocks:t[22],chart:t[0],chartAfterBodyHTML:t[7],config:{frontendDomain:t[11]},dwChart:t[12],emotion:t[10],filterUI:t[18],mapAttribution:t[19],isIframe:t[8],postEvent:t[15],renderFlags:t[2],teamPublicSettings:t[3],requiresAttribution:t[4],allowPrintExport:t[5],textDirection:t[6],theme:t[1],themeData:t[26],vis:t[13],$$slots:{visBody:[create_visBody_slot,t=>{let{visBodyStyles:e}=t;return{78:e}},t=>{let{visBodyStyles:e}=t;return[0,0,e?65536:0]}]},$$scope:{ctx:t}};return void 0!==t[14]&&(e.container=t[14]),void 0!==t[17]&&(e.contentBelowChart=t[17]),{props:e}}u&&(e=construct_svelte_component(u,d(t)),binding_callbacks.push((()=>bind$1(e,"container",c))),binding_callbacks.push((()=>bind$1(e,"contentBelowChart",l))));let p=s&&create_if_block(t);return{c(){e&&create_component(e.$$.fragment),o=space(),p&&p.c(),a=empty()},l(t){e&&claim_component(e.$$.fragment,t),o=claim_space(t),p&&p.l(t),a=empty()},m(t,n){e&&mount_component(e,t,n),insert_hydration(t,o,n),p&&p.m(t,n),insert_hydration(t,a,n),i=!0},p(t,i){const f={};if(4194304&i[0]&&(f.allBlocks=t[22]),1&i[0]&&(f.chart=t[0]),128&i[0]&&(f.chartAfterBodyHTML=t[7]),2048&i[0]&&(f.config={frontendDomain:t[11]}),4096&i[0]&&(f.dwChart=t[12]),1024&i[0]&&(f.emotion=t[10]),262144&i[0]&&(f.filterUI=t[18]),524288&i[0]&&(f.mapAttribution=t[19]),256&i[0]&&(f.isIframe=t[8]),32768&i[0]&&(f.postEvent=t[15]),4&i[0]&&(f.renderFlags=t[2]),8&i[0]&&(f.teamPublicSettings=t[3]),16&i[0]&&(f.requiresAttribution=t[4]),32&i[0]&&(f.allowPrintExport=t[5]),64&i[0]&&(f.textDirection=t[6]),2&i[0]&&(f.theme=t[1]),8192&i[0]&&(f.vis=t[13]),10682436&i[0]|196608&i[2]&&(f.$$scope={dirty:i,ctx:t}),!n&&16384&i[0]&&(n=!0,f.container=t[14],add_flush_callback((()=>n=!1))),!r&&131072&i[0]&&(r=!0,f.contentBelowChart=t[17],add_flush_callback((()=>r=!1))),u!==(u=t[20])){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}u?(e=construct_svelte_component(u,d(t)),binding_callbacks.push((()=>bind$1(e,"container",c))),binding_callbacks.push((()=>bind$1(e,"contentBelowChart",l))),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,o.parentNode,o)):e=null}else u&&e.$set(f);770&i[0]&&(s=t[8]&&!t[9]&&get_1(t[1],"data.template.externalScripts",[]).length),s?p?p.p(t,i):(p=create_if_block(t),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null)},i(t){i||(e&&transition_in(e.$$.fragment,t),i=!0)},o(t){e&&transition_out(e.$$.fragment,t),i=!1},d(t){e&&destroy_component(e,t),t&&detach(o),p&&p.d(t),t&&detach(a)}}}const DEFAULT_CHART_LANGUAGE="en-US";function instance$1($$self,$$props,$$invalidate){const loadBlocks=_async$1((function(t){return _invokeIgnored((function(){if(t.length)return _await$1(Promise.all(t.map((t=>new Promise((e=>{if(t.preloaded)return e();const n=[loadScript_1(getUrl(t.source.js))];t.source.css&&n.push(loadStylesheet_1({src:getUrl(t.source.css),parentElement:styleHolder})),Promise.all(n).then(e).catch((t=>{const n=t.target?t.target.getAttribute("src")||t.target.getAttribute("href"):null;n?console.warn("could not load ",n):console.error("Unknown error",t),e()}))}))))),(function(){t.forEach((t=>{t.blocks=uniq(t.blocks,(t=>t.id)),t.blocks.forEach((t=>{if(!dw.block.has(t.component))return console.warn("component ".concat(t.component," from chart block ").concat(t.id," not found"));pluginBlocks.push({...t,component:dw.block(t.component)})}))})),$$invalidate(46,pluginBlocks)}))}))})),run=_async$1((function(){return set_store_value(outerWidth,$outerWidth=outerContainer.clientWidth,$outerWidth),_call(tick,(function(){$$invalidate(1,theme.data=$themeData,theme),dw.theme.register(theme.id,theme.data),Object.keys(locales).forEach((vendor=>{if("null"===locales[vendor]&&$$invalidate(30,locales[vendor]=null,locales),locales[vendor]&&locales[vendor].base){const localeBase=eval(locales[vendor].base);$$invalidate(30,locales[vendor]=deepmergeOverwriteArrays(localeBase,locales[vendor].custom),locales)}}));const useDwCdn=get_1(chart,"metadata.data.use-datawrapper-cdn",!0),externalJSON=useDwCdn&&get_1(chart,"metadata.data.external-metadata","").length?"//".concat(externalDataUrl,"/").concat(chart.id,".metadata.json"):get_1(chart,"metadata.data.external-metadata");return _invoke((function(){if(externalJSON&&"external-data"===get_1(chart,"metadata.data.upload-method"))return _continueIgnored(_catch((function(){const t=(new Date).getTime(),e=useDwCdn?t-t%6e4:t,n="".concat(externalJSON).concat(externalJSON.includes("?")?"&":"?","v=").concat(e);return _await$1(window.fetch(n),(function(t){return _await$1(t.json(),(function(t){t.title&&($$invalidate(0,chart.title=t.title,chart),delete t.title),$$invalidate(0,chart.metadata=deepmergeOverwriteArrays(chart.metadata,t),chart),$$invalidate(0,chart)}))}))}),(function(){console.warn("Invalid external metadata JSON, falling back on chart metadata")})))}),(function(){$$invalidate(12,dwChart=dw.chart(chart).locale((chart.language||DEFAULT_CHART_LANGUAGE).substr(0,2)).translations(translations).theme(dw.theme(chart.theme)).flags({isIframe:isIframe,isEditingAllowed:renderFlags.allowEditing,...renderFlags})),$$invalidate(12,dwChart.emotion=emotion,dwChart);const t=!isPreview&&chart.externalData,e=[];for(const[n,{url:r,value:o,load:a=!0}]of Object.entries(assets)){if(!(n===datasetName)||!t)if(r)if(a){const t=n;e.push(new Promise(_async$1((function(e){return _await$1(fetch(getUrl(assets[t].url)),(function(n){return _await$1(n.text(),(function(n){dwChart.asset(t,n),e()}))}))}))))}else dwChart.asset(n,r);else dwChart.asset(n,o)}return _await$1(Promise.all(e),(function(){$$invalidate(13,vis=dw.visualization(visualization.id,target,visualization.hash||"nohash")),$$invalidate(13,vis.meta=visualization,vis),$$invalidate(13,vis.lang=chart.language||DEFAULT_CHART_LANGUAGE,vis),$$invalidate(13,vis.textDirection=textDirection,vis),$$invalidate(13,vis.addFilterUI=t=>{$$invalidate(18,filterUI=t)},vis),$$invalidate(13,vis.hasFilterUI=()=>!!filterUI,vis),$$invalidate(13,vis.addMapAttribution=t=>{$$invalidate(19,mapAttribution=t)},vis),customVisEvents.forEach((t=>{let{eventType:e,callback:n}=t;vis.on(e,n)}));const{chroma:e}=vis.libraries();return _await$1(dwChart.load(dwChart.asset(datasetName)||"",t),(function(){return $$invalidate(12,dwChart.locales=locales,dwChart),dwChart.vis(vis),_await$1(loadBlocks(blocks),(function(){const t=_async$1((function(){return Object.keys(theme.data).forEach((t=>{"_computed"!==t&&delete theme.data[t],$themeData[t]&&$$invalidate(1,theme.data[t]=$themeData[t],theme),renderFlags.dark&&set(theme.data,"colors.palette",get_1(themeDataLight,"colors.palette",[]))})),_await$1()})),n=_async$1((function(e){return renderFlags.dark!==e&&$$invalidate(2,renderFlags={...renderFlags,dark:e}),_call(tick,(function(){return _call(t,(function(){isAutoDark||a(e),outerContainer.classList.toggle("is-dark-mode",e),dwChart.render(outerContainer)}))}))}));$$invalidate(1,theme.data._computed=theme._computed,theme);const r=get_1(themeDataLight,"colors.background","#ffffff");if(e(r).luminance()>=.3&&(vis.initDarkMode(n,initDarkModeColormap({themeDataDark:themeDataDark,themeDataLight:themeDataLight,chroma:e})),isStyleDark&&vis.darkMode(!0)),isAutoDark){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{var e;e=t.matches,$$invalidate(2,renderFlags={...renderFlags,dark:e}),vis.darkMode(e)})),CSS.supports("color-scheme","dark")||a(!1)}window.parent===window&&isPreview&&console.time("Chart rendered in");const o=dwChart.render(outerContainer);function a(t){if(isIframe){const e=document.querySelector('meta[name="color-scheme"]');e&&e.setAttribute("content",t?"dark":"light")}const e=(styleHolder||document).querySelector("#css-light"),n=(styleHolder||document).querySelector("#css-dark");(t?e:n).setAttribute("media","--disabled--"),(t?n:e).removeAttribute("media")}window.parent===window&&isPreview&&o.then((()=>{console.timeEnd("Chart rendered in")})).catch((t=>{console.error(t)})),observeFonts(themeFonts,2===$themeData.version?{fontFamilies:themeDataLight.fontFamilies}:themeDataLight.typography).then((()=>dwChart.render(outerContainer))).catch((()=>dwChart.render(outerContainer))),/iP(hone|od|ad)/.test(navigator.platform)&&(window.onload=dwChart.render(outerContainer)),isIframe&&function(t){const e="fixed"===dwChart.getHeightMode();let n=width(t);window.addEventListener("resize",(()=>{if(set_store_value(outerWidth,$outerWidth=width(outerContainer),$outerWidth),set_store_value(outerHeight,$outerHeight=window.innerHeight,$outerHeight),e){const e=width(t);n!==e&&(n=e,i())}else i()}))}(target),isIframe&&set_store_value(outerHeight,$outerHeight=outerContainer.clientHeight,$outerHeight),dispatch("rendered"),vis.rendered().then((()=>{isIframe?set_store_value(outerHeight,$outerHeight=outerContainer.clientHeight,$outerHeight):outerContainer.parentElement&&$$invalidate(31,outerContainer.parentElement.style.minHeight=null,outerContainer)})).catch((t=>{console.error(t)}));const i=debounce((function(){return _call(t,(function(){dwChart.vis().fire("resize"),dwChart.render(outerContainer)}))}),200);return{dwChart:dwChart,resizeVisDebounced:i,chroma:e}}))}))}))}))}))}));let isStylePlain,isStyleStatic,isStyleTransparent,isStyleDark,logoId,forceLogo,caption,ariaDescription,metadataFields,coreBlocks,blockProps,allBlocks,overrideContext,heightMode,VisContainer$2,$themeData,$outerHeight,$outerWidth;const outerWidth=writable(400);component_subscribe($$self,outerWidth,(t=>$$invalidate(59,$outerWidth=t)));const outerHeight=writable(400);component_subscribe($$self,outerHeight,(t=>$$invalidate(66,$outerHeight=t)));const themeData=writable({});component_subscribe($$self,themeData,(t=>$$invalidate(58,$themeData=t)));const dispatch=createEventDispatcher();setContext("stores",{outerWidth:outerWidth,outerHeight:outerHeight,themeData:themeData});let{chart:chart}=$$props,{visualization:visualization={}}=$$props,{teamPublicSettings:teamPublicSettings={}}=$$props,{requiresAttribution:requiresAttribution}=$$props,{allowPrintExport:allowPrintExport}=$$props,{theme:theme={}}=$$props,{themeDataDark:themeDataDark={}}=$$props,{themeDataLight:themeDataLight={}}=$$props,{themeFonts:themeFonts={}}=$$props,{locales:locales={}}=$$props,{textDirection:textDirection="ltr"}=$$props,{translations:translations}=$$props,{blocks:blocks={}}=$$props,{chartAfterBodyHTML:chartAfterBodyHTML=""}=$$props,{isIframe:isIframe}=$$props,{isPreview:isPreview}=$$props,{assets:assets}=$$props,{styleHolder:styleHolder}=$$props,{origin:origin}=$$props,{externalDataUrl:externalDataUrl}=$$props,{outerContainer:outerContainer}=$$props,{containerWidth:containerWidth}=$$props,{containerHeight:containerHeight}=$$props,{customVisEvents:customVisEvents=[]}=$$props;function render(){dwChart&&dwChart.render(outerContainer)}let{isAutoDark:isAutoDark=!1}=$$props,{renderFlags:renderFlags={}}=$$props,{emotion:emotion}=$$props,{frontendDomain:frontendDomain="app.datawrapper.de"}=$$props,target,dwChart,vis,container,pluginBlocks=[],contentBelowChart,postEvent=()=>{};const datasetName="dataset.".concat(get_1(chart.metadata,"data.json")?"json":"csv");migrate(chart.metadata);const allowedAriaDescriptionTags=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt","table","thead","tbody","tfoot","caption","colgroup","col","tr","td","th"];function applyThemeBlockConfig(t,e,n){return t.map((t=>{t.props={...t.data||{},...n,config:{frontendDomain:frontendDomain},id:t.id},t.component.test&&(t.test=t.component.test);const r=get_1(e,"options.blocks",{})[t.id];return r?{...t,...r}:t}))}function getUrl(t){return origin&&!t.startsWith("http")?"".concat(origin,"/").concat(t):t}function getTranslation(t){if("string"!=typeof t)return console.error(new TypeError("function __ called without required 'key' parameter!\nPlease make sure you called __(key) with a key of type \"string\".\n")),"";const[e,n]=(chart.language||DEFAULT_CHART_LANGUAGE).split("-");return(n?get_1($themeData,["locales","".concat(e.toLowerCase(),"-").concat(n.toUpperCase())],get_1($themeData,["locales",e.toLowerCase()],{})):get_1($themeData,["locales",e.toLowerCase()],{}))[t]||translations[t]||t}function __(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=getTranslation(t);return n.length?o.replace(/\$(\d)/g,((t,e)=>n[+e]||t)):o}let filterUI=!1,mapAttribution=!1,currentHeight,onResize;function initDarkModeColormap(t){let{themeDataLight:e,themeDataDark:n,chroma:r}=t;const o=new Map,a=get_1(n,"colors.palette",[]),i=get_1(e,"colors.palette",[]),s=get_1(e,"colors.background","#ffffff"),c=get_1(n,"colors.background"),l=Object.fromEntries(i.map(((t,e)=>[t.toLowerCase(),a[e]])));return function(t){let{forceInvert:e,noInvert:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=!vis.get("dark-mode-invert",!0);return n||a&&!e?t:r.valid(t)?(t=t.toLowerCase(),l[t]?l[t]:(o.has(t)||o.set(t,invertColor_1(t,c,s,.85)),o.get(t))):t}}function div0_binding(t){binding_callbacks[t?"unshift":"push"]((()=>{target=t,$$invalidate(16,target)}))}function switch_instance_container_binding(t){container=t,$$invalidate(14,container)}function switch_instance_contentBelowChart_binding(t){contentBelowChart=t,$$invalidate(17,contentBelowChart)}return afterUpdate((()=>{if(!isIframe||void 0===currentHeight)return;const t=document.body.offsetHeight;currentHeight!==t&&"function"==typeof dwChart.render&&(dwChart.render(outerContainer),currentHeight=t)})),onMount((function(){return _call(run,(function(t){let{dwChart:e,resizeVisDebounced:n,chroma:r}=t;if($$invalidate(47,onResize=n),outerContainer.classList.toggle("dir-rtl","rtl"===textDirection),isIframe){if(isStyleStatic&&!isStyleTransparent){const t=get_1(theme.data,"style.body.background","transparent"),e=get_1(theme.data,"colors.background");e&&isTransparentColor(t,r)&&(document.body.style.background=e)}domReady((()=>{e&&($$invalidate(15,postEvent=e.createPostEvent()),window.addEventListener("hashchange",(()=>{postEvent("hash.change",{hash:window.location.hash})})))})),currentHeight=document.body.offsetHeight,window.__dw=window.__dw||{},window.__dw.params={data:e.asset(datasetName),visJSON:visualization},window.__dw.vis=vis,window.__dw.render=()=>{e.render(outerContainer)},window.fontsJSON=theme.fonts,window.getThemeData=t=>get_1(themeDataLight,t),window.setThemeData=(t,e)=>{set(themeDataLight,t,e),$$invalidate(29,themeDataLight)},window.setTheme=_async$1((function(t){return _await$1(fetch("http://api.datawrapper.local/v3/themes/".concat(t,"?extend=true")),(function(t){return _await$1(t.json(),(function(t){let{data:n,fontsCSS:r}=t;$$invalidate(29,themeDataLight=n),$$invalidate(1,theme.data=n,theme),document.querySelector("style").innerText=r,e.render(outerContainer)}))}))}))}}))})),$$self.$$set=t=>{"chart"in t&&$$invalidate(0,chart=t.chart),"visualization"in t&&$$invalidate(32,visualization=t.visualization),"teamPublicSettings"in t&&$$invalidate(3,teamPublicSettings=t.teamPublicSettings),"requiresAttribution"in t&&$$invalidate(4,requiresAttribution=t.requiresAttribution),"allowPrintExport"in t&&$$invalidate(5,allowPrintExport=t.allowPrintExport),"theme"in t&&$$invalidate(1,theme=t.theme),"themeDataDark"in t&&$$invalidate(33,themeDataDark=t.themeDataDark),"themeDataLight"in t&&$$invalidate(29,themeDataLight=t.themeDataLight),"themeFonts"in t&&$$invalidate(34,themeFonts=t.themeFonts),"locales"in t&&$$invalidate(30,locales=t.locales),"textDirection"in t&&$$invalidate(6,textDirection=t.textDirection),"translations"in t&&$$invalidate(35,translations=t.translations),"blocks"in t&&$$invalidate(36,blocks=t.blocks),"chartAfterBodyHTML"in t&&$$invalidate(7,chartAfterBodyHTML=t.chartAfterBodyHTML),"isIframe"in t&&$$invalidate(8,isIframe=t.isIframe),"isPreview"in t&&$$invalidate(9,isPreview=t.isPreview),"assets"in t&&$$invalidate(37,assets=t.assets),"styleHolder"in t&&$$invalidate(38,styleHolder=t.styleHolder),"origin"in t&&$$invalidate(39,origin=t.origin),"externalDataUrl"in t&&$$invalidate(40,externalDataUrl=t.externalDataUrl),"outerContainer"in t&&$$invalidate(31,outerContainer=t.outerContainer),"containerWidth"in t&&$$invalidate(41,containerWidth=t.containerWidth),"containerHeight"in t&&$$invalidate(42,containerHeight=t.containerHeight),"customVisEvents"in t&&$$invalidate(43,customVisEvents=t.customVisEvents),"isAutoDark"in t&&$$invalidate(45,isAutoDark=t.isAutoDark),"renderFlags"in t&&$$invalidate(2,renderFlags=t.renderFlags),"emotion"in t&&$$invalidate(10,emotion=t.emotion),"frontendDomain"in t&&$$invalidate(11,frontendDomain=t.frontendDomain)},$$self.$$.update=()=>{4&$$self.$$.dirty[0]&&$$invalidate(53,isStylePlain=renderFlags.plain),4&$$self.$$.dirty[0]&&$$invalidate(48,isStyleStatic=renderFlags.static),4&$$self.$$.dirty[0]&&(isStyleTransparent=renderFlags.transparent),4&$$self.$$.dirty[0]&&$$invalidate(49,isStyleDark=renderFlags.dark),4&$$self.$$.dirty[0]&&$$invalidate(56,logoId=renderFlags.logoId),4&$$self.$$.dirty[0]&&$$invalidate(55,forceLogo=renderFlags.logo),2&$$self.$$.dirty[1]&&$$invalidate(57,caption=getVisCaption(visualization.id)),256&$$self.$$.dirty[0]|1024&$$self.$$.dirty[1]&&(isIframe||set_store_value(outerWidth,$outerWidth=containerWidth,$outerWidth)),1&$$self.$$.dirty[0]&&$$invalidate(52,metadataFields={custom:get_1(chart,"metadata.custom",{}),publish:get_1(chart,"metadata.publish",{}),describe:get_1(chart,"metadata.describe",{})}),4101&$$self.$$.dirty[0]|275939328&$$self.$$.dirty[1]&&$$invalidate(50,overrideContext={type:chart.type,title:chart.title,team:chart.organizationId,width:$outerWidth,...parseChartLanguage(chart.language),mode:{plain:isStylePlain,static:isStyleStatic,print:renderFlags.svgonly},...metadataFields,blocks:Object.fromEntries([...coreBlocks,...pluginBlocks].filter((t=>{let{includeInContext:e}=t;return e})).map((t=>[t.id,!t.test||t.test({chart:chart,isStyleStatic:isStyleStatic,dwChart:dwChart})])))}),536870912&$$self.$$.dirty[0]|786436&$$self.$$.dirty[1]&&set_store_value(themeData,$themeData=computeThemeData(isStyleDark?themeDataDark:themeDataLight,overrideContext,isStyleDark),$themeData),1&$$self.$$.dirty[0]|134217728&$$self.$$.dirty[1]&&(get_1(chart,"metadata.publish.blocks")||set(chart,"metadata.publish.blocks",get_1($themeData,"metadata.publish.blocks"))),1&$$self.$$.dirty[0]&&$$invalidate(23,ariaDescription=get_1(chart,"metadata.describe.aria-description","")),1&$$self.$$.dirty[0]&&purifyHtml(get_1(chart,"metadata.publish.custom-css",""),[]),61515&$$self.$$.dirty[0]|251658240&$$self.$$.dirty[1]&&$$invalidate(54,blockProps={__:__,purifyHtml:clean$1,get:get_1,postEvent:postEvent,teamPublicSettings:teamPublicSettings,themeData:$themeData,container:container,theme:theme,chart:chart,dwChart:dwChart,vis:vis,caption:caption,logoId:logoId,forceLogo:forceLogo,textDirection:textDirection}),143687680&$$self.$$.dirty[1]&&$$invalidate(22,allBlocks=applyThemeBlockConfig([...coreBlocks,...pluginBlocks],$themeData,blockProps)),4&$$self.$$.dirty[0]|134217730&$$self.$$.dirty[1]&&$$invalidate(21,heightMode=getHeightMode({themeData:$themeData,renderFlags:renderFlags,visualizationMeta:visualization})),256&$$self.$$.dirty[0]|2048&$$self.$$.dirty[1]&&(isIframe||set_store_value(outerHeight,$outerHeight=containerHeight,$outerHeight)),256&$$self.$$.dirty[0]|66560&$$self.$$.dirty[1]&&onResize&&!isIframe&&onResize(containerWidth),1280&$$self.$$.dirty[0]|134217728&$$self.$$.dirty[1]&&emotion&&updateGlobalStyles(globalStyles(emotion,$themeData,isIframe)),134217728&$$self.$$.dirty[1]&&$$invalidate(20,VisContainer$2=2===$themeData.version?VisContainer:VisContainer$1)},$$invalidate(51,coreBlocks=coreBlocksV1),[chart,theme,renderFlags,teamPublicSettings,requiresAttribution,allowPrintExport,textDirection,chartAfterBodyHTML,isIframe,isPreview,emotion,frontendDomain,dwChart,vis,container,postEvent,target,contentBelowChart,filterUI,mapAttribution,VisContainer$2,heightMode,allBlocks,ariaDescription,outerWidth,outerHeight,themeData,allowedAriaDescriptionTags,__,themeDataLight,locales,outerContainer,visualization,themeDataDark,themeFonts,translations,blocks,assets,styleHolder,origin,externalDataUrl,containerWidth,containerHeight,customVisEvents,render,isAutoDark,pluginBlocks,onResize,isStyleStatic,isStyleDark,overrideContext,coreBlocks,metadataFields,isStylePlain,blockProps,forceLogo,logoId,caption,$themeData,$outerWidth,div0_binding,switch_instance_container_binding,switch_instance_contentBelowChart_binding]}class Visualization extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{chart:0,visualization:32,teamPublicSettings:3,requiresAttribution:4,allowPrintExport:5,theme:1,themeDataDark:33,themeDataLight:29,themeFonts:34,locales:30,textDirection:6,translations:35,blocks:36,chartAfterBodyHTML:7,isIframe:8,isPreview:9,assets:37,styleHolder:38,origin:39,externalDataUrl:40,outerContainer:31,containerWidth:41,containerHeight:42,customVisEvents:43,render:44,isAutoDark:45,renderFlags:2,emotion:10,frontendDomain:11},add_css$1,[-1,-1,-1])}get render(){return this.$$.ctx[44]}}function _await(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const{document:document_1}=globals;function _async(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function add_css(t){append_styles(t,"svelte-2opupd",".chart{height:100%}")}function create_fragment(t){let e,n,r,o,a,i,s,c,l=purifyHtml("<st"+"yle>".concat(t[21],"</sty")+"le>",["style"])+"";return document_1.title=e=purifyHtml(t[0].title,[]),s=new Visualization({props:{chart:t[0],visualization:t[2],teamPublicSettings:t[3],requiresAttribution:t[4],allowPrintExport:t[5],theme:t[6],themeFonts:t[6].fonts,themeDataDark:t[16],themeDataLight:t[17],locales:t[7],translations:t[9],blocks:t[10],chartAfterBodyHTML:t[11],isIframe:!0,isPreview:t[12],assets:t[13],externalDataUrl:t[14],isAutoDark:t[20],outerContainer:t[15],textDirection:t[8],renderFlags:t[1],emotion:t[18],origin:t[19]}}),{c(){n=element("meta"),o=new HtmlTagHydration(!1),a=empty(),i=space(),create_component(s.$$.fragment),this.h()},l(t){const e=head_selector("svelte-ni0vop",document_1.head);n=claim_element(e,"META",{name:!0,content:!0}),o=claim_html_tag(e,!1),a=empty(),e.forEach(detach),i=claim_space(t),claim_component(s.$$.fragment,t),this.h()},h(){attr(n,"name","description"),attr(n,"content",r=get_1(t[0],"metadata.describe.intro")),o.a=a},m(t,e){append_hydration(document_1.head,n),o.m(l,document_1.head),append_hydration(document_1.head,a),insert_hydration(t,i,e),mount_component(s,t,e),c=!0},p(t,a){let[i]=a;(!c||1&i)&&e!==(e=purifyHtml(t[0].title,[]))&&(document_1.title=e),(!c||1&i&&r!==(r=get_1(t[0],"metadata.describe.intro")))&&attr(n,"content",r),(!c||2097152&i)&&l!==(l=purifyHtml("<st"+"yle>".concat(t[21],"</sty")+"le>",["style"])+"")&&o.p(l);const u={};1&i&&(u.chart=t[0]),4&i&&(u.visualization=t[2]),8&i&&(u.teamPublicSettings=t[3]),16&i&&(u.requiresAttribution=t[4]),32&i&&(u.allowPrintExport=t[5]),64&i&&(u.theme=t[6]),64&i&&(u.themeFonts=t[6].fonts),65536&i&&(u.themeDataDark=t[16]),131072&i&&(u.themeDataLight=t[17]),128&i&&(u.locales=t[7]),512&i&&(u.translations=t[9]),1024&i&&(u.blocks=t[10]),2048&i&&(u.chartAfterBodyHTML=t[11]),4096&i&&(u.isPreview=t[12]),8192&i&&(u.assets=t[13]),16384&i&&(u.externalDataUrl=t[14]),1048576&i&&(u.isAutoDark=t[20]),32768&i&&(u.outerContainer=t[15]),256&i&&(u.textDirection=t[8]),2&i&&(u.renderFlags=t[1]),262144&i&&(u.emotion=t[18]),524288&i&&(u.origin=t[19]),s.$set(u)},i(t){c||(transition_in(s.$$.fragment,t),c=!0)},o(t){transition_out(s.$$.fragment,t),c=!1},d(t){detach(n),detach(a),t&&o.d(),t&&detach(i),destroy_component(s,t)}}}function instance(t,e,n){let r,o,a,i,s,{chart:c={}}=e,{visualization:l={}}=e,{teamPublicSettings:u={}}=e,{requiresAttribution:d}=e,{allowPrintExport:p}=e,{theme:f={}}=e,{locales:h={}}=e,{textDirection:m="ltr"}=e,{translations:g}=e,{blocks:_={}}=e,{chartAfterBodyHTML:y=""}=e,{isPreview:b}=e,{assets:$}=e,{externalDataUrl:v}=e,{outerContainer:k}=e,{themeDataDark:x={}}=e,{themeDataLight:w={}}=e,{renderFlags:E={}}=e,{emotion:T}=e,{origin:S=""}=e,{isAutoDark:M=!1}=e;return window.__dwUpdate=t=>{Object.assign(c,t.chart),n(0,c),void 0!==t.isStyleDark&&n(1,E={...E,dark:t.isStyleDark})},onMount(_async((function(){return document.body.classList.toggle("plain",o),document.body.classList.toggle("static",a),document.body.classList.toggle("png-export",a),document.body.classList.toggle("transparent",r),document.body.classList.toggle("in-editor",i),a&&(document.body.style["pointer-events"]="none"),_await()}))),t.$$set=t=>{"chart"in t&&n(0,c=t.chart),"visualization"in t&&n(2,l=t.visualization),"teamPublicSettings"in t&&n(3,u=t.teamPublicSettings),"requiresAttribution"in t&&n(4,d=t.requiresAttribution),"allowPrintExport"in t&&n(5,p=t.allowPrintExport),"theme"in t&&n(6,f=t.theme),"locales"in t&&n(7,h=t.locales),"textDirection"in t&&n(8,m=t.textDirection),"translations"in t&&n(9,g=t.translations),"blocks"in t&&n(10,_=t.blocks),"chartAfterBodyHTML"in t&&n(11,y=t.chartAfterBodyHTML),"isPreview"in t&&n(12,b=t.isPreview),"assets"in t&&n(13,$=t.assets),"externalDataUrl"in t&&n(14,v=t.externalDataUrl),"outerContainer"in t&&n(15,k=t.outerContainer),"themeDataDark"in t&&n(16,x=t.themeDataDark),"themeDataLight"in t&&n(17,w=t.themeDataLight),"renderFlags"in t&&n(1,E=t.renderFlags),"emotion"in t&&n(18,T=t.emotion),"origin"in t&&n(19,S=t.origin),"isAutoDark"in t&&n(20,M=t.isAutoDark)},t.$$.update=()=>{2&t.$$.dirty&&(r=E.transparent),2&t.$$.dirty&&(o=E.plain),2&t.$$.dirty&&(a=E.static),2&t.$$.dirty&&(i=E.allowEditing),1&t.$$.dirty&&n(21,s=purifyHtml(get_1(c,"metadata.publish.custom-css",""),[]))},[c,E,l,u,d,p,f,h,m,g,_,y,b,$,v,k,x,w,T,S,M,s]}class VisualizationIframe extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{chart:0,visualization:2,teamPublicSettings:3,requiresAttribution:4,allowPrintExport:5,theme:6,locales:7,textDirection:8,translations:9,blocks:10,chartAfterBodyHTML:11,isPreview:12,assets:13,externalDataUrl:14,outerContainer:15,themeDataDark:16,themeDataLight:17,renderFlags:1,emotion:18,origin:19,isAutoDark:20},add_css)}}const FLAG_BOOL_FALSE=new Set(["0","false","null"]),RENDER_FLAG_TYPES={allowEditing:Boolean,dark:BooleanWithAuto,dev:Boolean,fitchart:Boolean,logo:String,logoId:String,map2svg:Boolean,plain:Boolean,previewId:String,search:String,static:Boolean,svgonly:Boolean,theme:String,transparent:Boolean};function BooleanWithAuto(t){return"auto"===t?t:!!t&&!FLAG_BOOL_FALSE.has(t)}function parseFlags(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RENDER_FLAG_TYPES;return Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;const o=t(n);return r===Boolean?[n,!!o&&!FLAG_BOOL_FALSE.has(o)]:[n,o&&r(o)]})))}function parseFlagsFromURL(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RENDER_FLAG_TYPES;const n=new URLSearchParams(t);return parseFlags((t=>n.get(t)),e)}function render(){const t=document.getElementById("__svelte-dw"),{chart:e,published:n,chartAutoDark:r}=window.__DW_SVELTE_PROPS__,o=createEmotion({key:"datawrapper-".concat(e.id),container:document.head}),a=parseFlagsFromURL(window.location.search),i=window.__DW_SVELTE_PROPS__.renderFlags||{},s="auto"===i.dark||"auto"===a.dark||null===a.dark&&n&&!0===r,c=!0===i.dark||!0===a.dark||s&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function l(){const t=document.getElementById("hide-all");t&&t.parentNode.removeChild(t)}c&&(document.getElementById("__svelte-dw").className+=" is-dark-mode"),s||(c?(document.getElementById("css-light").setAttribute("media","--disabled--"),document.getElementById("css-dark").removeAttribute("media"),document.head.querySelector('meta[name="color-scheme"]').content="dark"):(document.getElementById("css-dark").setAttribute("media","--disabled--"),document.getElementById("css-light").removeAttribute("media"),document.head.querySelector('meta[name="color-scheme"]').content="light")),l(),i.dark=c,window.__DW_SVELTE_PROPS__.isAutoDark=s,new VisualizationIframe({target:t,props:{...window.__DW_SVELTE_PROPS__,outerContainer:t,renderFlags:{...a,...i},emotion:o},hydrate:!0})}window.dw&&(window.dw.scriptLoaded=!0),render()})();//# sourceMappingURL=main.js.map
