/*
 * datawrapper / vis / d3-maps-choropleth v6612a8d2
 * generated on 2019-12-03T14:39:26+00:00
 */
/*! datawrapper - v1.25.0 */
(function(){function getDelimiterPatterns(a,b){return new RegExp("(\\"+a+"|\\r?\\n|\\r|^)(?:"+b+"([^"+b+"]*(?:"+b+'"[^'+b+"]*)*)"+b+"|([^"+b+"\\"+a+"\\r\\n]*))","gi")}var root=this,dw={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dw),exports.dw=dw):window.dw=dw,dw.dataset=function(a,b){function c(a){for(var b=a.name(),c=b,e=1;d.hasOwnProperty(c);)c=b+"."+e++;c!=b&&a.name(c)}var d={},e=a.slice(0);_.each(a,function(a){c(a),d[a.name()]=a}),b=_.extend(b,{});var f={columns:function(){return a},column:function(b){if(_.isString(b)){if(void 0!==d[b])return d[b];throw'No column found with that name: "'+b+'"'}if(!(b<0)){if(void 0!==a[b])return a[b];throw"No column found with that index: "+b}},numColumns:function(){return a.length},numRows:function(){return a[0].length},eachColumn:function(b){_.each(a,b)},hasColumn:function(b){return void 0!==(_.isString(b)?d[b]:a[b])},indexOf:function(b){return f.hasColumn(b)?_.indexOf(a,d[b]):-1},list:function(){return _.range(a[0].length).map(function(b){var c={};return _.each(a,function(a){c[a.name()]=a.val(b)}),c})},toCSV:function(){var b="",c=",",d='"';return _.each(a,function(a,e){var f=a.title();f.indexOf(d)>-1&&f.replace(d,"\\"+d),f.indexOf(c)>-1&&(f=d+f+d),b+=(e>0?c:"")+f}),_.each(_.range(f.numRows()),function(e){b+="\n",_.each(a,function(a,f){var g=""+("date"==a.type()?a.raw(e):a.val(e));g.indexOf(d)>-1&&g.replace(d,"\\"+d),g.indexOf(c)>-1&&(g=d+g+d),b+=(f>0?c:"")+g})}),b},filterColumns:function(b){return a=_.filter(a,function(a){return!b[a.name()]}),_.each(b,function(a,b){a&&d[b]&&delete d[b]}),f},eachRow:function(a){var b;for(b=0;b<f.numRows();b++)a(b);return f},add:function(b){return c(b),a.push(b),d[b.name()]=b,e.push(b),f},reset:function(){return a=e.slice(0),d={},_.each(a,function(a){d[a.name()]=a}),f},limitRows:function(b){return _.each(a,function(a){a.limitRows(b)}),f},limitColumns:function(b){return a.length>b&&(a.length=b,e.length=b),f},columnOrder:function(b){return arguments.length?(a.length=0,b.forEach(function(b){a.push(e[b])}),f):a.map(function(a){return e.indexOf(a)})}};return f},dw.column=function(a,b,c){function d(a){return null!==a&&void 0!==a&&""!==a}function e(a){if(_.every(b,_.isNumber))return dw.column.types.number();if(_.every(b,_.isDate))return dw.column.types.date();var c,e=[dw.column.types.date(a),dw.column.types.number(a),dw.column.types.text()],f=b.filter(d).length;return _.each(b,function(a){_.each(e,function(b){b.parse(a)})}),_.every(e,function(a){return(a.errors()/f<.1||a.errors()<=1)&&(c=a),!c}),_.isUndefined(c)&&(c=e[2]),c}var f=_.shuffle(_.range(b.length)).filter(function(a){return d(b[a])}).slice(0,200).map(function(a){return b[a]});c=c?dw.column.types[c](f):e(f);var g,h,i,j=b.slice(0),k={name:function(){return arguments.length?(a=arguments[0],k):dw.utils.purifyHtml(a)},title:function(){return arguments.length?(i=arguments[0],k):dw.utils.purifyHtml(i||a)},length:b.length,val:function(a,d){if(arguments.length){var e=d?j:b;return a<0&&(a+=e.length),c.parse(dw.utils.purifyHtml(e[a]))}},values:function(a){var d=a?j:b;return d=_.map(d,function(a){return dw.utils.purifyHtml(a)}),_.map(d,c.parse)},each:function(a){for(var c=0;c<b.length;c++)a(k.val(c),c)},raw:function(a,c){return arguments.length?2===arguments.length?(b[a]=c,k):dw.utils.purifyHtml(b[a]):b},type:function(a){if(!0===a)return c;if(_.isString(a)){if(dw.column.types[a])return c=dw.column.types[a](f),k;throw new Error("unknown column type: "+a)}return c.name()},range:function(){return!!c.toNum&&(g||(g=[Number.MAX_VALUE,-Number.MAX_VALUE],k.each(function(a){a=c.toNum(a),_.isNumber(a)&&!_.isNaN(a)&&(a<g[0]&&(g[0]=a),a>g[1]&&(g[1]=a))}),g[0]=c.fromNum(g[0]),g[1]=c.fromNum(g[1])),g)},total:function(){return!!c.toNum&&(h||(h=0,k.each(function(a){h+=c.toNum(a)}),h=c.fromNum(h)),h)},filterRows:function(a){return b=[],arguments.length?_.each(a,function(a){b.push(j[a])}):b=j.slice(0),k.length=b.length,g=h=!1,k},toString:function(){return a+" ("+c.name()+")"},indexOf:function(a){return _.find(_.range(b.length),function(b){return k.val(b)===a})},limitRows:function(a){j.length>a&&(j.length=a,b.length=a,k.length=a)}};return k},dw.column.types={},dw.column.types.text=function(){return{parse:_.identity,errors:function(){return 0},name:function(){return"text"},formatter:function(){return _.identity},isValid:function(){return!0},format:function(){}}},dw.column.types.number=function(a){function b(a,b){return 0===a?0:Math.round(b-Math.ceil(Math.log(Math.abs(a))/Math.LN10))}var c,d=0,e={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},f={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},g={na:1,"n/a":1,"-":1,":":1},h={},i=["-.",0];a=a||[],_.each(a,function(a){_.each(e,function(b,c){void 0===h[c]&&(h[c]=0),b.test(a)&&(h[c]+=1,h[c]>i[1]&&(i[0]=c,i[1]=h[c]))})}),c=i[0];var j={parse:function(a){if(_.isNumber(a)||_.isUndefined(a)||_.isNull(a))return a;var b=a.replace("%","").replace("−","-").replace("–","-").replace("—","-");return"-"!=c[0]&&(b=b.replace(new RegExp("."==c[0]?"\\.":c[0],"g"),"")),"."!=c[1]&&(b=b.replace(c[1],".")),isNaN(b)||""===b?(g[b.toLowerCase()]||""===b||d++,a):Number(b)},toNum:function(a){return a},fromNum:function(a){return a},errors:function(){return d},name:function(){return"number"},formatter:function(a){var c=a["number-format"]||"-",d=Number(a["number-divisor"]||0),e=(a["number-append"]||"").replace(/ /g," "),f=(a["number-prepend"]||"").replace(/ /g," ");return function(a,g,h){if(isNaN(a))return a;var i=c;if(0!==d&&"-"==i&&(i="n1"),0!==d&&(a=Number(a)/Math.pow(10,d)),"s"==i.substr(0,1)){var j=+i.substr(1);i="n"+Math.max(0,b(a,j))}if(h&&(i="n0"),"-"==i&&(i=dw.utils.equalish(a,Math.round(a))?"n0":dw.utils.equalish(a,.1*Math.round(10*a))?"n1":dw.utils.equalish(a,.01*Math.round(100*a))?"n2":dw.utils.equalish(a,.001*Math.round(1e3*a))?"n3":dw.utils.equalish(a,1e-4*Math.round(1e4*a))?"n4":dw.utils.equalish(a,1e-5*Math.round(1e5*a))?"n5":"n6"),a=Globalize.format(a,"-"!=i?i:null),f.indexOf("{+/-}")>-1){var k=Number(a.replace(/[^\d-]/g,""));k<0?(a=a.replace("-",""),f=f.replace("{+/-}","-")):f=k>0?f.replace("{+/-}","+"):f.replace("{+/-}","")}return g?f+a+e:a}},isValid:function(a){return""===a||g[String(a).toLowerCase()]||_.isNumber(j.parse(a))},ambiguousFormats:function(){var a=[];return _.each(h,function(b,c){b==i[1]&&a.push([c,f[c]])}),a},format:function(a){return arguments.length?(c=a,j):c}};return j},dw.column.types.date=function(){function a(){return new RegExp(g+Array.prototype.slice.call(arguments).join(" *")+h,"i")}function b(a,b){var c=q[b];return _.isRegExp(c.test)?c.test.test(a):c.test(a,b)}function c(a,b){var c=q[b];return _.isRegExp(c.parse)?a.match(c.parse):c.parse(a,b)}function d(a,b,c){var d=new Date(Date.UTC(a,0,3));return d.setUTCDate(3-d.getUTCDay()+7*(b-1)+parseInt(c,10)),d}function e(a){var b=a.getUTCDay(),c=new Date(a.valueOf());c.setDate(c.getDate()-(b+6)%7+3);var d=c.getUTCFullYear(),e=Math.floor((c.getTime()-new Date(d,0,1,-6))/864e5);return[d,1+Math.floor(e/7),b>0?b:7]}function f(a,b){return 12!=a?a+("pm"==b?12:0):"am"==b?0:12}var g=/^ */.source,h=/[\*']* *$/.source,i=/[ \-\/\.]?/.source,j=/[ \-\/\.]/.source,k=/[ \-\/\.,]/.source,l=/[ \-\|T]/.source,m=/[ \-\/\.m]/.source,n={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},o={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},p={};_.each(o,function(a,b){_.each(a,function(a){p[a]=b})}),n.MMM={parse:new RegExp("("+_.flatten(_.values(o)).join("|")+")")},_.each(n,function(a,b){a.parse=a.parse.source,_.isRegExp(a.test)?a.test=a.test.source:a.test=a.parse});var q={YYYY:{test:a(n.YYYY2.test),parse:a(n.YYYY2.parse),precision:"year"},"YYYY-H":{test:a(n.YYYY.test,i,n.H.test),parse:a(n.YYYY.parse,i,n.H.parse),precision:"half"},"H-YYYY":{test:a(n.H.test,j,n.YYYY.test),parse:a(n.H.parse,j,n.YYYY.parse),precision:"half"},"YYYY-Q":{test:a(n.YYYY.test,i,n.Q.test),parse:a(n.YYYY.parse,i,n.Q.parse),precision:"quarter"},"Q-YYYY":{test:a(n.Q.test,j,n.YYYY.test),parse:a(n.Q.parse,j,n.YYYY.parse),precision:"quarter"},"YYYY-M":{test:a(n.YYYY.test,m,n.MM.test),parse:a(n.YYYY.parse,m,n.MM.parse),precision:"month"},"M-YYYY":{test:a(n.MM.test,j,n.YYYY.test),parse:a(n.MM.parse,j,n.YYYY.parse),precision:"month"},"YYYY-MMM":{test:a(n.YYYY.test,j,n.MMM.parse),parse:a(n.YYYY.parse,j,n.MMM.parse),precision:"month"},"MMM-YYYY":{test:a(n.MMM.parse,j,n.YYYY.test),parse:a(n.MMM.parse,j,n.YYYY.parse),precision:"month"},"MMM-YY":{test:a(n.MMM.parse,j,n.YY.test),parse:a(n.MMM.parse,j,n.YY.parse),precision:"month"},MMM:{test:a(n.MMM.parse),parse:a(n.MMM.parse),precision:"month"},"YYYY-WW":{test:a(n.YYYY.test,i,n.W.test),parse:a(n.YYYY.parse,i,n.W.parse),precision:"week"},"WW-YYYY":{test:a(n.W.test,j,n.YYYY.test),parse:a(n.W.parse,j,n.YYYY.parse),precision:"week"},"MM/DD/YY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YY.parse),precision:"day"},"DD/MM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YY.parse),precision:"day"},"MM/DD/YYYY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YY.parse),precision:"day"},"YYYY-MM-DD":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:a(n.MMM.test,j,n.DD.test,k,n.YYYY.test),parse:a(n.MMM.parse,j,n.DD.parse,k,n.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:a(n.YYYY.test,i,n.W.test,j,n.DOW.test),parse:a(n.YYYY.parse,i,n.W.parse,j,n.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test,l,n.HHMM.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse,l,n.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,parse:function(a){return a},precision:"day-seconds"}};return function(a){var g,h=0,i={},j=["",0];a=a||[],_.each(q,function(c,d){_.each(a,function(a){void 0===i[d]&&(i[d]=0),b(a,d)&&(i[d]+=1,i[d]>j[1]&&(j[0]=d,j[1]=i[d]))})}),g=j[0];var k={parse:function(a){function e(a){return a=+a,a<30?2e3+a:1900+a}if(_.isDate(a)||_.isUndefined(a))return a;if(!g||!_.isString(a))return h++,a;var i=c(a.toLowerCase(),g);if(!i)return h++,a;b(a,g)||h++;var j=(new Date).getFullYear();switch(g){case"YYYY":return new Date(i[1],0,1);case"YYYY-H":return new Date(i[1],6*(i[2]-1),1);case"H-YYYY":return new Date(i[2],6*(i[1]-1),1);case"YYYY-Q":return new Date(i[1],3*(i[2]-1),1);case"Q-YYYY":return new Date(i[2],3*(i[1]-1),1);case"YYYY-M":return new Date(i[1],i[2]-1,1);case"M-YYYY":return new Date(i[2],i[1]-1,1);case"YYYY-MMM":return new Date(+i[1],p[i[2]],1);case"MMM-YYYY":return new Date(+i[2],p[i[1]],1);case"MMM-YY":return new Date(e(+i[2]),p[i[1]],1);case"MMM":return new Date(j,p[i[1]],1);case"YYYY-WW":return d(i[1],i[2],1);case"WW-YYYY":return d(i[2],i[1],1);case"YYYY-WW-d":return d(i[1],i[2],i[3]);case"YYYY-MM-DD":return new Date(i[1],i[3]-1,i[4]);case"DD/MM/YYYY":return new Date(i[4],i[3]-1,i[1]);case"DD/MMM/YYYY":return new Date(i[4],p[i[3]],i[1]);case"DD/MMM/YY":return new Date(e(i[4]),p[i[3]],i[1]);case"MM/DD/YYYY":return new Date(i[4],i[1]-1,i[3]);case"MM/DD/YY":return new Date(e(i[4]),i[1]-1,i[3]);case"DD/MM/YY":return new Date(e(i[4]),i[3]-1,i[1]);case"MMM-DD-YYYY":return new Date(i[3],p[i[1]],i[2]);case"YYYY-MM-DD HH:MM":return new Date(+i[1],i[3]-1,+i[4],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+i[4],i[3]-1,+i[1],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+i[4],i[1]-1,+i[3],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"ISO8601":return new Date(i.toUpperCase());default:console.warn("unknown format",g)}return h++,a},toNum:function(a){return a.getTime()},fromNum:function(a){return new Date(a)},errors:function(){return h},name:function(){return"date"},format:function(a){return arguments.length?(g=a,k):g},precision:function(){return q[g].precision},formatter:function(a){if(!g)return _.identity;var b=Globalize.culture().calendar.patterns.M.replace("MMMM","MMM");switch(q[g].precision){case"year":return function(a){return _.isDate(a)?a.getFullYear():a};case"half":return function(a){return _.isDate(a)?a.getFullYear()+" H"+(a.getMonth()/6+1):a};case"quarter":return function(a){return _.isDate(a)?a.getFullYear()+" Q"+(a.getMonth()/3+1):a};case"month":return function(a){return _.isDate(a)?Globalize.format(a,"MMM yy"):a};case"week":return function(a){return _.isDate(a)?e(a).slice(0,2).join(" W"):a};case"day":return function(a,b){return _.isDate(a)?Globalize.format(a,b?"D":"d"):a};case"day-minutes":return function(a){return _.isDate(a)?Globalize.format(a,b).replace(" ","&nbsp;")+" - "+Globalize.format(a,"t").replace(" ","&nbsp;"):a};case"day-seconds":return function(a){return _.isDate(a)?Globalize.format(a,"T").replace(" ","&nbsp;"):a}}},isValid:function(a){return _.isDate(k.parse(a))},ambiguousFormats:function(){var a=[];return _.each(i,function(b,c){b==j[1]&&a.push([c,c])}),a}};return k}}(),dw.datasource={},dw.datasource.delimited=function(a){function b(){if(a.url){var b=(window.location.hostname||"").split("."),c="";if(b.length>=2)var c=b[b.length-2]+"."+b[b.length-1];return $.ajax({url:a.url+(a.url.indexOf("?")>-1?"&":"?")+"v="+(new Date).getTime(),method:"GET",dataType:"text",xhrFields:{withCredentials:a.url.indexOf(c)>-1}}).then(function(b){return new DelimitedParser(a).parse(b)})}if(a.csv||""===a.csv){var d=$.Deferred(),e=d.then(function(b){return new DelimitedParser(a).parse(b)});return d.resolve(a.csv),e}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return new DelimitedParser(a).parse(a.csv)}}};var DelimitedParser=function(a){a=_.extend({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},a),this.__delimiterPatterns=getDelimiterPatterns(a.delimiter,a.quoteChar),this.opts=a};_.extend(DelimitedParser.prototype,{parse:function(a){function b(a,b,c){c=c||",";for(var d,e=[[]],f=null;f=a.exec(b);){var g=f[1];g.length&&g!=c&&e.push([]),d=f[2]?f[2].replace(new RegExp('""',"g"),'"'):f[3],e[e.length-1].push(d)}e[0][0].substr(0,1)==h&&(e[0][0]=e[0][0].substr(1));var i=e.length-1,j=e[i].length-1,k=e[i][j].length-1;return e[i][j].substr(k)==h&&(e[i][j]=e[i][j].substr(0,k)),e.slice(1)}function c(a){var b=a,c=b.length?b.length:0,d=b[0]instanceof Array?b[0].length:0;if(0===d||0===c)return[];var e,f,g=[];for(e=0;e<d;e++)for(g[e]=[],f=0;f<c;f++)g[e][f]=b[f][e];return g}function d(a){var b=[],c={},d=a.length,e=a[0].length,g=f.skipRows,h=[];f.firstRowIsHeader&&(h=a[g],g++);for(var i=0;i<e;i++){var j=_.isString(h[i])?h[i].replace(/^\s+|\s+$/g,""):"",k=""!==j?"":1;for(j=""!==j?j:"X.";void 0!==c[j+k];)k=""===k?1:k+1;b.push({name:j+k,data:[]}),c[j+k]=!0}return _.each(_.range(g,d),function(c){_.each(b,function(b,d){b.data.push(""!==a[c][d]?a[c][d]:f.emptyValue)})}),b=_.map(b,function(a){return dw.column(a.name,a.data)}),dw.dataset(b)}var e=this,f=this.opts;e.__rawData=a,"auto"==f.delimiter&&(f.delimiter=e.guessDelimiter(a,f.skipRows),e.__delimiterPatterns=getDelimiterPatterns(f.delimiter,f.quoteChar));var g,h="|"!=f.delimiter?"|":"#";return a=h+"\n"+a.replace(/\s+$/g,"")+h,g=b(this.__delimiterPatterns,a,f.delimiter),f.transpose&&(g=c(g)),d(g)},guessDelimiter:function(a){var b=0,c=-1,d=this,e=["\t",";","|",","];return _.each(e,function(e,f){var g=getDelimiterPatterns(e,d.quoteChar),h=a.match(g).length;"\t"==e&&(h*=1.15),h>b&&(b=h,c=f)}),e[c]}}),dw.datasource.json=function(a){function b(){if(a.url);else if(a.csv||a.json){var b=$.Deferred(),c=b.then(function(a){return JSON.parse(a)});return b.resolve(a.csv||a.json),c}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return JSON.parse(a.csv||a.json)}}},dw.utils={minMax:function(a){var b=[Number.MAX_VALUE,-Number.MAX_VALUE];return _.each(a,function(a){b[0]=Math.min(b[0],a.range()[0]),b[1]=Math.max(b[1],a.range()[1])}),b},dateFormat:function(a){function b(a){return function(b){d=!e||b.getMonth()!=e.getMonth(),e=b;for(var c=a.length-1,f=a[c];!f[1](b);)f=a[--c];return f[0](b)}}function c(a){return function(b){var c=Globalize.format(b,a);return"htt"!=a?c:c.toLowerCase()}}var d=!0,e=!1,f=function(a){return{date:"de"==a?"dd.":"dd",hour:"en"!=a?"H:00":"htt",minute:"de"==a?"H:mm":"h:mm",mm:"de"==a?"d.M.":"MM/dd",mmm:"de"==a?"d.MMM":"MMM dd",mmmm:"de"==a?"d. MMMM":"MMMM dd"}}(Globalize.culture().language);return b([[c("yyyy"),function(){return!0}],[c("MMM"),function(a){return 0!==a.getMonth()}],[c(f.date),function(a){return 1!=a.getDate()}],[c(a<7?f.mm:f.mmm),function(a){return 1!=a.getDate()&&d}],[c(f.hour),function(a){return a.getHours()}],[c(f.minute),function(a){return a.getMinutes()}],[c(":ss"),function(a){return a.getSeconds()}],[c(".fff"),function(a){return a.getMilliseconds()}]])},longDateFormat:function(a){return function(b){if("date"!=a.type())return b;switch(a.type(!0).precision()){case"year":return b.getFullYear();case"quarter":return b.getFullYear()+" Q"+(b.getMonth()/3+1);case"month":return Globalize.format(b,"MMM yy");case"day":return Globalize.format(b,"MMM d");case"minute":return Globalize.format(b,"t");case"second":return Globalize.format(b,"T")}}},columnNameColumn:function(a){var b=_.map(a,function(a){return a.title()});return dw.column("",b)},name:function(a){return _.isFunction(a.name)?a.name():_.isString(a.name)?a.name:a},getNonChartHeight:function(){function a(a,b){return getComputedStyle($(a).get(0))[b].replace("px","")}var b=0;$("body > *").each(function(a,c){function d(a){return f.split(" ").indexOf(a)>-1}var e=c.tagName.toLowerCase(),f=$(c).attr("class")||"";"script"==e||"style"==e||"chart"==c.id||$(c).attr("aria-hidden")||d("tooltip")||d("vg-tooltip")||d("hidden")||d("qtip")||d("container")||d("noscript")||d("hidden")||d("filter-ui")||d("dw-chart-body")||(b+=Number($(c).outerHeight(!0)))});var c=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return["body","body #chart"].forEach(function(d){c.forEach(function(c){b+=Number(a(d,c))})}),b},getMaxChartHeight:function(){var a=$(window).height()-8;return a-=dw.utils.getNonChartHeight()},purifyHtml:function(a,b){function c(a,b){if(null===a)return null;if(a=String(a),a.indexOf("<")<0||a.indexOf(">")<0)return a;if(a=d(a,b),"undefined"==typeof document)return a;var c=document.createElement("div");c.innerHTML=a;for(var e=c.querySelectorAll("*"),f=0;f<e.length;f++){"a"===e[f].nodeName.toLowerCase()&&("_self"!==e[f].getAttribute("target")&&e[f].setAttribute("target","_blank"),e[f].setAttribute("rel","nofollow noopener noreferrer"));for(var g=0;g<e[f].attributes.length;g++){var h=e[f].attributes[g];h.specified&&"on"==h.name.substr(0,2)&&e[f].removeAttribute(h.name)}}return c.innerHTML}function d(a,b){b=(((void 0!==b?b||"":g)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var c=a,d=a;;)if(c=d,d=c.replace(f,"").replace(e,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""}),c===d)return d}var e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,f=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,g="<a><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";return dw.utils.purifyHtml=c,c(a,b)},significantDimension:function(a){function b(a){return dw.utils.round(a,f)}var c,d,e=[],f=0,g=_.uniq(a),h=g.length,i=Math.floor(.8*h);if(g.length<3)return Math.round(g.reduce(function(a,b){if(!b)return a;var c=Math.log(Math.abs(b))/Math.LN10;return c<8&&c>-3?a+Math.min(3,dw.utils.tailLength(g[0])):a+(c>0?-1*(c-1):-1*c)},0)/g.length);_.uniq(_.map(g,b)).length>i?(c=function(){return _.uniq(e).length==h},d=-1):(c=function(){return _.uniq(e).length<=i},d=1);var j=100;do{e=_.map(g,b),f+=d}while(c()&&j-- >0);return j<10&&console.warn("maximum iteration reached",a,e,f),d<0?f+=2:f--,f},tailLength:function(a){return String(a-Math.floor(a)).replace(/00000*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2},round:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},smartRound:function(a,b){var c=dw.utils.significantDimension(a);return c+=b||0,_.map(a,function(a){return dw.utils.round(a,c)})},nearest:function(a,b){var c,d=Number.MAX_VALUE;return _.each(a,function(a){var e=Math.abs(a-b);e<d&&(d=e,c=a)}),c},metricSuffix:function(a){switch(a.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(a){var b=Math.round(Math.log(a[0])/Math.LN10);return Math.round(Math.log(a[1])/Math.LN10)-b},logTicks:function(a,b){var c=Math.round(Math.log(a)/Math.LN10),d=Math.round(Math.log(b)/Math.LN10);return _.map(_.range(c,d),function(a){return Math.pow(10,a)})},clone:function(a){try{return JSON.parse(JSON.stringify(a))}catch(a){}return a},equalish:function(a,b){return a-b<1e-6}},dw.utils.filter=function(a,b,c,d){function e(b){_.each(g,function(c){_.isFunction(c)&&c(a.val(b),b)})}function f(c){var d;return"auto"==c&&(c="date"==a.type()?"timescale":a.length<6?"buttons":"select"),a.length<2?function(){return!1}:("select"==c&&(d=function(b){var c=$("<select />");return a.each(function(b,d){var e=a.raw()[d];e&&c.append('<option value="'+d+'">'+(_.isString(e)?$.trim(e):e)+"</option>")}),c.change(function(a){e(c.val())}),c.addClass("filter-ui filter-select"),c}),"buttons"==c&&(d=function(c){var d=$("<div />");d.addClass("filter-ui filter-links"),a.each(function(c,e){var f=a.raw()[e];if(f){var g=$('<a href="#'+e+'"'+(e==b?' class="active" ':"")+">"+(_.isString(f)?$.trim(f):f)+"</a>").data("row",e);d.append(g)}}),$("a",d).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($("a",d).removeClass("active"),b.addClass("active"),e(b.data("row")))}),d.appendTo("body");var g=$("a:first",d).offset().top+$("a:first",d).height();return $("a:last",d).offset().top+$("a:last",d).height()-g>1?(d.remove(),f("select")(c)):d}),"timescale"==c&&(d=function(b){function c(b,c){return b*(1-(a.val(-1).getTime()-c.getTime())/864e5/daysDelta)}var d=Math.min(b.__w-35);timesel=$("<div></div>").css({position:"relative",height:45,"margin-left":3}).addClass("filter-ui"),daysDelta=Math.round((a.val(-1).getTime()-a.val(0).getTime())/864e5);for(var f=0,g=0;g<a.length;g++){var h=$('<div class="point"></div>');h.data("row",g),h.css("left",c(d,a.val(g))+"px"),timesel.append(h);var i=$('<div class="point-label">'+a.raw()[g]+"</div>");i.css("left",c(d,a.val(g))+"px"),timesel.append(i),0==g&&h.addClass("active");var j=c(d,a.val(g));j>f&&(h,f=j)}var k=f;return timesel.append('<div class="line"></div>'),$(".line",timesel).width(k),$(".point",timesel).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($(".point",timesel).removeClass("active"),b.addClass("active"),e(b.data("row")))}),timesel}),d)}var g=[];return c=c||"auto",d=d||_.identity,"auto"==c&&("date"==a.type()?c="timescale":"text"==a.type()&&(c=a.length<6?"buttons":"select")),{ui:f(c),change:function(a){g.push(a)}}},dw.chart=function(attributes){function reorderColumns(a){var b=chart.get("metadata.data.column-order",[]);return b.length&&b.length==a.numColumns()&&a.columnOrder(b),a}function applyChanges(a){var b=chart.get("metadata.data.changes",[]),c=chart.get("metadata.data.transpose",!1);_.each(b,function(b){var d="row",e="column";if(c&&(d="column",e="row"),a.hasColumn(b[e]))if(0===b[d]){if(b.previous){const f=a.column(b[e]).title();if(f!==b.previous)return}a.column(b[e]).title(b.value)}else{if(b.previous){const g=a.column(b[e]).raw(b[d]-1);if(g!==b.previous)return}a.column(b[e]).raw(b[d]-1,b.value)}});var d=chart.get("metadata.data.column-format",{});return _.each(d,function(b,c){b.type&&a.hasColumn(c)&&"auto"!=b.type&&a.column(c).type(b.type),b["input-format"]&&a.hasColumn(c)&&a.column(c).type(!0).format(b["input-format"])}),a}function addComputedColumns(dataset){function add_computed_column(formula,name){var datefmt=function(a){return a.getFullYear()+"-"+left_pad(1+a.getMonth(),2,0)+"-"+left_pad(1+a.getDate(),2,0)},values=data.map(function(row,row_i){var context=[];return context.push("var __row = "+row_i+";"),_.each(row,function(a,b){columnNameToVar[b]&&(context.push("var "+columnNameToVar[b]+" = "+JSON.stringify(a)+";"),"number"==dataset.column(b).type()&&(context.push("var "+columnNameToVar[b]+"__sum = "+col_aggregates[b].sum+";"),context.push("var "+columnNameToVar[b]+"__min = "+col_aggregates[b].min+";"),context.push("var "+columnNameToVar[b]+"__max = "+col_aggregates[b].max+";"),context.push("var "+columnNameToVar[b]+"__mean = "+col_aggregates[b].mean+";"),context.push("var "+columnNameToVar[b]+"__median = "+col_aggregates[b].median+";")))}),context.push("var max = Math.max, min = Math.min;"),function(){try{return eval(this.context.join("\n")+"\n"+formula)}catch(a){return console.warn(a),"n/a"}}.call({context:context})}).map(function(a){return _.isBoolean(a)?a?"yes":"no":_.isDate(a)?datefmt(a):_.isNumber(a)?""+a:String(a)}),v_col=dw.column(name,values);v_col.isComputed=!0,dataset.add(v_col)}function column_name_to_var(a){return a.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/-/g,"_").replace(/\_\_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|window|with|yield)$/,"$1_")}function d3_min(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&b>c&&(b=c)}return b}function d3_max(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&c>b&&(b=c)}return b}function d3_sum(a){var b,c=0,d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=+a[e])&&(c+=b);return c}function d3_mean(a){for(var b,c=0,d=a.length,e=-1,f=d;++e<d;)d3_numeric(b=d3_number(a[e]))?c+=b:--f;if(f)return c/f}function d3_median(a){var b,c=[],d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=d3_number(a[e]))&&c.push(b);if(c.length)return d3_quantile(c.sort(d3_ascending),.5)}function d3_quantile(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e}function d3_number(a){return null===a?NaN:+a}function d3_numeric(a){return!isNaN(a)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function left_pad(a,b,c){for(a=String(a);a.length<b;)a=String(c)+a;return a}var v_columns=chart.get("metadata.describe.computed-columns",{}),data=dataset.list(),columnNameToVar={},col_aggregates={};return dataset.eachColumn(function(a){a.isComputed||(columnNameToVar[a.name()]=column_name_to_var(a.name()),"number"==a.type()&&(col_aggregates[a.name()]={min:d3_min(a.values()),max:d3_max(a.values()),sum:d3_sum(a.values()),mean:d3_mean(a.values()),median:d3_median(a.values())}))}),_.each(v_columns,add_computed_column),dataset}function is_equal(a,b){return JSON.stringify(a)==JSON.stringify(b)}var dataset,theme,visualization,metric_prefix,change_callbacks=$.Callbacks(),dataset_change_callbacks=$.Callbacks(),locale,_ds,chart={get:function(a,b){var c=a.split("."),d=attributes;return _.some(c,function(a){return!(!_.isUndefined(d)&&!_.isNull(d))||(d=d[a],!1)}),_.isUndefined(d)||_.isNull(d)?b:d},set:function(a,b){var c=a.split("."),d=c.pop(),e=attributes;return _.each(c,function(a){(_.isUndefined(e[a])||_.isNull(e[a]))&&(e[a]={}),e=e[a]}),is_equal(e[d],b)||(e[d]=b,change_callbacks.fire(chart,a,b)),this},load:function(a,b){var c,d={firstRowIsHeader:chart.get("metadata.data.horizontal-header",!0),transpose:chart.get("metadata.data.transpose",!1)};return!a&&""!==a||b?d.url=b||"data.csv":d.csv=a,c=chart.get("metadata.data.json")?dw.datasource.json(d):dw.datasource.delimited(d),c.dataset().pipe(function(a){return chart.dataset(a),dataset_change_callbacks.fire(chart,a),a})},dataset:function(a){return arguments.length?(!0!==a&&(_ds=a),dataset=chart.get("metadata.data.json")?_ds:reorderColumns(applyChanges(addComputedColumns(_ds))),!0===a?dataset:chart):dataset},theme:function(a){return arguments.length?(theme=a,chart):theme||{}},vis:function(a){return arguments.length?(visualization=a,visualization.chart(chart),chart):visualization},hasHighlight:function(){var a=chart.get("metadata.visualize.highlighted-series");return _.isArray(a)&&a.length>0},isHighlighted:function(a){if(void 0===_.isUndefined(a))return!1;var b=this.get("metadata.visualize.highlighted-series"),c=dw.utils.name(a);return!_.isArray(b)||0===b.length||_.indexOf(b,c)>=0},locale:function(a,b){return arguments.length?(locale=a.replace("_","-"),window.Globalize&&(Globalize.cultures.hasOwnProperty(locale)?(Globalize.culture(locale),"function"==typeof b&&b()):$.getScript("/static/vendor/globalize/cultures/globalize.culture."+locale+".js",function(){chart.locale(locale),"function"==typeof b&&b()})),chart):locale},metricPrefix:function(a){
return arguments.length?(metric_prefix=a,chart):metric_prefix},formatValue:function(a,b,c){var d=chart.get("metadata.describe.number-format"),e=Number(chart.get("metadata.describe.number-divisor")),f=chart.get("metadata.describe.number-append","").replace(" ","&nbsp;"),g=chart.get("metadata.describe.number-prepend","").replace(" ","&nbsp;");return 0!==e&&(a=Number(a)/Math.pow(10,e)),"-"!=d?((c||a==Math.round(a))&&(d=d.substr(0,1)+"0"),a=Globalize.format(a,d)):0!==e&&(a=a.toFixed(1)),b?g+a+f:a},render:function(a){if(!visualization||!theme||!dataset)throw"cannot render the chart!";visualization.chart(chart),visualization.__init();var b=$(a);b.parent().addClass("vis-"+visualization.id).addClass("theme-"+theme.id),visualization.render(b)},attributes:function(a){return arguments.length?(attributes=a,chart):attributes},onChange:change_callbacks.add,onDatasetChange:dataset_change_callbacks.add,columnFormatter:function(a){var b=chart.get("metadata.data.column-format",{});if(b=b[a.name()]||{type:"auto","number-format":"auto"},"number"==a.type()&&("auto"==b||void 0===b["number-format"]||"auto"==b["number-format"])){var c=a.values(),d=dw.utils.significantDimension(c);b["number-divisor"]=0,b["number-format"]="n"+Math.max(0,d)}return a.type(!0).formatter(b)},dataCellChanged:function(a,b){var c=chart.get("metadata.data.changes",[]),d=chart.get("metadata.data.transpose",!1),e=!1;return _.each(c,function(c){var f="row",g="column";d&&(f="column",g="row"),a==c[g]&&c[f]==b&&(e=!0)}),e}};return chart},dw.visualization=function(){var a={},b=function(b){if(!a[b]){console.warn("unknown visualization type: "+b);var c=_.keys(a);return c.length>0&&console.warn("try one of these instead: "+c.join(", ")),!1}return new a[b]};return b.register=function(b){var c=3===arguments.length?a[arguments[1]].prototype:dw.visualization.base,d=arguments[arguments.length-1],e=a[b]=function(){};_.extend(e.prototype,c,{id:b},d)},b.has=function(b){return void 0!==a[b]},b}(),dw.visualization.base=function(){}.prototype,_.extend(dw.visualization.base,{__init:function(){return this.__renderedDfd=$.Deferred(),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render:function(a){$(a).html("implement me!")},theme:function(a){if(!arguments.length)return this.__theme;this.__theme=a;var b=["horizontalGrid","verticalGrid","yAxis","xAxis"];return _.each(b,function(b){if(a.hasOwnProperty(b))for(var c in a[b]){var d=c.replace(/([A-Z])/g,"-$1").toLowerCase();a[b].hasOwnProperty(d)||(a[b][d]=a[b][c])}}),this},size:function(a,b){var c=this;return arguments.length?(c.__w=a,c.__h=b,c):[c.__w,c.__h]},get:function(a,b){return this.chart().get("metadata.visualize"+(a?"."+a:""),b)},notify:function(a){if(dw.backend&&_.isFunction(dw.backend.notify))return dw.backend.notify(a);window.parent&&window.parent.postMessage?window.parent.postMessage("notify:"+a,"*"):window.console&&console.log(a)},signature:function(){},translate:function(a){return this.meta.locale[a]||a},checkBrowserCompatibility:function(){return!0},chart:function(a){var b=this;if(!arguments.length)return b.__chart;b.dataset=a.dataset(),b.theme(a.theme()),b.__chart=a;var c=a.get("metadata.data.column-format",{}),d={};return _.each(c,function(a,b){d[b]=!!a.ignore}),b.dataset.filterColumns&&b.dataset.filterColumns(d),b},axes:function(a,b){function c(a){_.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++)if(!f.hasColumn(a[b]))return!1;return!0}var d=this;if(!b&&d.__axisCache)return d.__axisCache[a?"axesAsColumns":"axes"];var e,f=d.dataset,g={},h={},i={},j=[];e=d.chart().get("metadata.axes",{}),_.each(d.meta.axes,function(a,b){if(e[b]){var d=e[b];c(d)&&(h[b]=d,_.isArray(d)||(d=[d]),_.each(d,function(a){g[a]=!0}))}});var k=[];_.each(d.meta.axes,function(a,b){function c(b){return!g[b.name()]&&_.indexOf(a.accepts,b.type())>=0}function e(){var c=dw.backend?dw.backend.messages.insufficientData:"The visualization needs at least one column of the type %type to populate axis %key";j.push(c.replace("%type",a.accepts).replace("%key",b))}function i(a){function b(a,b){if(void 0===a&&void 0!==b)return!1;if(void 0===b&&void 0!==a)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0}var c=0;return _.each(d.meta.axes,function(d,e){if(!(k.indexOf(e)>-1)&&b(d.accepts,a)&&"string"!=typeof c&&!d.optional)return d.multiple?void(c="multiple"):void(c+=1)}),c}function l(a,b){var d=0;return a.eachColumn(function(a,b){c(a)&&d++}),d}if(k.push(b),!h[b])if(a.optional)h[b]=!1;else if(a.multiple){var m=i(a.accepts),n=l(f);h[b]=[],f.eachColumn(function(a){"multiple"===m&&h[b].length||n<=m||c(a)&&(g[a.name()]=!0,h[b].push(a.name()),n--)}),h[b].length||e()}else{var o,p=_.filter(f.columns(),c);if(a.preferred){var q=new RegExp(a.preferred,"i");o=_.find(p,function(a){return q.test(a.name())||a.title()!==a.name()&&q.test(a.title())})}if(o||(o=p[0]),o)g[o.name()]=!0,h[b]=o.name();else if(_.indexOf(a.accepts,"text")>=0){var r=dw.column(b,_.map(_.range(f.numRows()),function(a){return(a>25?String.fromCharCode(64+a/26):"")+String.fromCharCode(65+a%26)}),"text");f.add(r),d.chart().dataset(f),g[r.name()]=!0,h[b]=r.name()}else e()}});var l=0;for(var m in g)g[m]&&l++;if(l<f.numColumns()){j.push("Your dataset contains more columns than the chosen chart type can display. You can switch the column to show in the <b>Refine</b> tab, or choose a different chart type.")}return j.length&&d.notify(j.join("<br />")),_.each(h,function(a,b){_.isArray(a)?(i[b]=[],_.each(a,function(a,c){i[b][c]=!1!==a?d.dataset.column(a):null})):i[b]=!1!==a?d.dataset.column(a):null}),d.__axisCache={axes:h,axesAsColumns:i},d.axes(a)},keys:function(){var a=this,b=a.axes();if(b.labels){var c=a.dataset.column(b.labels),d=a.chart().columnFormatter(c),e=[];return c.each(function(a){e.push(String(d(a)))}),e}return[]},keyLabel:function(a){return a},reset:function(){this.clear(),$("#chart").html("").off("click").off("mousemove").off("mouseenter").off("mouseover"),$(".chart .filter-ui").remove(),$(".chart .legend").remove()},clear:function(){},renderingComplete:function(){window.parent&&window.parent.postMessage&&setTimeout(function(){window.parent.postMessage("datawrapper:vis:rendered","*")},200),this.__renderedDfd.resolve(),this.__rendered=!0,this.postRendering()},postRendering:function(){function a(){var a=b.options.watermark.text||"CONFIDENTIAL";$(".watermark","#chart").remove(),$(".dw-chart-body").append('<div class="export-text marker-text watermark noscript"><span>'+a+"</span></div>"),$(".watermark","#chart").css("font-size","6px");var c=$(".watermark","#chart"),d=c[0].getBoundingClientRect().width,e=Math.sqrt(Math.pow(window.innerHeight,2)+Math.pow(window.innerWidth,2)),f=.7*e/d*6,g=Math.atan(window.innerHeight/window.innerWidth),h="rotate("+-g+"rad)";c.attr("data-rotate",-1*g*180/Math.PI).css("font-size",f);var i=c[0].getBoundingClientRect().height;d=c[0].getBoundingClientRect().width;var j=(e-d)*Math.cos(g),k=(e-d)*Math.sin(g);c.css("transform",h).css("bottom",-i/2+k/2+"px").css("left",j/2+"px")}var b=this.theme();this.theme()&&this.theme().options&&this.theme().options.watermark&&(a(),$(window).off("resize",a).on("resize",a))},rendered:function(){return this.__renderedDfd.promise()},supportsSmartRendering:function(){return!1},_svgCanvas:function(){return!1},colorMap:function(){var a=this;return function(b){return a.__colors[b]=1,window.__dw&&window.__dwColorMap?window.__dwColorMap(b):b}},colorsUsed:function(){return Object.keys(this.__colors)},on:function(a,b){this.__callbacks[a]||(this.__callbacks[a]=[]),this.__callbacks[a].push(b)},fire:function(a,b){this.__callbacks[a]&&this.__callbacks[a].forEach(function(a){"function"==typeof a&&a(b)})}}),dw.theme=function(){function a(){var c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length;for("object"==typeof h||_.isFunction(h)||(h={});i<j;i++)if(null!=(c=arguments[i]))for(d in c)e=h[d],f=c[d],h!==f&&(f&&b(f)?(g=e&&b(e)?e:{},h[d]=a(g,f)):void 0!==f&&(h[d]=f));return h}function b(a){return _.isObject(a)&&!_.isArray(a)&&!_.isFunction(a)}var c={},d=function(a){return c[a]};return d.register=function(b){var d=3==arguments.length?c[arguments[1]]:dw.theme.base,e=arguments[arguments.length-1];c[b]=a({},d,{id:b},e)},d}(),dw.theme.base={colors:{palette:["#6E7DA1","#64A4C4","#53CCDD","#4EF4E8"],picker:{rowCount:6,controls:{hexEditable:!0,hue:!0,saturation:!0,lightness:!0}},secondary:[],positive:"#85B4D4",negative:"#E31A1C",neutral:"#CCCCCC",background:"#ffffff",text:"#333333",gradients:[["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],["#fefaca","#008b15"],["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],["#8c510a","#d8b365","#f6e8c3","#f5f7ea","#c7eae5","#5ab4ac","#01665e"],["#c51b7d","#e9a3c9","#fde0ef","#faf6ea","#e6f5d0","#a1d76a","#4d9221"],["#b2182b","#ef8a62","#fddbc7","#f8f6e9","#d1e5f0","#67a9cf","#2166ac"]],categories:[["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]]},annotation:{background:"#000",opacity:.08},padding:{left:0,right:20,bottom:30,top:10},lineChart:{strokeWidth:3,maxLabelWidth:80,fillOpacity:.2,xLabelOffset:20},columnChart:{cutGridLines:!1,barAttrs:{"stroke-width":1},darkenStroke:18},barChart:{barAttrs:{"stroke-width":1}},xAxis:{stroke:"#333"},yAxis:{strokeWidth:1},horizontalGrid:{stroke:"#d9d9d9"},verticalGrid:!1,frame:!1,frameStrokeOnTop:!1,yTicks:!1,hover:!0,tooltip:!0,hpadding:0,vpadding:10,minWidth:100,locale:"de_DE",duration:1e3,easing:"expoInOut"}}).call(this);

!function(){"use strict";var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),i.hasOwnProperty(n)?{space:i[n],local:t}:t}function u(t){var n=o(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}})(n)}function n(){}function p(t){return null==t?n:function(){return this.querySelector(t)}}function e(){return[]}function m(t){return null==t?e:function(){return this.querySelectorAll(t)}}var t=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var a=document.documentElement;if(!a.matches){var c=a.webkitMatchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector;t=function(t){return function(){return c.call(this,t)}}}}var l=t;function f(t){return new Array(t.length)}function d(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="$";function x(t,n,e,r,i,o){for(var a,u=0,c=n.length,f=o.length;u<f;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new d(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function M(t,n,e,r,i,o,a){var u,c,f,l={},s=n.length,h=o.length,p=new Array(s);for(u=0;u<s;++u)(c=n[u])&&(p[u]=f=g+a.call(c,c.__data__,u,n),f in l?i[u]=c:l[f]=c);for(u=0;u<h;++u)(c=l[f=g+a.call(t,o[u],u,o)])?((r[u]=c).__data__=o[u],l[f]=null):e[u]=new d(t,o[u]);for(u=0;u<s;++u)(c=n[u])&&l[p[u]]===c&&(i[u]=c)}function s(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function h(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function E(t,n){return t.style.getPropertyValue(n)||h(t).getComputedStyle(t,null).getPropertyValue(n)}function v(t){return t.trim().split(/^|\s+/)}function y(t){return t.classList||new b(t)}function b(t){this._node=t,this._names=v(t.getAttribute("class")||"")}function w(t,n){for(var e=y(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function k(t,n){for(var e=y(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function S(){this.textContent=""}function N(){this.innerHTML=""}function T(){this.nextSibling&&this.parentNode.appendChild(this)}function C(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function A(){return null}function z(){var t=this.parentNode;t&&t.removeChild(this)}function F(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function D(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}b.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var P={},Q=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(P={mouseenter:"mouseover",mouseleave:"mouseout"}));function j(e,t,n){return e=U(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function U(e,r,i){return function(t){var n=Q;Q=t;try{e.call(this,this.__data__,r,i)}finally{Q=n}}}function B(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function L(c,f,l){var s=P.hasOwnProperty(c.type)?j:U;return function(t,n,e){var r,i=this.__on,o=s(f,n,e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),void(r.value=f);this.addEventListener(c.type,o,l),r={type:c.type,name:c.name,value:f,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function O(t,n,e){var r=h(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Y=[null];function R(t,n){this._groups=t,this._parents=n}function q(){return new R([[document.documentElement]],Y)}function J(t){return"string"==typeof t?new R([[document.querySelector(t)]],[document.documentElement]):new R([[t]],Y)}function H(){for(var t,n=Q;t=n.sourceEvent;)n=t;return n}function I(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function X(t){var n=H();return n.changedTouches&&(n=n.changedTouches[0]),I(t,n)}function Z(t,n,e){arguments.length<3&&(e=n,n=H().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return I(t,r);return null}function V(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}R.prototype=q.prototype={constructor:R,select:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,f=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),f[l]=a);return new R(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=m(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,f=0;f<c;++f)(a=u[f])&&(r.push(t.call(a,a.__data__,f,u)),i.push(a));return new R(r,i)},filter:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],f=0;f<u;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&c.push(o);return new R(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var e,r=n?M:x,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),f=new Array(a),l=0;l<a;++l){var s=i[l],h=o[l],p=h.length,d=t.call(s,s&&s.__data__,l,i),g=d.length,v=c[l]=new Array(g),m=u[l]=new Array(g);r(s,h,v,m,f[l]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(_<=w&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new R(u,i))._enter=c,u._exit=f,u},enter:function(){return new R(this._enter||this._groups.map(f),this._parents)},exit:function(){return new R(this._exit||this._groups.map(f),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,f=n[u],l=e[u],s=f.length,h=a[u]=new Array(s),p=0;p<s;++p)(c=f[p]||l[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new R(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=s);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,f=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(f[l]=a);f.sort(t)}return new R(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=o(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):E(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=v(t+"");if(arguments.length<2){for(var r=y(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?w:k)(this,t)}}:n?function(t){return function(){w(this,t)}}:function(t){return function(){k(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?S:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?N:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(T)},lower:function(){return this.each(C)},append:function(t){var n="function"==typeof t?t:u(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:u(t),r=null==n?A:"function"==typeof n?n:p(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(z)},clone:function(t){return this.select(t?D:F)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),a=o.length;if(!(arguments.length<2)){for(u=n?L:B,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,f=0,l=u.length;f<l;++f)for(r=0,c=u[f];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return O(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return O(this,t,n)}})(t,n))}};var W,G,K=(1===(W=V).length&&(G=W,W=function(t,n){return V(G(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;W(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0<W(t[i],n)?r=i:e=i+1}return e}}).right;function tt(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var nt=Math.sqrt(50),et=Math.sqrt(10),rt=Math.sqrt(2);function it(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(nt<=o?10:et<=o?5:rt<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(nt<=o?10:et<=o?5:rt<=o?2:1)}function ot(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--a]=r[n];return e}var at="$";function ut(){}function ct(t,n){var e=new ut;if(t instanceof ut)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function ft(){var h,p,n,d=[],a=[];function g(t,e,r,i){if(e>=d.length)return null!=h&&t.sort(h),null!=p?p(t):t;for(var n,o,a,u=-1,c=t.length,f=d[e++],l=ct(),s=r();++u<c;)(a=l.get(n=f(o=t[u])+""))?a.push(o):l.set(n,[o]);return l.each(function(t,n){i(s,n,g(t,e,r,i))}),s}return n={object:function(t){return g(t,0,lt,st)},map:function(t){return g(t,0,ht,pt)},entries:function(t){return function e(t,r){if(++r>d.length)return t;var i,o=a[r-1];return null!=p&&r>=d.length?i=t.entries():(i=[],t.each(function(t,n){i.push({key:n,values:e(t,r)})})),null!=o?i.sort(function(t,n){return o(t.key,n.key)}):i}(g(t,0,ht,pt),0)},key:function(t){return d.push(t),n},sortKeys:function(t){return a[d.length-1]=t,n},sortValues:function(t){return h=t,n},rollup:function(t){return p=t,n}}}function lt(){return{}}function st(t,n,e){t[n]=e}function ht(){return ct()}function pt(t,n,e){t.set(n,e)}function dt(){}ut.prototype=ct.prototype={constructor:ut,has:function(t){return at+t in this},get:function(t){return this[at+t]},set:function(t,n){return this[at+t]=n,this},remove:function(t){var n=at+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===at&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===at&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===at&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===at&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===at&&++t;return t},empty:function(){for(var t in this)if(t[0]===at)return!1;return!0},each:function(t){for(var n in this)n[0]===at&&t(this[n],n.slice(1),this)}};var gt=ct.prototype;function vt(t){var n=[];for(var e in t)n.push(e);return n}function mt(t){var n=[];for(var e in t)n.push(t[e]);return n}dt.prototype=function(t,n){var e=new dt;if(t instanceof dt)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:dt,has:gt.has,add:function(t){return this[at+(t+="")]=t,this},remove:gt.remove,clear:gt.clear,values:gt.keys,size:gt.size,empty:gt.empty,each:gt.each};var yt=Array.prototype,bt=yt.map,wt=yt.slice,_t={name:"implicit"};function xt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Mt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Et(){}var kt=1/.7,St="\\s*([+-]?\\d+)\\s*",Nt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ct=/^#([0-9a-f]{3})$/,At=/^#([0-9a-f]{6})$/,zt=new RegExp("^rgb\\("+[St,St,St]+"\\)$"),Ft=new RegExp("^rgb\\("+[Tt,Tt,Tt]+"\\)$"),Dt=new RegExp("^rgba\\("+[St,St,St,Nt]+"\\)$"),Pt=new RegExp("^rgba\\("+[Tt,Tt,Tt,Nt]+"\\)$"),jt=new RegExp("^hsl\\("+[Nt,Tt,Tt]+"\\)$"),Ut=new RegExp("^hsla\\("+[Nt,Tt,Tt,Nt]+"\\)$"),Bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(t){var n;return t=(t+"").trim().toLowerCase(),(n=Ct.exec(t))?new Ht((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=At.exec(t))?Ot(parseInt(n[1],16)):(n=zt.exec(t))?new Ht(n[1],n[2],n[3],1):(n=Ft.exec(t))?new Ht(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Dt.exec(t))?Yt(n[1],n[2],n[3],n[4]):(n=Pt.exec(t))?Yt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=jt.exec(t))?It(n[1],n[2]/100,n[3]/100,1):(n=Ut.exec(t))?It(n[1],n[2]/100,n[3]/100,n[4]):Bt.hasOwnProperty(t)?Ot(Bt[t]):"transparent"===t?new Ht(NaN,NaN,NaN,0):null}function Ot(t){return new Ht(t>>16&255,t>>8&255,255&t,1)}function Yt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ht(t,n,e,r)}function Rt(t){return t instanceof Et||(t=Lt(t)),t?new Ht((t=t.rgb()).r,t.g,t.b,t.opacity):new Ht}function qt(t,n,e,r){return 1===arguments.length?Rt(t):new Ht(t,n,e,null==r?1:r)}function Ht(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function $t(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function It(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new Xt(t,n,e,r)}function Xt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Zt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}xt(Et,Lt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),xt(Ht,qt,Mt(Et,{brighter:function(t){return t=null==t?kt:Math.pow(kt,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+$t(this.r)+$t(this.g)+$t(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),xt(Xt,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof Et||(t=Lt(t)),!t)return new Xt;if(t instanceof Xt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=0<c&&c<1?0:a,new Xt(a,u,c,t.opacity)}(t):new Xt(t,n,e,null==r?1:r)},Mt(Et,{brighter:function(t){return t=null==t?kt:Math.pow(kt,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ht(Zt(240<=t?t-240:t+120,i,r),Zt(t,i,r),Zt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Vt=Math.PI/180,Wt=180/Math.PI,Gt=.96422,Qt=1,Jt=.82521,Kt=4/29,tn=6/29,nn=3*tn*tn,en=tn*tn*tn;function rn(t){if(t instanceof an)return new an(t.l,t.a,t.b,t.opacity);if(t instanceof sn){if(isNaN(t.h))return new an(t.l,0,0,t.opacity);var n=t.h*Vt;return new an(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Ht||(t=Rt(t));var e,r,i=ln(t.r),o=ln(t.g),a=ln(t.b),u=un((.2225045*i+.7168786*o+.0606169*a)/Qt);return i===o&&o===a?e=r=u:(e=un((.4360747*i+.3850649*o+.1430804*a)/Gt),r=un((.0139322*i+.0971045*o+.7141733*a)/Jt)),new an(116*u-16,500*(e-u),200*(u-r),t.opacity)}function on(t,n,e,r){return 1===arguments.length?rn(t):new an(t,n,e,null==r?1:r)}function an(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function un(t){return en<t?Math.pow(t,1/3):t/nn+Kt}function cn(t){return tn<t?t*t*t:nn*(t-Kt)}function fn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ln(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function sn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}xt(an,on,Mt(Et,{brighter:function(t){return new an(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new an(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ht(fn(3.1338561*(n=Gt*cn(n))-1.6168667*(t=Qt*cn(t))-.4906146*(e=Jt*cn(e))),fn(-.9787684*n+1.9161415*t+.033454*e),fn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),xt(sn,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof sn)return new sn(t.h,t.c,t.l,t.opacity);if(t instanceof an||(t=rn(t)),0===t.a&&0===t.b)return new sn(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Wt;return new sn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new sn(t,n,e,null==r?1:r)},Mt(Et,{brighter:function(t){return new sn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new sn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return rn(this).rgb()}}));var hn=1.78277,pn=-.29227,dn=-.90649,gn=1.97294,vn=gn*dn,mn=gn*hn,yn=hn*pn- -.14861*dn;function bn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof wn)return new wn(t.h,t.s,t.l,t.opacity);t instanceof Ht||(t=Rt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(yn*r+vn*n-mn*e)/(yn+vn-mn),o=r-i,a=(gn*(e-i)-pn*o)/dn,u=Math.sqrt(a*a+o*o)/(gn*i*(1-i)),c=u?Math.atan2(a,o)*Wt-120:NaN;return new wn(c<0?c+360:c,u,i,t.opacity)}(t):new wn(t,n,e,null==r?1:r)}function wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function _n(t){return function(){return t}}function xn(n,e){return function(t){return n+t*e}}function Mn(o){return 1==(o=+o)?En:function(t,n){return n-t?(e=t,r=n,i=o,e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(t){return Math.pow(e+t*r,i)}):_n(isNaN(t)?n:t);var e,r,i}}function En(t,n){var e=n-t;return e?xn(t,e):_n(isNaN(t)?n:t)}xt(wn,bn,Mt(Et,{brighter:function(t){return t=null==t?kt:Math.pow(kt,t),new wn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new wn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Vt,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ht(255*(n+e*(-.14861*r+hn*i)),255*(n+e*(pn*r+dn*i)),255*(n+e*(gn*r)),this.opacity)}}));var kn=function t(n){var a=Mn(n);function e(n,t){var e=a((n=qt(n)).r,(t=qt(t)).r),r=a(n.g,t.g),i=a(n.b,t.b),o=En(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function Sn(n,e){return e-=n=+n,function(t){return n+e*t}}var Nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tn=new RegExp(Nn.source,"g");function Cn(t,r){var n,e,i,o,a,u=Nn.lastIndex=Tn.lastIndex=0,c=-1,f=[],l=[];for(t+="",r+="";(n=Nn.exec(t))&&(e=Tn.exec(r));)(i=e.index)>u&&(i=r.slice(u,i),f[c]?f[c]+=i:f[++c]=i),(n=n[0])===(e=e[0])?f[c]?f[c]+=e:f[++c]=e:(f[++c]=null,l.push({i:c,x:Sn(n,e)})),u=Tn.lastIndex;return u<r.length&&(i=r.slice(u),f[c]?f[c]+=i:f[++c]=i),f.length<2?l[0]?(a=l[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=l.length,function(t){for(var n,e=0;e<r;++e)f[(n=l[e]).i]=n.x(t);return f.join("")})}function An(t,n){var e,r=typeof n;return null==n||"boolean"===r?_n(n):("number"===r?Sn:"string"===r?(e=Lt(n))?(n=e,kn):Cn:n instanceof Lt?kn:n instanceof Date?function(n,e){var r=new Date;return e-=n=+n,function(t){return r.setTime(n+e*t),r}}:Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=An(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=An(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:Sn)(t,n)}function zn(n,e){return e-=n=+n,function(t){return Math.round(n+e*t)}}var Fn,Dn,Pn,jn,Un=180/Math.PI,Bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ln(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Un,skewX:Math.atan(c)*Un,scaleX:a,scaleY:u}}function On(h,p,d,g){function v(t){return t.length?t.pop()+" ":""}return function(t,n){var e,r,i,o,a,u,c,f,l=[],s=[];return t=h(t),n=h(n),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push("translate(",null,p,null,d);o.push({i:a-4,x:Sn(t,e)},{i:a-2,x:Sn(n,r)})}else(e||r)&&i.push("translate("+e+p+r+d)}(t.translateX,t.translateY,n.translateX,n.translateY,l,s),e=t.rotate,r=n.rotate,i=l,o=s,e!==r?(180<e-r?r+=360:180<r-e&&(e+=360),o.push({i:i.push(v(i)+"rotate(",null,g)-2,x:Sn(e,r)})):r&&i.push(v(i)+"rotate("+r+g),a=t.skewX,u=n.skewX,c=l,f=s,a!==u?f.push({i:c.push(v(c)+"skewX(",null,g)-2,x:Sn(a,u)}):u&&c.push(v(c)+"skewX("+u+g),function(t,n,e,r,i,o){if(t!==e||n!==r){var a=i.push(v(i)+"scale(",null,",",null,")");o.push({i:a-4,x:Sn(t,e)},{i:a-2,x:Sn(n,r)})}else 1===e&&1===r||i.push(v(i)+"scale("+e+","+r+")")}(t.scaleX,t.scaleY,n.scaleX,n.scaleY,l,s),t=n=null,function(t){for(var n,e=-1,r=s.length;++e<r;)l[(n=s[e]).i]=n.x(t);return l.join("")}}}var Yn=On(function(t){return"none"===t?Bn:(Fn||(Fn=document.createElement("DIV"),Dn=document.documentElement,Pn=document.defaultView),Fn.style.transform=t,t=Pn.getComputedStyle(Dn.appendChild(Fn),null).getPropertyValue("transform"),Dn.removeChild(Fn),Ln(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Rn=On(function(t){return null==t?Bn:(jn||(jn=document.createElementNS("http://www.w3.org/2000/svg","g")),jn.setAttribute("transform",t),(t=jn.transform.baseVal.consolidate())?Ln((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Bn)},", ",")",")"),qn=Math.SQRT2,Hn=2,$n=4,In=1e-12;function Xn(t){return((t=Math.exp(t))+1/t)/2}function Zn(t,n){var e,a,u=t[0],c=t[1],f=t[2],r=n[0],i=n[1],o=n[2],l=r-u,s=i-c,h=l*l+s*s;if(h<In)a=Math.log(o/f)/qn,e=function(t){return[u+t*l,c+t*s,f*Math.exp(qn*t*a)]};else{var p=Math.sqrt(h),d=(o*o-f*f+$n*h)/(2*f*Hn*p),g=(o*o-f*f-$n*h)/(2*o*Hn*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);a=(m-v)/qn,e=function(t){var n,e,r=t*a,i=Xn(v),o=f/(Hn*p)*(i*(e=qn*r+v,((e=Math.exp(2*e))-1)/(e+1))-(n=v,((n=Math.exp(n))-1/n)/2));return[u+o*l,c+o*s,f*i/Xn(qn*r+v)]}}return e.duration=1e3*a,e}function Vn(u){return function t(a){function n(n,t){var e=u((n=bn(n)).h,(t=bn(t)).h),r=En(n.s,t.s),i=En(n.l,t.l),o=En(n.opacity,t.opacity);return function(t){return n.h=e(t),n.s=r(t),n.l=i(Math.pow(t,a)),n.opacity=o(t),n+""}}return a=+a,n.gamma=t,n}(1)}Vn(function(t,n){var e=n-t;return e?xn(t,180<e||e<-180?e-360*Math.round(e/360):e):_n(isNaN(t)?n:t)});var Wn=Vn(En);function Gn(t){return+t}var Qn=[0,1];function Jn(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:(t=e,function(){return t});var t}function Kn(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return a=o<i?(i=e(o,i),r(u,a)):(i=e(i,o),r(a,u)),function(t){return a(i(t))}}function te(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=n(e[u],e[u+1]),a[u]=r(t[u],t[u+1]);return function(t){var n=K(e,t,1,i)-1;return a[n](o[n](t))}}function ne(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[1<r.length?r[0]+r.slice(2):r,+t.slice(e+1)]}function ee(t){return(t=ne(Math.abs(t)))?t[1]:NaN}var re,ie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oe(t){return new ae(t)}function ae(t){if(!(n=ie.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function ue(t,n){var e=ne(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}oe.prototype=ae.prototype,ae.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ce={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ue(100*t,n)},r:ue,s:function(t,n){var e=ne(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(re=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ne(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function fe(t){return t}var le,se,he,pe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function de(t){var n,u,c,x=t.grouping&&t.thousands?(u=t.grouping,c=t.thousands,function(t,n){for(var e=t.length,r=[],i=0,o=u[0],a=0;0<e&&0<o&&(n<a+o+1&&(o=Math.max(1,n-a)),r.push(t.substring(e-=o,e+o)),!((a+=o+1)>n));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}):fe,r=t.currency,M=t.decimal,E=t.numerals?(n=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}):fe,i=t.percent||"%";function a(t){var f=(t=oe(t)).fill,l=t.align,s=t.sign,n=t.symbol,h=t.zero,p=t.width,d=t.comma,g=t.precision,v=t.trim,m=t.type;"n"===m?(d=!0,m="g"):ce[m]||(null==g&&(g=12),v=!0,m="g"),(h||"0"===f&&"="===l)&&(h=!0,f="0",l="=");var y="$"===n?r[0]:"#"===n&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===n?r[1]:/[%p]/.test(m)?i:"",w=ce[m],_=/[defgprs%]/.test(m);function e(t){var n,e,r,i=y,o=b;if("c"===m)o=w(t)+o,t="";else{var a=(t=+t)<0;if(t=w(Math.abs(t),g),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===s?s:"-":"-"===s||"("===s?"":s)+i,o=("s"===m?pe[8+re/3]:"")+o+(a&&"("===s?")":""),_)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?M+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}d&&!h&&(t=x(t,1/0));var u=i.length+t.length+o.length,c=u<p?new Array(p-u+1).join(f):"";switch(d&&h&&(t=x(c+t,c.length?p-o.length:1/0),c=""),l){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return E(t)}return g=null==g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}return{format:a,formatPrefix:function(t,n){var e=a(((t=oe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ee(n)/3))),i=Math.pow(10,-r),o=pe[8+r/3];return function(t){return e(i*t)+o}}}}function ge(t,n,e){var r,i,o,a,u,c,f,l,s,h,p,d,g=t[0],v=t[t.length-1],m=(i=g,o=v,a=null==n?10:n,u=Math.abs(o-i)/Math.max(0,a),c=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),nt<=(f=u/c)?c*=10:et<=f?c*=5:rt<=f&&(c*=2),o<i?-c:c);switch((e=oe(null==e?",f":e)).type){case"s":var y=Math.max(Math.abs(g),Math.abs(v));return null!=e.precision||isNaN((p=m,d=y,r=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ee(d)/3)))-ee(Math.abs(p)))))||(e.precision=r),he(e,y);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN((s=m,h=Math.max(Math.abs(g),Math.abs(v)),s=Math.abs(s),h=Math.abs(h)-s,r=Math.max(0,ee(h)-ee(s))+1))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN((l=m,r=Math.max(0,-ee(Math.abs(l)))))||(e.precision=r-2*("%"===e.type))}return se(e)}function ve(u){var c=u.domain;return u.ticks=function(t){var n=c();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&0<e)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=it(t,n,e))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(t,n){return ge(c(),t,n)},u.nice=function(t){null==t&&(t=10);var n,e=c(),r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=o,o=a,a=n,n=r,r=i,i=n),0<(n=it(o,a,t))?n=it(o=Math.floor(o/n)*n,a=Math.ceil(a/n)*n,t):n<0&&(n=it(o=Math.ceil(o*n)/n,a=Math.floor(a*n)/n,t)),0<n?(e[r]=Math.floor(o/n)*n,e[i]=Math.ceil(a/n)*n,c(e)):n<0&&(e[r]=Math.ceil(o*n)/n,e[i]=Math.floor(a*n)/n,c(e)),u},u}function me(){var n=function(n,e){var r,o,a,u=Qn,c=Qn,f=An,l=!1;function i(){return r=2<Math.min(u.length,c.length)?te:Kn,o=a=null,t}function t(t){return(o||(o=r(u,c,l?(i=n,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=n?0:e<=t?1:r(t)}}):n,f)))(+t);var i}return t.invert=function(t){return(a||(a=r(c,u,Jn,l?(i=e,function(n,e){var r=i(n=+n,e=+e);return function(t){return t<=0?n:1<=t?e:r(t)}}):e)))(+t);var i},t.domain=function(t){return arguments.length?(u=bt.call(t,Gn),i()):u.slice()},t.range=function(t){return arguments.length?(c=wt.call(t),i()):c.slice()},t.rangeRound=function(t){return c=wt.call(t),f=zn,i()},t.clamp=function(t){return arguments.length?(l=!!t,i()):l},t.interpolate=function(t){return arguments.length?(f=t,i()):f},i()}(Jn,Sn);return n.copy=function(){return t=n,me().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},ve(n)}le=de({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),se=le.format,he=le.formatPrefix;var ye=new Date,be=new Date;function we(o,a,e,r){function u(t){return o(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,n){return a(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(t,n,e){var r,i=[];if(t=u.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),a(t,e),o(t),r<t&&t<n;);return i},u.filter=function(e){return we(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;a(t,-1),!e(t););else for(;0<=--n;)for(;a(t,1),!e(t););})},e&&(u.count=function(t,n){return ye.setTime(+t),be.setTime(+n),o(ye),o(be),Math.floor(e(ye,be))},u.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u.filter(r?function(t){return r(t)%n==0}:function(t){return u.count(0,t)%n==0}):u:null}),u}var _e=we(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});_e.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?we(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):_e:null};var xe=6e4,Me=36e5,Ee=(we(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),we(function(t){t.setTime(Math.floor(t/xe)*xe)},function(t,n){t.setTime(+t+n*xe)},function(t,n){return(n-t)/xe},function(t){return t.getMinutes()}),we(function(t){var n=t.getTimezoneOffset()*xe%Me;n<0&&(n+=Me),t.setTime(Math.floor((+t-n)/Me)*Me+n)},function(t,n){t.setTime(+t+n*Me)},function(t,n){return(n-t)/Me},function(t){return t.getHours()}),we(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xe)/864e5},function(t){return t.getDate()-1}));function ke(n){return we(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xe)/6048e5})}var Se=ke(0),Ne=ke(1),Te=(ke(2),ke(3),ke(4)),Ce=(ke(5),ke(6),we(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),we(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Ce.every=function(e){return isFinite(e=Math.floor(e))&&0<e?we(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};we(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*xe)},function(t,n){return(n-t)/xe},function(t){return t.getUTCMinutes()}),we(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Me)},function(t,n){return(n-t)/Me},function(t){return t.getUTCHours()});var Ae=we(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function ze(n){return we(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var Fe=ze(0),De=ze(1),Pe=(ze(2),ze(3),ze(4)),je=(ze(5),ze(6),we(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),we(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function Ue(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Be(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Le(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}je.every=function(e){return isFinite(e=Math.floor(e))&&0<e?we(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Oe,Ye,Re,qe={"-":"",_:" ",0:"0"},He=/^\s*\d+/,$e=/^%/,Ie=/[\\^$*+?|[\]().{}]/g;function Xe(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ze(t){return t.replace(Ie,"\\$&")}function Ve(t){return new RegExp("^(?:"+t.map(Ze).join("|")+")","i")}function We(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Ge(t,n,e){var r=He.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Qe(t,n,e){var r=He.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Je(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Ke(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function tr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function nr(t,n,e){var r=He.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function er(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),e+r[0].length):-1}function rr(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ir(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function or(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ar(t,n,e){var r=He.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ur(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function cr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function fr(t,n,e){var r=He.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function lr(t,n,e){var r=He.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sr(t,n,e){var r=He.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function hr(t,n,e){var r=$e.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function pr(t,n,e){var r=He.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function dr(t,n,e){var r=He.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function gr(t,n){return Xe(t.getDate(),n,2)}function vr(t,n){return Xe(t.getHours(),n,2)}function mr(t,n){return Xe(t.getHours()%12||12,n,2)}function yr(t,n){return Xe(1+Ee.count(Ce(t),t),n,3)}function br(t,n){return Xe(t.getMilliseconds(),n,3)}function wr(t,n){return br(t,n)+"000"}function _r(t,n){return Xe(t.getMonth()+1,n,2)}function xr(t,n){return Xe(t.getMinutes(),n,2)}function Mr(t,n){return Xe(t.getSeconds(),n,2)}function Er(t){var n=t.getDay();return 0===n?7:n}function kr(t,n){return Xe(Se.count(Ce(t),t),n,2)}function Sr(t,n){var e=t.getDay();return t=4<=e||0===e?Te(t):Te.ceil(t),Xe(Te.count(Ce(t),t)+(4===Ce(t).getDay()),n,2)}function Nr(t){return t.getDay()}function Tr(t,n){return Xe(Ne.count(Ce(t),t),n,2)}function Cr(t,n){return Xe(t.getFullYear()%100,n,2)}function Ar(t,n){return Xe(t.getFullYear()%1e4,n,4)}function zr(t){var n=t.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Xe(n/60|0,"0",2)+Xe(n%60,"0",2)}function Fr(t,n){return Xe(t.getUTCDate(),n,2)}function Dr(t,n){return Xe(t.getUTCHours(),n,2)}function Pr(t,n){return Xe(t.getUTCHours()%12||12,n,2)}function jr(t,n){return Xe(1+Ae.count(je(t),t),n,3)}function Ur(t,n){return Xe(t.getUTCMilliseconds(),n,3)}function Br(t,n){return Ur(t,n)+"000"}function Lr(t,n){return Xe(t.getUTCMonth()+1,n,2)}function Or(t,n){return Xe(t.getUTCMinutes(),n,2)}function Yr(t,n){return Xe(t.getUTCSeconds(),n,2)}function Rr(t){var n=t.getUTCDay();return 0===n?7:n}function qr(t,n){return Xe(Fe.count(je(t),t),n,2)}function Hr(t,n){var e=t.getUTCDay();return t=4<=e||0===e?Pe(t):Pe.ceil(t),Xe(Pe.count(je(t),t)+(4===je(t).getUTCDay()),n,2)}function $r(t){return t.getUTCDay()}function Ir(t,n){return Xe(De.count(je(t),t),n,2)}function Xr(t,n){return Xe(t.getUTCFullYear()%100,n,2)}function Zr(t,n){return Xe(t.getUTCFullYear()%1e4,n,4)}function Vr(){return"+0000"}function Wr(){return"%"}function Gr(t){return+t}function Qr(t){return Math.floor(+t/1e3)}Oe=function(t){var r=t.dateTime,i=t.date,o=t.time,n=t.periods,e=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=Ve(n),l=We(n),s=Ve(e),h=We(e),p=Ve(a),d=We(a),g=Ve(u),v=We(u),m=Ve(c),y=We(c),b={a:function(t){return a[t.getDay()]},A:function(t){return e[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:gr,e:gr,f:wr,H:vr,I:mr,j:yr,L:br,m:_r,M:xr,p:function(t){return n[+(12<=t.getHours())]},Q:Gr,s:Qr,S:Mr,u:Er,U:kr,V:Sr,w:Nr,W:Tr,x:null,X:null,y:Cr,Y:Ar,Z:zr,"%":Wr},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return e[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Fr,e:Fr,f:Br,H:Dr,I:Pr,j:jr,L:Ur,m:Lr,M:Or,p:function(t){return n[+(12<=t.getUTCHours())]},Q:Gr,s:Qr,S:Yr,u:Rr,U:qr,V:Hr,w:$r,W:Ir,x:null,X:null,y:Xr,Y:Zr,Z:Vr,"%":Wr},_={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return E(t,r,n,e)},d:or,e:or,f:sr,H:ur,I:ur,j:ar,L:lr,m:ir,M:cr,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:pr,s:dr,S:fr,u:Qe,U:Je,V:Ke,w:Ge,W:tr,x:function(t,n,e){return E(t,i,n,e)},X:function(t,n,e){return E(t,o,n,e)},y:er,Y:nr,Z:rr,"%":hr};function x(c,f){return function(t){var n,e,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(e=qe[n=c.charAt(++o)])?n=c.charAt(++o):e="e"===n?" ":"0",(r=f[n])&&(n=r(t,e)),i.push(n),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function M(i,o){return function(t){var n,e,r=Le(1900);if(E(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),r.d="Z"in r?(n=4<(e=(n=Be(Le(r.y))).getUTCDay())||0===e?De.ceil(n):De(n),n=Ae.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=o(Le(r.y))).getDay())||0===e?Ne.ceil(n):Ne(n),n=Ee.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?Be(Le(r.y)).getUTCDay():o(Le(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Be(r)):o(r)}}function E(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(c<=r)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=_[i in qe?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=x(i,b),b.X=x(o,b),b.c=x(r,b),w.x=x(i,w),w.X=x(o,w),w.c=x(r,w),{format:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Ue);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,Be);return n.toString=function(){return t},n}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Oe.format,Oe.parse,Ye=Oe.utcFormat,Re=Oe.utcParse;var Jr="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Ye(Jr);+new Date("2000-01-01T00:00:00.000Z")||Re(Jr);var Kr={value:function(){}};function ti(){for(var t,n=arguments,e=0,r=arguments.length,i={};e<r;++e){if(!(t=n[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new ni(i)}function ni(t){this._=t}function ei(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function ri(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Kr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function ii(){Q.preventDefault(),Q.stopImmediatePropagation()}ni.prototype=ti.prototype={constructor:ni,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=ri(i[e],t.name,n);else if(null==n)for(e in i)i[e]=ri(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=ei(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ni(t)},call:function(t,n){var e=arguments;if(0<(r=arguments.length-2))for(var r,i,o=new Array(r),a=0;a<r;++a)o[a]=e[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,r=(i=this._[t]).length;a<r;++a)i[a].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var oi,ai,ui=0,ci=0,fi=0,li=1e3,si=0,hi=0,pi=0,di="object"==typeof performance&&performance.now?performance:Date,gi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vi(){return hi||(gi(mi),hi=di.now()+pi)}function mi(){hi=0}function yi(){this._call=this._time=this._next=null}function bi(t,n,e){var r=new yi;return r.restart(t,n,e),r}function wi(){hi=(si=di.now())+pi,ui=ci=0;try{!function(){vi(),++ui;for(var t,n=oi;n;)0<=(t=hi-n._time)&&n._call.call(null,t),n=n._next;--ui}()}finally{ui=0,function(){var t,n,e=oi,r=1/0;for(;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:oi=n);ai=t,xi(r)}(),hi=0}}function _i(){var t=di.now(),n=t-si;li<n&&(pi-=n,si=t)}function xi(t){ui||(ci&&(ci=clearTimeout(ci)),24<t-hi?(t<1/0&&(ci=setTimeout(wi,t-di.now()-pi)),fi&&(fi=clearInterval(fi))):(fi||(si=di.now(),fi=setInterval(_i,li)),ui=1,gi(wi)))}function Mi(n,e,t){var r=new yi;return e=null==e?0:+e,r.restart(function(t){r.stop(),n(t+e)},e,t),r}yi.prototype=bi.prototype={constructor:yi,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?vi():+e)+(null==n?0:+n),this._next||ai===this||(ai?ai._next=this:oi=this,ai=this),this._call=t,this._time=e,xi()},stop:function(){this._call&&(this._call=null,this._time=1/0,xi())}};var Ei=ti("start","end","interrupt"),ki=[],Si=0,Ni=1,Ti=2,Ci=3,Ai=4,zi=5,Fi=6;function Di(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(o,a,u){var c,f=o.__transition;function l(t){var n,e,r,i;if(u.state!==Ni)return h();for(n in f)if((i=f[n]).name===u.name){if(i.state===Ci)return Mi(l);i.state===Ai?(i.state=Fi,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete f[n]):+n<a&&(i.state=Fi,i.timer.stop(),delete f[n])}if(Mi(function(){u.state===Ci&&(u.state=Ai,u.timer.restart(s,u.delay,u.time),s(t))}),u.state=Ti,u.on.call("start",o,o.__data__,u.index,u.group),u.state===Ti){for(u.state=Ci,c=new Array(r=u.tween.length),n=0,e=-1;n<r;++n)(i=u.tween[n].value.call(o,o.__data__,u.index,u.group))&&(c[++e]=i);c.length=e+1}}function s(t){for(var n=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=zi,1),e=-1,r=c.length;++e<r;)c[e].call(null,n);u.state===zi&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=Fi,u.timer.stop(),delete f[a],f)return;delete o.__transition}(f[a]=u).timer=bi(function(t){u.state=Ni,u.timer.restart(l,u.delay,u.time),u.delay<=t&&l(t-u.delay)},0,u.time)}(t,e,{name:n,index:r,group:i,on:Ei,tween:ki,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Si})}function Pi(t,n){var e=Ui(t,n);if(e.state>Si)throw new Error("too late; already scheduled");return e}function ji(t,n){var e=Ui(t,n);if(e.state>Ti)throw new Error("too late; already started");return e}function Ui(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Bi(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Ti&&e.state<zi,e.state=Fi,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Li(t,n,e){var r=t._id;return t.each(function(){var t=ji(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ui(t,r).value[n]}}function Oi(t,n){var e;return("number"==typeof n?Sn:n instanceof Lt?kn:(e=Lt(n))?(n=e,kn):Cn)(t,n)}var Yi=q.prototype.constructor;var Ri=0;function qi(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Hi(){return++Ri}var $i=q.prototype;qi.prototype=function(t){return q().transition(t)}.prototype={constructor:qi,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,f=r[a],l=f.length,s=o[a]=new Array(l),h=0;h<l;++h)(u=f[h])&&(c=t.call(u,u.__data__,h,f))&&("__data__"in u&&(c.__data__=u.__data__),s[h]=c,Di(s[h],n,e,h,s,Ui(u,e)));return new qi(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=m(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,f=r[u],l=f.length,s=0;s<l;++s)if(c=f[s]){for(var h,p=t.call(c,c.__data__,s,f),d=Ui(c,e),g=0,v=p.length;g<v;++g)(h=p[g])&&Di(h,n,e,g,p,d);o.push(p),a.push(c)}return new qi(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],f=0;f<u;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&c.push(o);return new qi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,f=n[u],l=e[u],s=f.length,h=a[u]=new Array(s),p=0;p<s;++p)(c=f[p]||l[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new qi(a,this._parents,this._name,this._id)},selection:function(){return new Yi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Hi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,f=0;f<c;++f)if(a=u[f]){var l=Ui(a,n);Di(a,t,e,f,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new qi(r,this._parents,t,e)},call:$i.call,nodes:$i.nodes,node:$i.node,size:$i.size,empty:$i.empty,each:$i.each,on:function(t,n){var e,r,i,o,a,u,c=this._id;return arguments.length<2?Ui(this.node(),c).on.on(t):this.each((e=c,i=n,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return 0<=n&&(t=t.slice(0,n)),!t||"start"===t})?Pi:ji,function(){var t=u(this,e),n=t.on;n!==o&&(a=(o=n).copy()).on(r,i),t.on=a}))},attr:function(t,n){var e=o(t),r="transform"===e?Rn:Oi;return this.attrTween(t,"function"==typeof n?(e.local?function(e,r,i){var o,a,u;return function(){var t,n=i(this);if(null!=n)return(t=this.getAttributeNS(e.space,e.local))===n?null:t===o&&n===a?u:u=r(o=t,a=n);this.removeAttributeNS(e.space,e.local)}}:function(e,r,i){var o,a,u;return function(){var t,n=i(this);if(null!=n)return(t=this.getAttribute(e))===n?null:t===o&&n===a?u:u=r(o=t,a=n);this.removeAttribute(e)}})(e,r,Li(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(n,e,r){var i,o;return function(){var t=this.getAttributeNS(n.space,n.local);return t===r?null:t===i?o:o=e(i=t,r)}}:function(n,e,r){var i,o;return function(){var t=this.getAttribute(n);return t===r?null:t===i?o:o=e(i=t,r)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=o(t);return this.tween(e,(r.local?function(r,t){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.setAttributeNS(r.space,r.local,e(t))}}return n._value=t,n}:function(r,t){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.setAttribute(r,e(t))}}return n._value=t,n})(r,n))},style:function(t,n,e){var r,i,o,a,u,c,f,l,s,h,p,d,g,v,m,y,b,w="transform"==(t+="")?Yn:Oi;return null==n?this.styleTween(t,(g=t,v=w,function(){var t=E(this,g),n=(this.style.removeProperty(g),E(this,g));return t===n?null:t===m&&n===y?b:b=v(m=t,y=n)})).on("end.style."+t,(d=t,function(){this.style.removeProperty(d)})):this.styleTween(t,"function"==typeof n?(f=w,l=Li(this,"style."+(c=t),n),function(){var t=E(this,c),n=l(this);return null==n&&(this.style.removeProperty(c),n=E(this,c)),t===n?null:t===s&&n===h?p:p=f(s=t,h=n)}):(r=t,i=w,o=n+"",function(){var t=E(this,r);return t===o?null:t===a?u:u=i(a=t,o)}),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(r,t,i){function n(){var n=this,e=t.apply(n,arguments);return e&&function(t){n.style.setProperty(r,e(t),i)}}return n._value=t,n}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?(e=Li(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}));var n,e},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ui(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(i,o){var a,u;return function(){var t=ji(this,i),n=t.tween;if(n!==a)for(var e=0,r=(u=a=n).length;e<r;++e)if(u[e].name===o){(u=u.slice()).splice(e,1);break}t.tween=u}}:function(o,a,u){var c,f;if("function"!=typeof u)throw new Error;return function(){var t=ji(this,o),n=t.tween;if(n!==c){f=(c=n).slice();for(var e={name:a,value:u},r=0,i=f.length;r<i;++r)if(f[r].name===a){f[r]=e;break}r===i&&f.push(e)}t.tween=f}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Pi(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Pi(this,t).delay=n}})(n,t)):Ui(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ji(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ji(this,t).duration=n}})(n,t)):Ui(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){ji(this,t).ease=n}}(n,t)):Ui(this.node(),n).ease}};Math.PI,Math.PI;var Ii={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Xi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ii.time=vi(),Ii;return e}function Zi(t){return function(){return t}}function Vi(t,n,e){this.target=t,this.type=n,this.transform=e}function Wi(t,n,e){this.k=t,this.x=n,this.y=e}q.prototype.interrupt=function(t){return this.each(function(){Bi(this,t)})},q.prototype.transition=function(t){var n,e;t=t instanceof qi?(n=t._id,t._name):(n=Hi(),(e=Ii).time=vi(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,f=0;f<c;++f)(a=u[f])&&Di(a,t,n,f,u,e||Xi(a,n));return new qi(r,this._parents,t,n)},Wi.prototype={constructor:Wi,scale:function(t){return 1===t?this:new Wi(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Wi(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gi=new Wi(1,0,0);function Qi(t){return t.__zoom||Gi}function Ji(){Q.stopImmediatePropagation()}function Ki(){Q.preventDefault(),Q.stopImmediatePropagation()}function to(){return!Q.button}function no(){var t,n,e=this;return n=e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,e.height.baseVal.value):(t=e.clientWidth,e.clientHeight),[[0,0],[t,n]]}function eo(){return this.__zoom||Gi}function ro(){return-Q.deltaY*(Q.deltaMode?120:1)/500}function io(){return"ontouchstart"in this}function oo(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<a?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ao(){var p,c,f=to,l=no,d=oo,i=ro,n=io,o=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],a=250,s=Zn,u=[],e=ti("start","zoom","end"),h=500,v=150,m=0;function y(t){t.property("__zoom",eo).on("wheel.zoom",r).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(n).on("touchstart.zoom",N).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,n){return(n=Math.max(o[0],Math.min(o[1],n)))===t.k?t:new Wi(n,t.x,t.y)}function w(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Wi(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,c,f){t.on("start.zoom",function(){M(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=M(this,t),n=l.apply(this,t),i=f||_(n),o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),e=this.__zoom,a="function"==typeof c?c.apply(this,t):c,u=s(e.invert(i).concat(o/e.k),a.invert(i).concat(o/a.k));return function(t){if(1===t)t=a;else{var n=u(t),e=o/n[2];t=new Wi(e,i[0]-n[0]*e,i[1]-n[1]*e)}r.zoom(null,t)}})}function M(t,n){for(var e,r=0,i=u.length;r<i;++r)if((e=u[r]).that===t)return e;return new E(t,n)}function E(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=l.apply(t,n)}function r(){if(f.apply(this,arguments)){var t=M(this,arguments),n=this.__zoom,e=Math.max(o[0],Math.min(o[1],n.k*Math.pow(2,i.apply(this,arguments)))),r=X(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=n.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[r,n.invert(r)],Bi(this),t.start()}Ki(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},v),t.zoom("mouse",d(w(b(n,e),t.mouse[0],t.mouse[1]),t.extent,g))}}function k(){if(!c&&f.apply(this,arguments)){var t,n,e,i=M(this,arguments),o=J(Q.view).on("mousemove.zoom",function(){if(Ki(),!i.moved){var t=Q.clientX-a,n=Q.clientY-u;i.moved=m<t*t+n*n}i.zoom("mouse",d(w(i.that.__zoom,i.mouse[0]=X(i.that),i.mouse[1]),i.extent,g))},!0).on("mouseup.zoom",function(){o.on("mousemove.zoom mouseup.zoom",null),t=Q.view,n=i.moved,e=t.document.documentElement,r=J(t).on("dragstart.drag",null),n&&(r.on("click.drag",ii,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect),Ki(),i.end();var t,n,e,r},!0),r=X(this),a=Q.clientX,u=Q.clientY;t=Q.view,n=t.document.documentElement,e=J(t).on("dragstart.drag",ii,!0),"onselectstart"in n?e.on("selectstart.drag",ii,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none"),Ji(),i.mouse=[r,this.__zoom.invert(r)],Bi(this),i.start()}}function S(){if(f.apply(this,arguments)){var t=this.__zoom,n=X(this),e=t.invert(n),r=t.k*(Q.shiftKey?.5:2),i=d(w(b(t,r),n,e),l.apply(this,arguments),g);Ki(),0<a?J(this).transition().duration(a).call(x,i,n):J(this).call(y.transform,i)}}function N(){if(f.apply(this,arguments)){var t,n,e,r,i=M(this,arguments),o=Q.changedTouches,a=o.length;for(Ji(),n=0;n<a;++n)r=[r=Z(this,o,(e=o[n]).identifier),this.__zoom.invert(r),e.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(p&&(p=clearTimeout(p),!i.touch1))return i.end(),void((r=J(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(p=setTimeout(function(){p=null},h),Bi(this),i.start())}}function T(){var t,n,e,r,i=M(this,arguments),o=Q.changedTouches,a=o.length;for(Ki(),p&&(p=clearTimeout(p)),t=0;t<a;++t)e=Z(this,o,(n=o[t]).identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var u=i.touch0[0],c=i.touch0[1],f=i.touch1[0],l=i.touch1[1],s=(s=f[0]-u[0])*s+(s=f[1]-u[1])*s,h=(h=l[0]-c[0])*h+(h=l[1]-c[1])*h;n=b(n,Math.sqrt(s/h)),e=[(u[0]+f[0])/2,(u[1]+f[1])/2],r=[(c[0]+l[0])/2,(c[1]+l[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",d(w(n,e,r),i.extent,g))}function C(){var t,n,e=M(this,arguments),r=Q.changedTouches,i=r.length;for(Ji(),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}return y.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",eo),t!==e?x(t,n):e.interrupt().each(function(){M(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},y.scaleBy=function(t,n){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},y.scaleTo=function(t,o){y.transform(t,function(){var t=l.apply(this,arguments),n=this.__zoom,e=_(t),r=n.invert(e),i="function"==typeof o?o.apply(this,arguments):o;return d(w(b(n,i),e,r),t,g)})},y.translateBy=function(t,n,e){y.transform(t,function(){return d(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),l.apply(this,arguments),g)})},y.translateTo=function(t,r,i){y.transform(t,function(){var t=l.apply(this,arguments),n=this.__zoom,e=_(t);return d(Gi.translate(e[0],e[1]).scale(n.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,g)})},E.prototype={start:function(){return 1==++this.active&&(this.index=u.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(u.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=Q;t.sourceEvent=Q,Q=t;try{n.apply(e,r)}finally{Q=i}}(new Vi(y,t,this.that.__zoom),e.apply,e,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:Zi(+t),y):i},y.filter=function(t){return arguments.length?(f="function"==typeof t?t:Zi(!!t),y):f},y.touchable=function(t){return arguments.length?(n="function"==typeof t?t:Zi(!!t),y):n},y.extent=function(t){return arguments.length?(l="function"==typeof t?t:Zi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):l},y.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],y):[o[0],o[1]]},y.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],y):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},y.constrain=function(t){return arguments.length?(d=t,y):d},y.duration=function(t){return arguments.length?(a=+t,y):a},y.interpolate=function(t){return arguments.length?(s=t,y):s},y.on=function(){var t=e.on.apply(e,arguments);return t===e?y:t},y.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,y):Math.sqrt(m)},y}function uo(r,i){var t=this.node();return t?t.getBBox?this.attr("transform",function(t,n){var e="function"==typeof r?r.call(this,t,n):r;return 0===i?e=[e,0]:1===i&&(e=[0,e]),"translate("+e[0]+","+e[1]+")"}):this.style("transform",function(t,n){var e="function"==typeof r?r.call(this,t,n):r;return 0===i?e=[e,0]:1===i&&(e=[0,e]),"translate("+e[0]+"px,"+e[1]+"px)"}):this}function co(t){if("string"!=typeof t)return t;var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}function fo(t){var n,e;n="function"==typeof t?t:u((e=co(t)).tag);var r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r}function lo(){return null}function so(t,e){return this.selectAll("tspan").data(function(n){return("function"==typeof t?t(n):t).map(function(t){return{line:t,parent:n}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,n){return n?("function"==typeof e?e(t.parent,t.line,n):e)||15:0})}function ho(t,n){if("object"!=typeof t)return 1==arguments.length?this.attr(t):this.attr(t,n);for(var e in t)this.attr(e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}function po(){for(var r=arguments,t=0,n=r.length;t<n;)"string"!=typeof r[t]&&"number"!=typeof r[t]||(r[t]=function(n){return function(t){return t[n]}}(r[t])),t++;return function(t){for(var n=0,e=r.length;n++<e;)t=r[n-1].call(this,t);return t}}function go(t,n){if("object"!=typeof t)return 1==arguments.length?this.style(t):r(this,t,n);for(var e in t)r(this,e,t[e]);return this;function r(t,n,e){n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();var r;return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(n)?t.style(n,"function"==typeof e?(r=e,function(){var t=r.apply(this,arguments);return i(t)}):i(e)):t.style(n,e),t}function i(t){return t.match?t:t+"px"}}Qi.prototype=Wi.prototype,po.not=function(t){return!t},po.run=function(t){return t()},po.objToFn=function(n,e){return 1==arguments.length&&(e=void 0),function(t){return void 0!==n[t]?n[t]:e}};var vo={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function mo(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}mo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),mo("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),mo("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),mo("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Wn(bn(300,.5,0),bn(-240,.5,1));Wn(bn(-100,.75,.35),bn(80,1.5,.8)),Wn(bn(260,.75,.35),bn(80,1.5,.8)),bn();function yo(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}yo(mo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));yo(mo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),yo(mo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yo(mo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var bo={},wo={};function _o(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function xo(o){var n=new RegExp('["'+o+"\n\r]"),s=o.charCodeAt(0);function e(r,t){var n,e=[],i=r.length,o=0,a=0,u=i<=0,c=!1;function f(){if(u)return wo;if(c)return c=!1,bo;var t,n,e=o;if(34===r.charCodeAt(e)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?u=!0:10===(n=r.charCodeAt(o++))?c=!0:13===n&&(c=!0,10===r.charCodeAt(o)&&++o),r.slice(e+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(n=r.charCodeAt(t=o++)))c=!0;else if(13===n)c=!0,10===r.charCodeAt(o)&&++o;else if(n!==s)continue;return r.slice(e,t)}return u=!0,r.slice(e,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(n=f())!==wo;){for(var l=[];n!==bo&&n!==wo;)l.push(n),n=f();t&&null==(l=t(l,a++))||e.push(l)}return e}function r(t){return t.map(a).join(o)}function a(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,u,n=e(t,function(t,n){if(a)return a(t,n-1);var e,r,i;u=t,a=o?(r=o,i=_o(e=t),function(t,n){return r(i(t),n,e)}):_o(t)});return n.columns=u||[],n},parseRows:e,format:function(t,e){var n,r,i;return null==e&&(n=t,r=Object.create(null),i=[],n.forEach(function(t){for(var n in t)n in r||i.push(r[n]=n)}),e=i),[e.map(a).join(o)].concat(t.map(function(n){return e.map(function(t){return a(n[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}}xo(","),xo("\t");function Mo(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)}function Eo(){return new ko}function ko(){this.reset()}q.prototype.translate=uo,q.prototype.append=fo,q.prototype.insert=function(t,n){var e=co(t),r=u(e.tag),i=null==n?lo:"function"==typeof n?n:p(n),o=this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)});for(var a in e.attr)o.attr(a,e.attr[a]);return o},q.prototype.parent=function(){var t=[];return this.filter(function(){return!(-1<t.indexOf(this.parentNode)||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},q.prototype.selectAppend=function(t){var n,e=p(t),r=co(t);for(var i in t=u(r.tag),n=this.select(function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),r.attr)n.attr(i,r.attr[i]);return n},q.prototype.tspans=so,q.prototype.appendMany=function(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)},q.prototype.at=ho,q.prototype.st=go,q.prototype.prop=q.prototype.property,ko.prototype={constructor:ko,reset:function(){this.s=this.t=0},add:function(t){No(So,t,this.t),No(this,So.s,this.s),this.s?this.t+=So.t:this.s=So.t},valueOf:function(){return this.s}};var So=new ko;function No(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var To=1e-6,Co=1e-12,Ao=Math.PI,zo=Ao/2,Fo=Ao/4,Do=2*Ao,Po=180/Ao,jo=Ao/180,Uo=Math.abs,Bo=Math.atan,Lo=Math.atan2,Oo=Math.cos,Yo=Math.ceil,Ro=Math.exp,qo=Math.log,Ho=Math.pow,$o=Math.sin,Io=Math.sign||function(t){return 0<t?1:t<0?-1:0},Xo=Math.sqrt,Zo=Math.tan;function Vo(t){return 1<t?0:t<-1?Ao:Math.acos(t)}function Wo(t){return 1<t?zo:t<-1?-zo:Math.asin(t)}function Go(t){return(t=$o(t/2))*t}function Qo(){}function Jo(t,n){t&&ta.hasOwnProperty(t.type)&&ta[t.type](t,n)}var Ko={Feature:function(t,n){Jo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Jo(e[r].geometry,n)}},ta={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){na(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)na(e[r],n,0)},Polygon:function(t,n){ea(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ea(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Jo(e[r],n)}};function na(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ea(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)na(t[e],n,1);n.polygonEnd()}function ra(t,n){t&&Ko.hasOwnProperty(t.type)?Ko[t.type](t,n):Jo(t,n)}var ia,oa,aa,ua,ca,fa=Eo(),la=Eo(),sa={point:Qo,lineStart:Qo,lineEnd:Qo,polygonStart:function(){fa.reset(),sa.lineStart=ha,sa.lineEnd=pa},polygonEnd:function(){var t=+fa;la.add(t<0?Do+t:t),this.lineStart=this.lineEnd=this.point=Qo},sphere:function(){la.add(Do)}};function ha(){sa.point=da}function pa(){ga(ia,oa)}function da(t,n){sa.point=ga,ia=t,oa=n,aa=t*=jo,ua=Oo(n=(n*=jo)/2+Fo),ca=$o(n)}function ga(t,n){var e=(t*=jo)-aa,r=0<=e?1:-1,i=r*e,o=Oo(n=(n*=jo)/2+Fo),a=$o(n),u=ca*a,c=ua*o+u*Oo(i),f=u*r*$o(i);fa.add(Lo(f,c)),aa=t,ua=o,ca=a}function va(t){return[Lo(t[1],t[0]),Wo(t[2])]}function ma(t){var n=t[0],e=t[1],r=Oo(e);return[r*Oo(n),r*$o(n),$o(e)]}function ya(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ba(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function wa(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function _a(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function xa(t){var n=Xo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Ma,Ea,ka,Sa,Na,Ta,Ca,Aa,za,Fa,Da,Pa,ja,Ua,Ba,La,Oa,Ya,Ra,qa,Ha,$a,Ia,Xa,Za,Va,Wa=Eo(),Ga={point:Qa,lineStart:Ka,lineEnd:tu,polygonStart:function(){Ga.point=nu,Ga.lineStart=eu,Ga.lineEnd=ru,Wa.reset(),sa.polygonStart()},polygonEnd:function(){sa.polygonEnd(),Ga.point=Qa,Ga.lineStart=Ka,Ga.lineEnd=tu,fa<0?(Ma=-(ka=180),Ea=-(Sa=90)):To<Wa?Sa=90:Wa<-To&&(Ea=-90),Fa[0]=Ma,Fa[1]=ka}};function Qa(t,n){za.push(Fa=[Ma=t,ka=t]),n<Ea&&(Ea=n),Sa<n&&(Sa=n)}function Ja(t,n){var e=ma([t*jo,n*jo]);if(Aa){var r=ba(Aa,e),i=ba([r[1],-r[0],0],r);xa(i),i=va(i);var o,a=t-Na,u=0<a?1:-1,c=i[0]*Po*u,f=180<Uo(a);f^(u*Na<c&&c<u*t)?(o=i[1]*Po,Sa<o&&(Sa=o)):f^(u*Na<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*Po)<Ea&&(Ea=o):(n<Ea&&(Ea=n),Sa<n&&(Sa=n)),f?t<Na?iu(Ma,t)>iu(Ma,ka)&&(ka=t):iu(t,ka)>iu(Ma,ka)&&(Ma=t):Ma<=ka?(t<Ma&&(Ma=t),ka<t&&(ka=t)):Na<t?iu(Ma,t)>iu(Ma,ka)&&(ka=t):iu(t,ka)>iu(Ma,ka)&&(Ma=t)}else za.push(Fa=[Ma=t,ka=t]);n<Ea&&(Ea=n),Sa<n&&(Sa=n),Aa=e,Na=t}function Ka(){Ga.point=Ja}function tu(){Fa[0]=Ma,Fa[1]=ka,Ga.point=Qa,Aa=null}function nu(t,n){if(Aa){var e=t-Na;Wa.add(180<Uo(e)?e+(0<e?360:-360):e)}else Ta=t,Ca=n;sa.point(t,n),Ja(t,n)}function eu(){sa.lineStart()}function ru(){nu(Ta,Ca),sa.lineEnd(),Uo(Wa)>To&&(Ma=-(ka=180)),Fa[0]=Ma,Fa[1]=ka,Aa=null}function iu(t,n){return(n-=t)<0?n+360:n}function ou(t,n){return t[0]-n[0]}function au(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var uu={sphere:Qo,point:cu,lineStart:lu,lineEnd:pu,polygonStart:function(){uu.lineStart=du,uu.lineEnd=gu},polygonEnd:function(){uu.lineStart=lu,uu.lineEnd=pu}};function cu(t,n){t*=jo;var e=Oo(n*=jo);fu(e*Oo(t),e*$o(t),$o(n))}function fu(t,n,e){ja+=(t-ja)/++Da,Ua+=(n-Ua)/Da,Ba+=(e-Ba)/Da}function lu(){uu.point=su}function su(t,n){t*=jo;var e=Oo(n*=jo);Xa=e*Oo(t),Za=e*$o(t),Va=$o(n),uu.point=hu,fu(Xa,Za,Va)}function hu(t,n){t*=jo;var e=Oo(n*=jo),r=e*Oo(t),i=e*$o(t),o=$o(n),a=Lo(Xo((a=Za*o-Va*i)*a+(a=Va*r-Xa*o)*a+(a=Xa*i-Za*r)*a),Xa*r+Za*i+Va*o);Pa+=a,La+=a*(Xa+(Xa=r)),Oa+=a*(Za+(Za=i)),Ya+=a*(Va+(Va=o)),fu(Xa,Za,Va)}function pu(){uu.point=cu}function du(){uu.point=vu}function gu(){mu($a,Ia),uu.point=cu}function vu(t,n){$a=t,Ia=n,t*=jo,n*=jo,uu.point=mu;var e=Oo(n);Xa=e*Oo(t),Za=e*$o(t),Va=$o(n),fu(Xa,Za,Va)}function mu(t,n){t*=jo;var e=Oo(n*=jo),r=e*Oo(t),i=e*$o(t),o=$o(n),a=Za*o-Va*i,u=Va*r-Xa*o,c=Xa*i-Za*r,f=Xo(a*a+u*u+c*c),l=Wo(f),s=f&&-l/f;Ra+=s*a,qa+=s*u,Ha+=s*c,Pa+=l,La+=l*(Xa+(Xa=r)),Oa+=l*(Za+(Za=i)),Ya+=l*(Va+(Va=o)),fu(Xa,Za,Va)}function yu(t){Da=Pa=ja=Ua=Ba=La=Oa=Ya=Ra=qa=Ha=0,ra(t,uu);var n=Ra,e=qa,r=Ha,i=n*n+e*e+r*r;return i<Co&&(n=La,e=Oa,r=Ya,Pa<To&&(n=ja,e=Ua,r=Ba),(i=n*n+e*e+r*r)<Co)?[NaN,NaN]:[Lo(e,n)*Po,Wo(r/Xo(i))*Po]}function bu(t){return function(){return t}}function wu(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t}function _u(t,n){return[Ao<t?t-Do:t<-Ao?t+Do:t,n]}function xu(t,n,e){return(t%=Do)?n||e?wu(Eu(t),ku(n,e)):Eu(t):n||e?ku(n,e):_u}function Mu(e){return function(t,n){return[Ao<(t+=e)?t-Do:t<-Ao?t+Do:t,n]}}function Eu(t){var n=Mu(t);return n.invert=Mu(-t),n}function ku(t,n){var u=Oo(t),c=$o(t),f=Oo(n),l=$o(n);function e(t,n){var e=Oo(n),r=Oo(t)*e,i=$o(t)*e,o=$o(n),a=o*u+r*c;return[Lo(i*f-a*l,r*u-o*c),Wo(a*f+i*l)]}return e.invert=function(t,n){var e=Oo(n),r=Oo(t)*e,i=$o(t)*e,o=$o(n),a=o*f-i*l;return[Lo(i*f+o*l,r*u+a*c),Wo(a*u-r*c)]},e}function Su(n){function t(t){return(t=n(t[0]*jo,t[1]*jo))[0]*=Po,t[1]*=Po,t}return n=xu(n[0]*jo,n[1]*jo,2<n.length?n[2]*jo:0),t.invert=function(t){return(t=n.invert(t[0]*jo,t[1]*jo))[0]*=Po,t[1]*=Po,t},t}function Nu(t,n,e,r,i,o){if(e){var a=Oo(n),u=$o(n),c=r*e;null==i?(i=n+r*Do,o=n-c/2):(i=Tu(a,i),o=Tu(a,o),(0<r?i<o:o<i)&&(i+=r*Do));for(var f,l=i;0<r?o<l:l<o;l-=c)f=va([a,-u*Oo(l),-u*$o(l)]),t.point(f[0],f[1])}}function Tu(t,n){(n=ma(n))[0]-=t,xa(n);var e=Vo(-n[1]);return((-n[2]<0?-e:e)+Do-To)%Do}function Cu(){var e,n=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){n.push(e=[])},lineEnd:Qo,rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function Au(t,n){return Uo(t[0]-n[0])<To&&Uo(t[1]-n[1])<To}function zu(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Fu(t,n,e,r,o){var a,i,u=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],i=t[n];if(Au(r,i)){for(o.lineStart(),a=0;a<n;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else u.push(e=new zu(r,t,null,!0)),c.push(e.o=new zu(r,null,e,!1)),u.push(e=new zu(i,t,null,!1)),c.push(e.o=new zu(i,null,e,!0))}}),u.length){for(c.sort(n),Du(u),Du(c),a=0,i=c.length;a<i;++a)c[a].e=e=!e;for(var f,l,s=u[0];;){for(var h=s,p=!0;h.v;)if((h=h.n)===s)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,i=f.length;a<i;++a)o.point((l=f[a])[0],l[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(f=h.p.z,a=f.length-1;0<=a;--a)o.point((l=f[a])[0],l[1]);else r(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function Du(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}_u.invert=_u;var Pu=Eo();function ju(t,n){var e=n[0],r=n[1],i=$o(r),o=[$o(e),-Oo(e),0],a=0,u=0;Pu.reset(),1===i?r=zo+To:-1===i&&(r=-zo-To);for(var c=0,f=t.length;c<f;++c)if(s=(l=t[c]).length)for(var l,s,h=l[s-1],p=h[0],d=h[1]/2+Fo,g=$o(d),v=Oo(d),m=0;m<s;++m,p=b,g=_,v=x,h=y){var y=l[m],b=y[0],w=y[1]/2+Fo,_=$o(w),x=Oo(w),M=b-p,E=0<=M?1:-1,k=E*M,S=Ao<k,N=g*_;if(Pu.add(Lo(N*E*$o(k),v*x+N*Oo(k))),a+=S?M+E*Do:M,S^e<=p^e<=b){var T=ba(ma(h),ma(y));xa(T);var C=ba(o,T);xa(C);var A=(S^0<=M?-1:1)*Wo(C[2]);(A<r||r===A&&(T[0]||T[1]))&&(u+=S^0<=M?1:-1)}}return(a<-To||a<To&&Pu<-To)^1&u}function Uu(v,m,y,b){return function(u){var c,f,l,e=m(u),s=Cu(),h=m(s),p=!1,n={point:r,lineStart:i,lineEnd:o,polygonStart:function(){n.point=d,n.lineStart=a,n.lineEnd=g,f=[],c=[]},polygonEnd:function(){n.point=r,n.lineStart=i,n.lineEnd=o,f=ot(f);var t=ju(c,b);f.length?(p||(u.polygonStart(),p=!0),Fu(f,Lu,t,y,u)):t&&(p||(u.polygonStart(),p=!0),u.lineStart(),y(null,null,1,u),u.lineEnd()),p&&(u.polygonEnd(),p=!1),f=c=null},sphere:function(){u.polygonStart(),u.lineStart(),y(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function r(t,n){v(t,n)&&u.point(t,n)}function t(t,n){e.point(t,n)}function i(){n.point=t,e.lineStart()}function o(){n.point=r,e.lineEnd()}function d(t,n){l.push([t,n]),h.point(t,n)}function a(){h.lineStart(),l=[]}function g(){d(l[0][0],l[0][1]),h.lineEnd();var t,n,e,r,i=h.clean(),o=s.result(),a=o.length;if(l.pop(),c.push(l),l=null,a)if(1&i){if(0<(n=(e=o[0]).length-1)){for(p||(u.polygonStart(),p=!0),u.lineStart(),t=0;t<n;++t)u.point((r=e[t])[0],r[1]);u.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),f.push(o.filter(Bu))}return n}}function Bu(t){return 1<t.length}function Lu(t,n){return((t=t.x)[0]<0?t[1]-zo-To:zo-t[1])-((n=n.x)[0]<0?n[1]-zo-To:zo-n[1])}var Ou=Uu(function(){return!0},function(s){var h,p=NaN,d=NaN,g=NaN;return{lineStart:function(){s.lineStart(),h=1},point:function(t,n){var e,r,i,o,a,u,c,f=0<t?Ao:-Ao,l=Uo(t-p);Uo(l-Ao)<To?(s.point(p,d=0<(d+n)/2?zo:-zo),s.point(g,d),s.lineEnd(),s.lineStart(),s.point(f,d),s.point(t,d),h=0):g!==f&&Ao<=l&&(Uo(p-g)<To&&(p-=g*To),Uo(t-f)<To&&(t-=f*To),r=d,o=n,c=$o((e=p)-(i=t)),d=Uo(c)>To?Bo(($o(r)*(u=Oo(o))*$o(i)-$o(o)*(a=Oo(r))*$o(e))/(a*u*c)):(r+o)/2,s.point(g,d),s.lineEnd(),s.lineStart(),s.point(f,d),h=0),s.point(p=t,d=n),g=f},lineEnd:function(){s.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,n,e,r){var i;if(null==t)i=e*zo,r.point(-Ao,i),r.point(0,i),r.point(Ao,i),r.point(Ao,0),r.point(Ao,-i),r.point(0,-i),r.point(-Ao,-i),r.point(-Ao,0),r.point(-Ao,i);else if(Uo(t[0]-n[0])>To){var o=t[0]<n[0]?Ao:-Ao;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Ao,-zo]);function Yu(i){var S=Oo(i),o=6*jo,p=0<S,d=Uo(S)>To;function g(t,n){return Oo(t)*Oo(n)>S}function v(t,n,e){var r=[1,0,0],i=ba(ma(t),ma(n)),o=ya(i,i),a=i[0],u=o-a*a;if(!u)return!e&&t;var c=S*o/u,f=-S*a/u,l=ba(r,i),s=_a(r,c);wa(s,_a(i,f));var h=l,p=ya(s,h),d=ya(h,h),g=p*p-d*(ya(s,s)-1);if(!(g<0)){var v=Xo(g),m=_a(h,(-p-v)/d);if(wa(m,s),m=va(m),!e)return m;var y,b=t[0],w=n[0],_=t[1],x=n[1];w<b&&(y=b,b=w,w=y);var M=w-b,E=Uo(M-Ao)<To;if(!E&&x<_&&(y=_,_=x,x=y),E||M<To?E?0<_+x^m[1]<(Uo(m[0]-b)<To?_:x):_<=m[1]&&m[1]<=x:Ao<M^(b<=m[0]&&m[0]<=w)){var k=_a(h,(-p+v)/d);return wa(k,s),[m,va(k)]}}}function m(t,n){var e=p?i:Ao-i,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}return Uu(g,function(u){var c,f,l,s,h;return{lineStart:function(){s=l=!1,h=1},point:function(t,n){var e,r=[t,n],i=g(t,n),o=p?i?0:m(t,n):i?m(t+(t<0?Ao:-Ao),n):0;if(!c&&(s=l=i)&&u.lineStart(),i!==l&&(!(e=v(c,r))||Au(c,e)||Au(r,e))&&(r[0]+=To,r[1]+=To,i=g(r[0],r[1])),i!==l)h=0,i?(u.lineStart(),e=v(r,c),u.point(e[0],e[1])):(e=v(c,r),u.point(e[0],e[1]),u.lineEnd()),c=e;else if(d&&c&&p^i){var a;o&f||!(a=v(r,c,!0))||(h=0,p?(u.lineStart(),u.point(a[0][0],a[0][1]),u.point(a[1][0],a[1][1]),u.lineEnd()):(u.point(a[1][0],a[1][1]),u.lineEnd(),u.lineStart(),u.point(a[0][0],a[0][1])))}!i||c&&Au(c,r)||u.point(r[0],r[1]),c=r,l=i,f=o},lineEnd:function(){l&&u.lineEnd(),c=null},clean:function(){return h|(s&&l)<<1}}},function(t,n,e,r){Nu(r,i,o,e,t,n)},p?[0,-i]:[-Ao,i-Ao])}var Ru=1e9,qu=-Ru;function Hu(m,y,b,w){function _(t,n){return m<=t&&t<=b&&y<=n&&n<=w}function x(t,n,e,r){var i=0,o=0;if(null==t||(i=a(t,e))!==(o=a(n,e))||u(t,n)<0^0<e)for(;r.point(0===i||3===i?m:b,1<i?w:y),(i=(i+e+4)%4)!==o;);else r.point(n[0],n[1])}function a(t,n){return Uo(t[0]-m)<To?0<n?0:3:Uo(t[0]-b)<To?0<n?2:1:Uo(t[1]-y)<To?0<n?1:0:0<n?3:2}function M(t,n){return u(t.x,n.x)}function u(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(r){var i,s,o,a,u,c,f,l,h,p,d,g=r,t=Cu(),n={point:e,lineStart:function(){n.point=v,s&&s.push(o=[]);p=!0,h=!1,f=l=NaN},lineEnd:function(){i&&(v(a,u),c&&h&&t.rejoin(),i.push(t.result()));n.point=e,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],s=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,e=s.length;n<e;++n)for(var r,i,o=s[n],a=1,u=o.length,c=o[0],f=c[0],l=c[1];a<u;++a)r=f,i=l,c=o[a],f=c[0],l=c[1],i<=w?w<l&&(l-i)*(m-r)<(f-r)*(w-i)&&++t:l<=w&&(f-r)*(w-i)<(l-i)*(m-r)&&--t;return t}(),n=d&&t,e=(i=ot(i)).length;(n||e)&&(r.polygonStart(),n&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),e&&Fu(i,M,t,x,r),r.polygonEnd());g=r,i=s=o=null}};function e(t,n){_(t,n)&&g.point(t,n)}function v(t,n){var e=_(t,n);if(s&&o.push([t,n]),p)a=t,u=n,p=!1,(c=e)&&(g.lineStart(),g.point(t,n));else if(e&&h)g.point(t,n);else{var r=[f=Math.max(qu,Math.min(Ru,f)),l=Math.max(qu,Math.min(Ru,l))],i=[t=Math.max(qu,Math.min(Ru,t)),n=Math.max(qu,Math.min(Ru,n))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],f=0,l=1,s=n[0]-u,h=n[1]-c;if(a=e-u,s||!(0<a)){if(a/=s,s<0){if(a<f)return;a<l&&(l=a)}else if(0<s){if(l<a)return;f<a&&(f=a)}if(a=i-u,s||!(a<0)){if(a/=s,s<0){if(l<a)return;f<a&&(f=a)}else if(0<s){if(a<f)return;a<l&&(l=a)}if(a=r-c,h||!(0<a)){if(a/=h,h<0){if(a<f)return;a<l&&(l=a)}else if(0<h){if(l<a)return;f<a&&(f=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(l<a)return;f<a&&(f=a)}else if(0<h){if(a<f)return;a<l&&(l=a)}return 0<f&&(t[0]=u+f*s,t[1]=c+f*h),l<1&&(n[0]=u+l*s,n[1]=c+l*h),!0}}}}}(r,i,m,y,b,w)?e&&(g.lineStart(),g.point(t,n),d=!1):(h||(g.lineStart(),g.point(r[0],r[1])),g.point(i[0],i[1]),e||g.lineEnd(),d=!1)}f=t,l=n,h=e}return n}}var $u,Iu,Xu,Zu=Eo(),Vu={sphere:Qo,point:Qo,lineStart:function(){Vu.point=Gu,Vu.lineEnd=Wu},lineEnd:Qo,polygonStart:Qo,polygonEnd:Qo};function Wu(){Vu.point=Vu.lineEnd=Qo}function Gu(t,n){$u=t*=jo,Iu=$o(n*=jo),Xu=Oo(n),Vu.point=Qu}function Qu(t,n){t*=jo;var e=$o(n*=jo),r=Oo(n),i=Uo(t-$u),o=Oo(i),a=r*$o(i),u=Xu*e-Iu*r*o,c=Iu*e+Xu*r*o;Zu.add(Lo(Xo(a*a+u*u),c)),$u=t,Iu=e,Xu=r}function Ju(t){return Zu.reset(),ra(t,Vu),+Zu}var Ku=[null,null],tc={type:"LineString",coordinates:Ku};function nc(t,n){return Ku[0]=t,Ku[1]=n,Ju(tc)}var ec={Feature:function(t,n){return ic(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ic(e[r].geometry,n))return!0;return!1}},rc={Sphere:function(){return!0},Point:function(t,n){return oc(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(oc(e[r],n))return!0;return!1},LineString:function(t,n){return ac(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ac(e[r],n))return!0;return!1},Polygon:function(t,n){return uc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(uc(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ic(e[r],n))return!0;return!1}};function ic(t,n){return!(!t||!rc.hasOwnProperty(t.type))&&rc[t.type](t,n)}function oc(t,n){return 0===nc(t,n)}function ac(t,n){var e=nc(t[0],t[1]);return nc(t[0],n)+nc(n,t[1])<=e+To}function uc(t,n){return!!ju(t.map(cc),fc(n))}function cc(t){return(t=t.map(fc)).pop(),t}function fc(t){return[t[0]*jo,t[1]*jo]}function lc(t,n,e){var r=tt(t,n-To,e).concat(n);return function(n){return r.map(function(t){return[n,t]})}}function sc(t,n,e){var r=tt(t,n-To,e).concat(n);return function(n){return r.map(function(t){return[t,n]})}}function hc(){var n,e,r,i,o,a,u,c,f,l,s,h,p=10,d=p,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return tt(Yo(i/g)*g,r,g).map(s).concat(tt(Yo(c/v)*v,u,v).map(h)).concat(tt(Yo(e/p)*p,n,p).filter(function(t){return Uo(t%g)>To}).map(f)).concat(tt(Yo(a/d)*d,o,d).filter(function(t){return Uo(t%v)>To}).map(l))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[s(i).concat(h(u).slice(1),s(r).reverse().slice(1),h(c).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],c=+t[0][1],u=+t[1][1],r<i&&(t=i,i=r,r=t),u<c&&(t=c,c=u,u=t),y.precision(m)):[[i,c],[r,u]]},y.extentMinor=function(t){return arguments.length?(e=+t[0][0],n=+t[1][0],a=+t[0][1],o=+t[1][1],n<e&&(t=e,e=n,n=t),o<a&&(t=a,a=o,o=t),y.precision(m)):[[e,a],[n,o]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(t){return arguments.length?(m=+t,f=lc(a,o,90),l=sc(e,n,m),s=lc(c,u,90),h=sc(i,r,m),y):m},y.extentMajor([[-180,-90+To],[180,90-To]]).extentMinor([[-180,-80-To],[180,80+To]])}function pc(t){return t}var dc,gc,vc,mc,yc=Eo(),bc=Eo(),wc={point:Qo,lineStart:Qo,lineEnd:Qo,polygonStart:function(){wc.lineStart=_c,wc.lineEnd=Ec},polygonEnd:function(){wc.lineStart=wc.lineEnd=wc.point=Qo,yc.add(Uo(bc)),bc.reset()},result:function(){var t=yc/2;return yc.reset(),t}};function _c(){wc.point=xc}function xc(t,n){wc.point=Mc,dc=vc=t,gc=mc=n}function Mc(t,n){bc.add(mc*t-vc*n),vc=t,mc=n}function Ec(){Mc(dc,gc)}var kc=1/0,Sc=kc,Nc=-kc,Tc=Nc,Cc={point:function(t,n){t<kc&&(kc=t);Nc<t&&(Nc=t);n<Sc&&(Sc=n);Tc<n&&(Tc=n)},lineStart:Qo,lineEnd:Qo,polygonStart:Qo,polygonEnd:Qo,result:function(){var t=[[kc,Sc],[Nc,Tc]];return Nc=Tc=-(Sc=kc=1/0),t}};var Ac,zc,Fc,Dc,Pc=0,jc=0,Uc=0,Bc=0,Lc=0,Oc=0,Yc=0,Rc=0,qc=0,Hc={point:$c,lineStart:Ic,lineEnd:Vc,polygonStart:function(){Hc.lineStart=Wc,Hc.lineEnd=Gc},polygonEnd:function(){Hc.point=$c,Hc.lineStart=Ic,Hc.lineEnd=Vc},result:function(){var t=qc?[Yc/qc,Rc/qc]:Oc?[Bc/Oc,Lc/Oc]:Uc?[Pc/Uc,jc/Uc]:[NaN,NaN];return Pc=jc=Uc=Bc=Lc=Oc=Yc=Rc=qc=0,t}};function $c(t,n){Pc+=t,jc+=n,++Uc}function Ic(){Hc.point=Xc}function Xc(t,n){Hc.point=Zc,$c(Fc=t,Dc=n)}function Zc(t,n){var e=t-Fc,r=n-Dc,i=Xo(e*e+r*r);Bc+=i*(Fc+t)/2,Lc+=i*(Dc+n)/2,Oc+=i,$c(Fc=t,Dc=n)}function Vc(){Hc.point=$c}function Wc(){Hc.point=Qc}function Gc(){Jc(Ac,zc)}function Qc(t,n){Hc.point=Jc,$c(Ac=Fc=t,zc=Dc=n)}function Jc(t,n){var e=t-Fc,r=n-Dc,i=Xo(e*e+r*r);Bc+=i*(Fc+t)/2,Lc+=i*(Dc+n)/2,Oc+=i,Yc+=(i=Dc*t-Fc*n)*(Fc+t),Rc+=i*(Dc+n),qc+=3*i,$c(Fc=t,Dc=n)}function Kc(t){this._context=t}Kc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Do)}},result:Qo};var tf,nf,ef,rf,of,af=Eo(),uf={point:Qo,lineStart:function(){uf.point=cf},lineEnd:function(){tf&&ff(nf,ef),uf.point=Qo},polygonStart:function(){tf=!0},polygonEnd:function(){tf=null},result:function(){var t=+af;return af.reset(),t}};function cf(t,n){uf.point=ff,nf=rf=t,ef=of=n}function ff(t,n){rf-=t,of-=n,af.add(Xo(rf*rf+of*of)),rf=t,of=n}function lf(){this._string=[]}function sf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function hf(n,e){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),ra(t,r(i))),i.result()}return a.area=function(t){return ra(t,r(wc)),wc.result()},a.measure=function(t){return ra(t,r(uf)),uf.result()},a.bounds=function(t){return ra(t,r(Cc)),Cc.result()},a.centroid=function(t){return ra(t,r(Hc)),Hc.result()},a.projection=function(t){return arguments.length?(r=null==t?(n=null,pc):(n=t).stream,a):n},a.context=function(t){return arguments.length?(i=null==t?(e=null,new lf):new Kc(e=t),"function"!=typeof o&&i.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(n).context(e)}function pf(r){return function(t){var n=new df;for(var e in r)n[e]=r[e];return n.stream=t,n}}function df(){}function gf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ra(e,t.stream(Cc)),n(Cc.result()),null!=r&&t.clipExtent(r),t}function vf(a,u,t){return gf(a,function(t){var n=u[1][0]-u[0][0],e=u[1][1]-u[0][1],r=Math.min(n/(t[1][0]-t[0][0]),e/(t[1][1]-t[0][1])),i=+u[0][0]+(n-r*(t[1][0]+t[0][0]))/2,o=+u[0][1]+(e-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function mf(t,n,e){return vf(t,[[0,0],n],e)}function yf(o,a,t){return gf(o,function(t){var n=+a,e=n/(t[1][0]-t[0][0]),r=(n-e*(t[1][0]+t[0][0]))/2,i=-e*t[0][1];o.scale(150*e).translate([r,i])},t)}function bf(o,a,t){return gf(o,function(t){var n=+a,e=n/(t[1][1]-t[0][1]),r=-e*t[0][0],i=(n-e*(t[1][1]+t[0][1]))/2;o.scale(150*e).translate([r,i])},t)}lf.prototype={_radius:4.5,_circle:sf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=sf(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},df.prototype={constructor:df,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var wf=16,_f=Oo(30*jo);function xf(t,n){return+n?function(C,A){function z(t,n,e,r,i,o,a,u,c,f,l,s,h,p){var d=a-t,g=u-n,v=d*d+g*g;if(4*A<v&&h--){var m=r+f,y=i+l,b=o+s,w=Xo(m*m+y*y+b*b),_=Wo(b/=w),x=Uo(Uo(b)-1)<To||Uo(e-c)<To?(e+c)/2:Lo(y,m),M=C(x,_),E=M[0],k=M[1],S=E-t,N=k-n,T=g*S-d*N;(A<T*T/v||.3<Uo((d*S+g*N)/v-.5)||r*f+i*l+o*s<_f)&&(z(t,n,e,r,i,o,E,k,x,m/=w,y/=w,b,h,p),p.point(E,k),z(E,k,x,m,y,b,a,u,c,f,l,s,h,p))}}return function(i){var e,r,o,a,u,c,f,l,s,h,p,d,g={point:t,lineStart:n,lineEnd:m,polygonStart:function(){i.polygonStart(),g.lineStart=y},polygonEnd:function(){i.polygonEnd(),g.lineStart=n}};function t(t,n){t=C(t,n),i.point(t[0],t[1])}function n(){l=NaN,g.point=v,i.lineStart()}function v(t,n){var e=ma([t,n]),r=C(t,n);z(l,s,f,h,p,d,l=r[0],s=r[1],f=t,h=e[0],p=e[1],d=e[2],wf,i),i.point(l,s)}function m(){g.point=t,i.lineEnd()}function y(){n(),g.point=b,g.lineEnd=w}function b(t,n){v(e=t,n),r=l,o=s,a=h,u=p,c=d,g.point=v}function w(){z(l,s,f,h,p,d,r,o,e,a,u,c,wf,i),(g.lineEnd=m)()}return g}}(t,n):(e=t,pf({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}}));var e}var Mf=pf({point:function(t,n){this.stream.point(t*jo,n*jo)}});function Ef(t,e,r,n){var i=Oo(n),o=$o(n),a=i*t,u=o*t,c=i/t,f=o/t,l=(o*r-i*e)/t,s=(o*e+i*r)/t;function h(t,n){return[a*t-u*n+e,r-u*t-a*n]}return h.invert=function(t,n){return[c*t-f*n+l,s-f*t-c*n]},h}function kf(t){return Sf(function(){return t})()}function Sf(t){var e,i,n,r,o,a,u,c,f,l,s=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,w=null,_=Ou,x=null,M=pc,E=.5;function k(t){return c(t[0]*jo,t[1]*jo)}function S(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Po,t[1]*Po]}function N(){var t=Ef(s,0,0,b).apply(null,e(d,g)),n=(b?Ef:function(e,r,i){function t(t,n){return[r+e*t,i-e*n]}return t.invert=function(t,n){return[(t-r)/e,(i-n)/e]},t})(s,h-t[0],p-t[1],b);return i=xu(v,m,y),u=wu(e,n),c=wu(i,u),a=xf(u,E),T()}function T(){return f=l=null,k}return k.stream=function(t){return f&&l===t?f:f=Mf((r=i,pf({point:function(t,n){var e=r(t,n);return this.stream.point(e[0],e[1])}})(_(a(M(l=t))))));var r},k.preclip=function(t){return arguments.length?(_=t,w=void 0,T()):_},k.postclip=function(t){return arguments.length?(M=t,x=n=r=o=null,T()):M},k.clipAngle=function(t){return arguments.length?(_=+t?Yu(w=t*jo):(w=null,Ou),T()):w*Po},k.clipExtent=function(t){return arguments.length?(M=null==t?(x=n=r=o=null,pc):Hu(x=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),T()):null==x?null:[[x,n],[r,o]]},k.scale=function(t){return arguments.length?(s=+t,N()):s},k.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],N()):[h,p]},k.center=function(t){return arguments.length?(d=t[0]%360*jo,g=t[1]%360*jo,N()):[d*Po,g*Po]},k.rotate=function(t){return arguments.length?(v=t[0]%360*jo,m=t[1]%360*jo,y=2<t.length?t[2]%360*jo:0,N()):[v*Po,m*Po,y*Po]},k.angle=function(t){return arguments.length?(b=t%360*jo,N()):b*Po},k.precision=function(t){return arguments.length?(a=xf(u,E=t*t),T()):Xo(E)},k.fitExtent=function(t,n){return vf(k,t,n)},k.fitSize=function(t,n){return mf(k,t,n)},k.fitWidth=function(t,n){return yf(k,t,n)},k.fitHeight=function(t,n){return bf(k,t,n)},function(){return e=t.apply(this,arguments),k.invert=e.invert&&S,N()}}function Nf(t){var n=0,e=Ao/3,r=Sf(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*jo,e=t[1]*jo):[n*Po,e*Po]},i}function Tf(t,n){var e=$o(t),r=(e+$o(n))/2;if(Uo(r)<To)return function(t){var e=Oo(t);function n(t,n){return[t*e,$o(n)/e]}return n.invert=function(t,n){return[t/e,Wo(n*e)]},n}(t);var i=1+e*(2*r-e),o=Xo(i)/r;function a(t,n){var e=Xo(i-2*r*$o(n))/r;return[e*$o(t*=r),o-e*Oo(t)]}return a.invert=function(t,n){var e=o-n;return[Lo(t,Uo(e))/r*Io(e),Wo((i-(t*t+e*e)*r*r)/(2*r))]},a}function Cf(){return Nf(Tf).scale(155.424).center([0,33.6442])}function Af(){return Cf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zf(o){return function(t,n){var e=Oo(t),r=Oo(n),i=o(e*r);return[i*r*$o(t),i*$o(n)]}}function Ff(a){return function(t,n){var e=Xo(t*t+n*n),r=a(e),i=$o(r),o=Oo(r);return[Lo(t*i,e*o),Wo(e&&n*i/e)]}}var Df=zf(function(t){return Xo(2/(1+t))});Df.invert=Ff(function(t){return 2*Wo(t/2)});var Pf=zf(function(t){return(t=Vo(t))&&t/$o(t)});function jf(t,n){return[t,qo(Zo((zo+n)/2))]}function Uf(e){var r,i,o,a=kf(e),n=a.center,u=a.scale,c=a.translate,f=a.clipExtent,l=null;function s(){var t=Ao*u(),n=a(Su(a.rotate()).invert([0,0]));return f(null==l?[[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]]:e===jf?[[Math.max(n[0]-t,l),r],[Math.min(n[0]+t,i),o]]:[[l,Math.max(n[1]-t,r)],[i,Math.min(n[1]+t,o)]])}return a.scale=function(t){return arguments.length?(u(t),s()):u()},a.translate=function(t){return arguments.length?(c(t),s()):c()},a.center=function(t){return arguments.length?(n(t),s()):n()},a.clipExtent=function(t){return arguments.length?(null==t?l=r=i=o=null:(l=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),s()):null==l?null:[[l,r],[i,o]]},s()}function Bf(t){return Zo((zo+t)/2)}function Lf(t,n){var e=Oo(t),i=t===n?$o(t):qo(e/Oo(n))/qo(Bf(n)/Bf(t)),o=e*Ho(Bf(t),i)/i;if(!i)return jf;function r(t,n){0<o?n<-zo+To&&(n=-zo+To):zo-To<n&&(n=zo-To);var e=o/Ho(Bf(n),i);return[e*$o(i*t),o-e*Oo(i*t)]}return r.invert=function(t,n){var e=o-n,r=Io(i)*Xo(t*t+e*e);return[Lo(t,Uo(e))/i*Io(e),2*Bo(Ho(o/r,1/i))-zo]},r}function Of(t,n){return[t,n]}function Yf(t,n){var e=Oo(t),i=t===n?$o(t):(e-Oo(n))/(n-t),o=e/i+t;if(Uo(i)<To)return Of;function r(t,n){var e=o-n,r=i*t;return[e*$o(r),o-e*Oo(r)]}return r.invert=function(t,n){var e=o-n;return[Lo(t,Uo(e))/i*Io(e),o-Io(i)*Xo(t*t+e*e)]},r}Pf.invert=Ff(function(t){return t}),jf.invert=function(t,n){return[t,2*Bo(Ro(n))-zo]},Of.invert=Of;var Rf=1.340264,qf=-.081106,Hf=893e-6,$f=.003796,If=Xo(3)/2;function Xf(t,n){var e=Wo(If*$o(n)),r=e*e,i=r*r*r;return[t*Oo(e)/(If*(Rf+3*qf*r+i*(7*Hf+9*$f*r))),e*(Rf+qf*r+i*(Hf+$f*r))]}function Zf(t,n){var e=Oo(n),r=Oo(t)*e;return[e*$o(t)/r,$o(n)/r]}function Vf(e,r,i,o){return 1===e&&1===r&&0===i&&0===o?pc:pf({point:function(t,n){this.stream.point(t*e+i,n*r+o)}})}function Wf(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Gf(t,n){return[Oo(n)*$o(t),$o(n)]}function Qf(t,n){var e=Oo(n),r=1+Oo(t)*e;return[e*$o(t)/r,$o(n)/r]}function Jf(t,n){return[qo(Zo((zo+n)/2)),-t]}Xf.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Rf+qf*i+o*(Hf+$f*i))-n)/(Rf+3*qf*i+o*(7*Hf+9*$f*i)))*r)*i*i,!(Uo(e)<Co));++a);return[If*t*(Rf+3*qf*i+o*(7*Hf+9*$f*i))/Oo(r),Wo($o(r)/If)]},Zf.invert=Ff(Bo),Wf.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Uo(e)>To&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Gf.invert=Ff(Wo),Qf.invert=Ff(function(t){return 2*Bo(t)}),Jf.invert=function(t,n){return[-n,2*Bo(Ro(t))-zo]};var Kf=Object.freeze({geoArea:function(t){return la.reset(),ra(t,sa),2*la},geoBounds:function(t){var n,e,r,i,o,a,u;if(Sa=ka=-(Ma=Ea=1/0),za=[],ra(t,Ga),e=za.length){for(za.sort(ou),n=1,o=[r=za[0]];n<e;++n)au(r,(i=za[n])[0])||au(r,i[1])?(iu(r[0],i[1])>iu(r[0],r[1])&&(r[1]=i[1]),iu(i[0],r[1])>iu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=iu(r[1],i[0]))>a&&(a=u,Ma=i[0],ka=r[1])}return za=Fa=null,Ma===1/0||Ea===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ma,Ea],[ka,Sa]]},geoCentroid:yu,geoCircle:function(){var r,i,o=bu([0,0]),a=bu(90),u=bu(6),c={point:function(t,n){r.push(t=i(t,n)),t[0]*=Po,t[1]*=Po}};function n(){var t=o.apply(this,arguments),n=a.apply(this,arguments)*jo,e=u.apply(this,arguments)*jo;return r=[],i=xu(-t[0]*jo,-t[1]*jo,0).invert,Nu(c,n,e,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return n.center=function(t){return arguments.length?(o="function"==typeof t?t:bu([+t[0],+t[1]]),n):o},n.radius=function(t){return arguments.length?(a="function"==typeof t?t:bu(+t),n):a},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:bu(+t),n):u},n},geoClipAntimeridian:Ou,geoClipCircle:Yu,geoClipExtent:function(){var n,e,r,i=0,o=0,a=960,u=500;return r={stream:function(t){return n&&e===t?n:n=Hu(i,o,a,u)(e=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],u=+t[1][1],n=e=null,r):[[i,o],[a,u]]}}},geoClipRectangle:Hu,geoContains:function(t,n){return(t&&ec.hasOwnProperty(t.type)?ec[t.type]:ic)(t,n)},geoDistance:nc,geoGraticule:hc,geoGraticule10:function(){return hc()()},geoInterpolate:function(t,n){var e=t[0]*jo,r=t[1]*jo,i=n[0]*jo,o=n[1]*jo,a=Oo(r),u=$o(r),c=Oo(o),f=$o(o),l=a*Oo(e),s=a*$o(e),h=c*Oo(i),p=c*$o(i),d=2*Wo(Xo(Go(o-r)+a*c*Go(i-e))),g=$o(d),v=d?function(t){var n=$o(t*=d)/g,e=$o(d-t)/g,r=e*l+n*h,i=e*s+n*p,o=e*u+n*f;return[Lo(i,r)*Po,Lo(o,Xo(r*r+i*i))*Po]}:function(){return[e*Po,r*Po]};return v.distance=d,v},geoLength:Ju,geoPath:hf,geoAlbers:Af,geoAlbersUsa:function(){var n,e,i,o,a,r,u=Af(),c=Cf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Cf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){r=[t,n]}};function s(t){var n=t[0],e=t[1];return r=null,i.point(n,e),r||(o.point(n,e),r)||(a.point(n,e),r)}function h(){return n=e=null,s}return s.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?f:u).invert(t)},s.stream=function(t){return n&&e===t?n:(r=[u.stream(e=t),c.stream(t),f.stream(t)],i=r.length,n={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),f.precision(t),h()):u.precision()},s.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),f.scale(t),s.translate(u.translate())):u.scale()},s.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),e=+t[0],r=+t[1];return i=u.translate(t).clipExtent([[e-.455*n,r-.238*n],[e+.455*n,r+.238*n]]).stream(l),o=c.translate([e-.307*n,r+.201*n]).clipExtent([[e-.425*n+To,r+.12*n+To],[e-.214*n-To,r+.234*n-To]]).stream(l),a=f.translate([e-.205*n,r+.212*n]).clipExtent([[e-.214*n+To,r+.166*n+To],[e-.115*n-To,r+.234*n-To]]).stream(l),h()},s.fitExtent=function(t,n){return vf(s,t,n)},s.fitSize=function(t,n){return mf(s,t,n)},s.fitWidth=function(t,n){return yf(s,t,n)},s.fitHeight=function(t,n){return bf(s,t,n)},s.scale(1070)},geoAzimuthalEqualArea:function(){return kf(Df).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Df,geoAzimuthalEquidistant:function(){return kf(Pf).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Pf,geoConicConformal:function(){return Nf(Lf).scale(109.5).parallels([30,30])},geoConicConformalRaw:Lf,geoConicEqualArea:Cf,geoConicEqualAreaRaw:Tf,geoConicEquidistant:function(){return Nf(Yf).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Yf,geoEqualEarth:function(){return kf(Xf).scale(177.158)},geoEqualEarthRaw:Xf,geoEquirectangular:function(){return kf(Of).scale(152.63)},geoEquirectangularRaw:Of,geoGnomonic:function(){return kf(Zf).scale(144.049).clipAngle(60)},geoGnomonicRaw:Zf,geoIdentity:function(){var n,e,r,i,o,a,u=1,c=0,f=0,l=1,s=1,h=pc,p=null,d=pc;function g(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(t){return arguments.length?(d=t,p=n=e=r=null,g()):d},clipExtent:function(t){return arguments.length?(d=null==t?(p=n=e=r=null,pc):Hu(p=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),g()):null==p?null:[[p,n],[e,r]]},scale:function(t){return arguments.length?(h=Vf((u=+t)*l,u*s,c,f),g()):u},translate:function(t){return arguments.length?(h=Vf(u*l,u*s,c=+t[0],f=+t[1]),g()):[c,f]},reflectX:function(t){return arguments.length?(h=Vf(u*(l=t?-1:1),u*s,c,f),g()):l<0},reflectY:function(t){return arguments.length?(h=Vf(u*l,u*(s=t?-1:1),c,f),g()):s<0},fitExtent:function(t,n){return vf(a,t,n)},fitSize:function(t,n){return mf(a,t,n)},fitWidth:function(t,n){return yf(a,t,n)},fitHeight:function(t,n){return bf(a,t,n)}}},geoProjection:kf,geoProjectionMutator:Sf,geoMercator:function(){return Uf(jf).scale(961/Do)},geoMercatorRaw:jf,geoNaturalEarth1:function(){return kf(Wf).scale(175.295)},geoNaturalEarth1Raw:Wf,geoOrthographic:function(){return kf(Gf).scale(249.5).clipAngle(90+To)},geoOrthographicRaw:Gf,geoStereographic:function(){return kf(Qf).scale(250).clipAngle(142)},geoStereographicRaw:Qf,geoTransverseMercator:function(){var t=Uf(Jf),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],2<t.length?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Jf,geoRotation:Su,geoStream:ra,geoTransform:function(t){return{stream:pf(t)}}});function tl(t){return t}function nl(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return el(n,t)})}:el(n,t)}function el(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=rl(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function rl(t,n){var o=function(t){if(null==t)return tl;var o,a,u=t.scale[0],c=t.scale[1],f=t.translate[0],l=t.translate[1];return function(t,n){n||(o=a=0);var e=2,r=t.length,i=new Array(r);for(i[0]=(o+=t[0])*u+f,i[1]=(a+=t[1])*c+l;e<r;)i[e]=t[e],++e;return i}}(t.transform),a=t.arcs;function i(t,n){n.length&&n.pop();for(var e=a[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(o(e[r],r));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,i)}function u(t){return o(t)}function c(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function e(t){for(var n=c(t);n.length<4;)n.push(n[0]);return n}function f(t){return t.map(e)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=u(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(u);break;case"LineString":e=c(n.arcs);break;case"MultiLineString":e=n.arcs.map(c);break;case"Polygon":e=f(n.arcs);break;case"MultiPolygon":e=n.arcs.map(f);break;default:return null}return{type:r,coordinates:e}}(n)}function il(c,i){var o={},f={},l={},a=[],u=-1;function t(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}return i.forEach(function(t,n){var e,r=c.arcs[t<0?~t:t];r.length<3&&!r[1][0]&&!r[1][1]&&(e=i[++u],i[u]=t,i[n]=e)}),i.forEach(function(t){var n,e,r=function(t){var n,e=c.arcs[t<0?~t:t],r=e[0];c.transform?(n=[0,0],e.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=e[e.length-1];return t<0?[n,r]:[r,n]}(t),i=r[0],o=r[1];if(n=l[i])if(delete l[n.end],n.push(t),n.end=o,e=f[o]){delete f[e.start];var a=e===n?n:n.concat(e);f[a.start=n.start]=l[a.end=e.end]=a}else f[n.start]=l[n.end]=n;else if(n=f[o])if(delete f[n.start],n.unshift(t),n.start=i,e=l[i]){delete l[e.end];var u=e===n?n:e.concat(n);f[u.start=e.start]=l[u.end=n.end]=u}else f[n.start]=l[n.end]=n;else f[(n=[t]).start=i]=l[n.end=o]=n}),t(l,f),t(f,l),i.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a}function ol(t){return rl(t,function(t,n,e){var r,i,o;if(1<arguments.length)r=function(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch((r=n).type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":n.arcs.forEach(c)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:il(t,r)}}.apply(this,arguments))}var al="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var ul,cl=(function(t){var n,e;n=al,e=function(){var y,o,c,f,t,u={},b={},n={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:n.currentLocale,zeroFormat:n.zeroFormat,nullFormat:n.nullFormat,defaultFormat:n.defaultFormat,scalePercentBy100:n.scalePercentBy100};function a(t,n){this._input=t,this._value=n}return(y=function(t){var n,e,r,i;if(y.isNumeral(t))n=t.value();else if(0===t||void 0===t)n=0;else if(null===t||o.isNaN(t))n=null;else if("string"==typeof t)if(l.zeroFormat&&t===l.zeroFormat)n=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in u)if((i="function"==typeof u[e].regexps.unformat?u[e].regexps.unformat():u[e].regexps.unformat)&&t.match(i)){r=u[e].unformat;break}n=(r=r||y._.stringToNumber)(t)}else n=Number(t)||null;return new a(t,n)}).version="2.0.6",y.isNumeral=function(t){return t instanceof a},y._=o={numberToFormat:function(t,n,e){var r,i,o,a,u,c,f,l,s=b[y.options.currentLocale],h=!1,p=!1,d="",g="",v=!1;if(t=t||0,o=Math.abs(t),y._.includes(n,"(")?(h=!0,n=n.replace(/[\(|\)]/g,"")):(y._.includes(n,"+")||y._.includes(n,"-"))&&(c=y._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),y._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],y._.includes(n," a")&&(d=" "),n=n.replace(new RegExp(d+"a[kmbt]?"),""),1e12<=o&&!i||"t"===i?(d+=s.abbreviations.trillion,t/=1e12):o<1e12&&1e9<=o&&!i||"b"===i?(d+=s.abbreviations.billion,t/=1e9):o<1e9&&1e6<=o&&!i||"m"===i?(d+=s.abbreviations.million,t/=1e6):(o<1e6&&1e3<=o&&!i||"k"===i)&&(d+=s.abbreviations.thousand,t/=1e3)),y._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],u=n.split(".")[1],f=n.indexOf(","),r=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(a=(g=y._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),y._.toFixed(t,u[0].length+u[1].length,e,u[1].length)):y._.toFixed(t,u.length,e)).split(".")[0],g=y._.includes(g,".")?s.delimiters.decimal+g.split(".")[1]:"",p&&0===Number(g.slice(1))&&(g="")):a=y._.toFixed(t,0,e),d&&!i&&1e3<=Number(a)&&d!==s.abbreviations.trillion)switch(a=String(Number(a)/1e3),d){case s.abbreviations.thousand:d=s.abbreviations.million;break;case s.abbreviations.million:d=s.abbreviations.billion;break;case s.abbreviations.billion:d=s.abbreviations.trillion}if(y._.includes(a,"-")&&(a=a.slice(1),v=!0),a.length<r)for(var m=r-a.length;0<m;m--)a="0"+a;return-1<f&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+s.delimiters.thousands)),0===n.indexOf(".")&&(a=""),l=a+g+(d||""),h?l=(h&&v?"(":"")+l+(h&&v?")":""):0<=c?l=0===c?(v?"-":"+")+l:l+(v?"-":"+"):v&&(l="-"+l),l},stringToNumber:function(t){var n,e,r,i=b[l.currentLocale],o=t,a={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&t===l.zeroFormat)e=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in e=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[n]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){e*=Math.pow(10,a[n]);break}e*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),e*=Number(t)}return e},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,n){return-1!==t.indexOf(n)},insert:function(t,n,e){return t.slice(0,e)+n+t.slice(e)},reduce:function(t,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var e,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)e=arguments[2];else{for(;o<i&&!(o in r);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");e=r[o++]}for(;o<i;o++)o in r&&(e=n(e,r[o],o,r));return e},multiplier:function(t){var n=t.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,n){var e=o.multiplier(n);return e<t?t:e},1)},toFixed:function(t,n,e,r){var i,o,a,u,c=t.toString().split("."),f=n-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,f),n):f,a=Math.pow(10,i),u=(e(t+"e+"+i)/a).toFixed(i),n-i<r&&(o=new RegExp("\\.?0{1,"+(r-(n-i))+"}$"),u=u.replace(o,"")),u}},y.options=l,y.formats=u,y.locales=b,y.locale=function(t){return t&&(l.currentLocale=t.toLowerCase()),l.currentLocale},y.localeData=function(t){if(!t)return b[l.currentLocale];if(t=t.toLowerCase(),!b[t])throw new Error("Unknown locale : "+t);return b[t]},y.reset=function(){for(var t in n)l[t]=n[t]},y.zeroFormat=function(t){l.zeroFormat="string"==typeof t?t:null},y.nullFormat=function(t){l.nullFormat="string"==typeof t?t:null},y.defaultFormat=function(t){l.defaultFormat="string"==typeof t?t:"0.0"},y.register=function(t,n,e){if(n=n.toLowerCase(),this[t+"s"][n])throw new TypeError(n+" "+t+" already registered.");return this[t+"s"][n]=e},y.validate=function(t,n){var e,r,i,o,a,u,c,f;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=y.localeData(n)}catch(t){c=y.localeData(y.locale())}return i=c.currency.symbol,a=c.abbreviations,e=c.delimiters.decimal,r="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(f=t.match(/^[^\d]+/))||(t=t.substr(1),f[0]===i))&&((null===(f=t.match(/[^\d]+$/))||(t=t.slice(0,-1),f[0]===a.thousand||f[0]===a.million||f[0]===a.billion||f[0]===a.trillion))&&(u=new RegExp(r+"{2}"),!t.match(/[^\d.,]/g)&&(!(2<(o=t.split(e)).length)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/)))))},y.fn=a.prototype={clone:function(){return y(this)},format:function(t,n){var e,r,i,o=this._value,a=t||l.defaultFormat;if(n=n||Math.round,0===o&&null!==l.zeroFormat)r=l.zeroFormat;else if(null===o&&null!==l.nullFormat)r=l.nullFormat;else{for(e in u)if(a.match(u[e].regexps.format)){i=u[e].format;break}r=(i=i||y._.numberToFormat)(o,a,n)}return r},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([this._value,t],function(t,n,e,r){return t+Math.round(i*n)},0)/i,this},subtract:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([t],function(t,n,e,r){return t-Math.round(i*n)},Math.round(this._value*i))/i,this},multiply:function(t){return this._value=o.reduce([this._value,t],function(t,n,e,r){var i=o.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=o.reduce([this._value,t],function(t,n,e,r){var i=o.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)}),this},difference:function(t){return Math.abs(y(this._value).subtract(t).value())}},y.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var n=t%10;return 1==~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),y.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,e){var r,i=y._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),r=y._.numberToFormat(t,n,e),r=y._.includes(r,")")?((r=r.split("")).splice(-1,0,i+"BPS"),r.join("")):r+i+"BPS"},unformat:function(t){return+(1e-4*y._.stringToNumber(t)).toFixed(15)}}),f={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t="("+(t=(c={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(f.suffixes.filter(function(t){return c.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",y.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,n,e){var r,i,o,a=y._.includes(n,"ib")?f:c,u=y._.includes(n," b")||y._.includes(n," ib")?" ":"";for(n=n.replace(/\s?i?b/,""),r=0;r<=a.suffixes.length;r++)if(i=Math.pow(a.base,r),o=Math.pow(a.base,r+1),null===t||0===t||i<=t&&t<o){u+=a.suffixes[r],0<i&&(t/=i);break}return y._.numberToFormat(t,n,e)+u},unformat:function(t){var n,e,r=y._.stringToNumber(t);if(r){for(n=c.suffixes.length-1;0<=n;n--){if(y._.includes(t,c.suffixes[n])){e=Math.pow(c.base,n);break}if(y._.includes(t,f.suffixes[n])){e=Math.pow(f.base,n);break}}r*=e||1}return r}}),y.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,e){var r,i,o=y.locales[y.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),r=y._.numberToFormat(t,n,e),0<=t?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!y._.includes(a.before,"-")&&!y._.includes(a.before,"(")&&(a.before="-"+a.before),i=0;i<a.before.length;i++)switch(a.before[i]){case"$":r=y._.insert(r,o.currency.symbol,i);break;case" ":r=y._.insert(r," ",i+o.currency.symbol.length-1)}for(i=a.after.length-1;0<=i;i--)switch(a.after[i]){case"$":r=i===a.after.length-1?r+o.currency.symbol:y._.insert(r,o.currency.symbol,-(a.after.length-(1+i)));break;case" ":r=i===a.after.length-1?r+" ":y._.insert(r," ",-(a.after.length-(1+i)+o.currency.symbol.length-1))}return r}}),y.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,e){var r=("number"!=typeof t||y._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),y._.numberToFormat(Number(r[0]),n,e)+"e"+r[1]},unformat:function(t){var n=y._.includes(t,"e+")?t.split("e+"):t.split("e-"),e=Number(n[0]),r=Number(n[1]);return r=y._.includes(t,"e-")?r*=-1:r,y._.reduce([e,Math.pow(10,r)],function(t,n,e,r){var i=y._.correctionFactor(t,n);return t*i*(n*i)/(i*i)},1)}}),y.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,e){var r=y.locales[y.options.currentLocale],i=y._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=r.ordinal(t),y._.numberToFormat(t,n,e)+i}}),y.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,e){var r,i=y._.includes(n," %")?" ":"";return y.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),r=y._.numberToFormat(t,n,e),r=y._.includes(r,")")?((r=r.split("")).splice(-1,0,i+"%"),r.join("")):r+i+"%"},unformat:function(t){var n=y._.stringToNumber(t);return y.options.scalePercentBy100?.01*n:n}}),y.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,n,e){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var n=t.split(":"),e=0;return 3===n.length?(e+=60*Number(n[0])*60,e+=60*Number(n[1]),e+=Number(n[2])):2===n.length&&(e+=60*Number(n[0]),e+=Number(n[1])),Number(e)}}),y},t.exports?t.exports=e():n.numeral=e()}(ul={exports:{}},ul.exports),ul.exports);function fl(t){var n=typeof t;return"function"===n||"object"===n&&!!t}var ll=Array.prototype,sl=Object.prototype,hl=ll.slice,pl=sl.toString,dl=sl.hasOwnProperty,gl=Object.keys;function vl(t,n){return null!=t&&dl.call(t,n)}var ml,yl=(ml=1,function(t,n,e){n=Pl(n,e);for(var r=Bl(t),i=0<ml?0:r-1;0<=i&&i<r;i+=ml)if(n(t[i],i,t))return i;return-1});var bl,wl,_l,xl=(bl=1,wl=yl,_l=function(t,n,e,r){for(var i=(e=Pl(e,r,1))(n),o=0,a=Bl(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o},function(t,n,e){var r=0,i=Bl(t);if("number"==typeof e)0<bl?r=0<=e?e:Math.max(e+i,r):i=0<=e?Math.min(e+1,i):e+i+1;else if(_l&&e&&i)return e=_l(t,n),t[e]===n?e:-1;if(n!=n)return 0<=(e=wl(hl.call(t,r,i),kl))?e+r:-1;for(e=0<bl?r:i-1;0<=e&&e<i;e+=bl)if(t[e]===n)return e;return-1});function Ml(t,n,e,r){return Ll(t)||(t=function(t){for(var n=Rl(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}(t)),("number"!=typeof e||r)&&(e=0),0<=xl(t,n,e)}var El=("function"!=typeof/./&&"object"!=typeof Int8Array&&"undefined"!=typeof document&&"function"!=typeof document.childNodes?function(t){return"function"==typeof t||!1}:null)||function(t){return"[object Function]"===pl.call(t)};!function(){pl.call(arguments)}();function kl(t){return n=t,"[object Number]"===pl.call(n)&&isNaN(t);var n}var Sl=Dl;function Nl(t){return t}var Tl,Cl,Al=(Tl=Rl,function(t){var n=arguments,e=arguments.length;if(Cl&&(t=Object(t)),e<2||null==t)return t;for(var r=1;r<e;r++)for(var i=n[r],o=Tl(i),a=o.length,u=0;u<a;u++){var c=o[u];!fl(t)||Cl&&void 0!==t[c]||(t[c]=i[c])}return t});function zl(n){return n=Al({},n),function(t){return function(t,n){var e=Rl(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0}(t,n)}}function Fl(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 3:return function(t,n,e){return i.call(o,t,n,e)};case 4:return function(t,n,e,r){return i.call(o,t,n,e,r)}}return function(){return i.apply(o,arguments)}}function Dl(t,n){return Pl(t,n,1/0)}function Pl(t,n,e){return Sl!==Dl?Sl(t,n):null==t?Nl:El(t)?Fl(t,n,e):fl(t)?zl(t):jl(t)}function jl(n){return function(t){return null==t?void 0:t[n]}}var Ul=Math.pow(2,53)-1,Bl=jl("length"),Ll=function(t){var n=Bl(t);return"number"==typeof n&&0<=n&&n<=Ul};var Ol=!{toString:null}.propertyIsEnumerable("toString"),Yl=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];!function(t){for(var n={},e=Rl(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r]}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"});function Rl(t){if(!fl(t))return[];if(gl)return gl(t);var n=[];for(var e in t)vl(t,e)&&n.push(e);return Ol&&function(t,n){var e=Yl.length,r=t.constructor,i=El(r)&&r.prototype||sl,o="constructor";for(vl(t,o)&&!Ml(n,o)&&n.push(o);e--;)(o=Yl[e])in t&&t[o]!==i[o]&&!Ml(n,o)&&n.push(o)}(t,n),n}function ql(r,t){var i={"de-DE":[",",".","k","m","b","t","€"],"de-AT":"de-DE","it-IT":"de-DE","es-ES":"de-DE","pt-PT":"de-DE","nl-NL":"de-DE","da-DK":"de-DE","de-CH":[".","'","k","m","b","t","€"],"fr-CH":"de-CH","fr-FR":[","," ","k","m","b","t","€"],"nb-NO":"fr-FR","sv-SE":"fr-FR","ru-RU":"fr-FR","fi-FI":"fr-FR"};!function(t,n,e){var r,i;if(n=Fl(n,e),Ll(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=Rl(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}}(i,function(t,n){var e;e=t,"[object String]"===pl.call(e)&&(t=i[t]),void 0===r.locales[n]&&void 0===r.locales[n.toLowerCase()]&&r.register("locale",n,{delimiters:{thousands:t[1],decimal:t[0]},abbreviations:{thousand:t[2],million:t[3],billion:t[4],trillion:t[5]},ordinal:function(){return"."},currency:{symbol:t[6]}})});var n=function(t){return t.split(/[-_]/)[0]},e=t in i?t:n(t)in i?n(t):"en";r.locale(e)}var Hl,$l,Il,Xl,Zl,Vl={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{%(.+?)%\}/g};function Wl(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),!n)return t;for(var r=n.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?e:i}function Gl(n,e){try{e(n)}catch(t){var r=t.message;if(t.message.match("is not defined")){var i=r.replace(" is not defined","");n[i]="<span style='color:red; font-family:monospace;'>{{ "+i+" }}</span>",Gl(n,e)}else n.jsError="<table><tr style='color:red; font-family:monospace;'><td class='arrow'>‣ </td><td>"+t.message+"</td></tr></table>"}return n}q.prototype.at=ho,q.prototype.append=fo,q.prototype.translate=uo,q.prototype.tspans=so,dw.visualization.register("d3-maps-core",{init:function(t){this.svg=t.node(),this.__canvas={w:+t.attr("width"),h:+t.attr("height"),lpad:10,rpad:10},ql(cl,this.chart().locale())},initBaseMap:function(t,n,q){var H=this,e=H.size(),$=H.axes(),r=__dw.params.d3maps_basemap[n],I=0,X=e[0],Z=e[1],i=H.get("layers",{});if(_.templateSettings={interpolate:Vl.interpolate,evaluate:Vl.evaluate},r){var o=J(t);on(G()).l<50&&o.classed("color-invert",!0);var a=o.append("svg").classed(n,!0).style("overflow","hidden").at({width:X,height:Z});H.init(a),["regions","borders","exteriorBorders","innerborders"].forEach(function(t){i[t]&&(r.meta[t]=i[t])}),function(t,c,n,o){c.maxZoom=c.maxZoom||8;var e=c.projection,i=c.extent,a=!_.isEmpty(i.exclude),u=nl(t,t.objects[c.regions]),r=yu(u),f="geoNaturalEarth"===e.type?"geoNaturalEarth1":e.type,l="geoNaturalEarth1"===f||"geoEquirectangular"===f?[0,0,0]:e.rotate||!1===e.rotate?e.rotate:[-r[0],-r[1]],s=e.center,h=!1===i.padding||void 0===i.padding?0:i.padding,p=Kf[f]();l&&p.rotate&&p.rotate(l);var d=a?function(){var t=u.features,n=function(e){i.exclude[e].forEach(function(n){t=t.filter(function(t){return t.properties[e]!==n})})};for(var e in i.exclude)i.exclude.hasOwnProperty(e)&&n(e);return{type:"FeatureCollection",features:t}}():u;i.layer&&!H.get("hide-empty-regions")&&(d=nl(t,t.objects[i.layer]));V(p,h,d),s&&p.center&&W(p,s);var g=hf().projection(p),v=o.append("g.map"),m=v.append("rect.background").attr("width",X).attr("height",Z);i.layer&&!H.get("hide-empty-regions")&&v.append("path.bg.geo").datum(nl(t,t.objects[i.layer])).attr("d",g);var y=function(t){var n=t.features,e=v.append("g.regions"),r=e.selectAll(".region").data(n).enter().append("g.region").each(function(t){t.anchor=R(t)}),i=r.append("path.geo.region").attr("d",g).classed("highlight",function(t){if("#id="!==location.hash.substr(0,4))return!1;var n=location.hash.substr(4).split(",");return-1<n.indexOf(t.properties.RS)});return{regionShapes:n,regions:e,gregion:r,region:i}},b=y(u),w=b.regionShapes,x=b.regions,M=b.gregion,E=b.region,k=function(){var t=a||i.layer||H.get("hide-empty-regions")?d:u,n=y(t),e=n.regions,r=e.node().getBoundingClientRect();return e.remove(),r},S=k(),N=v.append("path.geo.borders").datum(ol(t,t.objects[c.regions],function(t,n){return t!==n})).attr("d",g);function T(t,n){t&&c.strokes&&c.strokes[n]&&("number"==typeof c.strokes[n]?t.style("stroke-width",c.strokes[n]):"object"==typeof c.strokes[n]&&t.st(c.strokes[n]))}T(N,"regions"),c.custom_upload&&c.exteriorBorders&&(c.strokes={exteriorBorders:{stroke:"#888888",strokeWidth:2,strokeDasharray:"2,4",strokeLinecap:"round"}});var C=c.exteriorBorders?v.append("path.geo.borders.exteriorborders").datum(ol(t,t.objects[c.exteriorBorders],function(t,n){return!0})).attr("d",g):void 0;T(C,"exteriorBorders");var A=c.borders?v.append("path.geo.borders2.borders").datum(ol(t,t.objects[c.borders],function(t,n){return t!==n})).attr("d",g):void 0;T(A,"borders");var z=c.innerborders?v.append("path.geo.innerborders.borders").datum(ol(t,t.objects[c.innerborders])).attr("d",g):void 0;T(z,"inner");var F,D=v.append("g.outlines"),P=D.selectAll(".region-outline").data(w).enter().append("path.geo.region-outline").attr("d",g),j=[],U={},B={svg:o,scale:1,meta:c,g:v,data:w,region:{g:M,fill:E,outline:P},proj:p,path:g,feat:u,borders:N,borders2:A,innerborders:z,getThemeBgColor:G,clearZoomLayer:function(){j.forEach(function(t){t.g.remove()}),j.length=0},addZoomLayer:function(t,n,e){U[t]={g:n,feat:e},j.push(U[t])},updateZoomLayerSelection:function(t,n){U[t].feat=n},onZoom:function(t){F=t},setUserPadding:function(t){return I=t,O(H.size()),B},zoomVisRegions:function(){d=B.getVisRegions(),V(p,h,d),S=k(),O(H.size())},getVisRegions:function(){var t=d.features.filter(function(t){return!B.hasNoData(t)});return{type:"FeatureCollection",features:t}},hasNoData:function(t){return!t.data||void 0===t.data[$.values]||null===t.data[$.values]||"null"===t.data[$.values]||"-"===t.data[$.values]},resizeMap:O,fixZoom:Y,zoomBehavior:!1};function L(){var t=void 0!==B.zoomBehavior&&!1!==B.zoomBehavior?Qi(o.node()):Gi;return t}void 0!==H.get("zoomable")&&!0!==H.get("zoomable")||(B.zoomBehavior=ao().scaleExtent([1,c.maxZoom]).on("zoom",function(){var t=Q.transform,n=(X-S.width)/2*t.k,e=(Z-S.height)/2*t.k,r=S.width*t.k,i=S.height*t.k,o=Math.min(0,X-r)-n,a=Math.min(0,Z-i)-e;t.x=Math.min(-n,Math.max(o,t.x)),t.y=Math.min(-e,Math.max(a,t.y)),r<X&&(t.x=.5*(X-r)-n);i<Z&&(t.y=.5*(Z-i)-e);Y(),F&&F(t.k,[t.x,t.y])}),o.call(B.zoomBehavior),n.style("position","relative").append("div.zoom-buttons").selectAll(".zoom-btn").data(["in","out"]).enter().append("div").attr("class",function(t){return"zoom-btn zoom-btn-"+t}).html(function(t){return"in"===t?"+":"–"}).on("click",function(t){var n=(e=L().k*Math.pow(2,+("in"===t?1:-1)),r=1,i=c.maxZoom,Math.max(r,Math.min(i,e)));var e,r,i;B.zoomBehavior.scaleTo(o.transition().duration(750),n)}));function O(t){H.size(t[0],t[1]),X=t[0],Z=t[1],s&&p.center&&p.center([0,0]),V(p,h,d),s&&p.center&&W(p,s),g.projection(p),o.at({width:X,height:Z}),o.selectAll("path.geo").attr("d",g),m.attr("width",X).attr("height",Z),x.selectAll("g.region").each(function(t){t.anchor=R(t)}),Y()}return q(B);function Y(){var t=L(),n=B.scale=t.k,e=Math.pow(Math.min(1,n-1),.5),o=(.45+.25*e)/n,r=[{key:"regions",selection:N,scale:1},{key:"outlines",selection:D,scale:2},{key:"borders",selection:A,scale:3},{key:"innerborders",selection:z,scale:.5},{key:"exteriorBorders",selection:C,scale:1}];r.forEach(function(t){var n=H.theme(),e=Wl(n,"vis."+H.meta.id+".borders."+t.key+".scale",Wl(n,"vis.d3-maps-core.borders."+t.key+".scale"));e&&(t.scale=e)}),v.attr("transform",t),r.forEach(function(t){var n=t.key,e=t.selection,r=t.scale;if((c[n]||"outlines"===n)&&e.style("stroke-width",o*r+"px"),c.strokes&&"object"==typeof c.strokes[n]&&c.strokes[n].strokeDasharray){var i=c.strokes[n].strokeDasharray.split(",").map(function(t){return Number(t)*o});e.style("stroke-dasharray",i.join(","))}});for(var i=j.length,a=0;a<i;a++)j[a].feat.attr("transform",u);function u(t){return"translate("+t.anchor+") scale("+1/n+")"}}function R(t){return void 0===t.properties.cx&&void 0===t.properties.cy?g.centroid(t):p([t.properties.cx,t.properties.cy])}}(r.content,r.meta,o,a)}else setTimeout(function(){location.reload()},2e3);function V(t,n,e){var r=(Z-Z*(1-I))/2,i=parseInt((X-X*(1-I))/2,10)+n,o=parseInt(r,10)+n;t.fitExtent([[i,o],[X-i,Z-o]],e)}function W(t,n){t.center(n)}function G(){return H.theme().colors.background}},_svgCanvas:function(){return this.svg},getFormat:function(n,e,t){if(!e)return _.identity;var r=this,i=r.get(n,t),o=-1<i.indexOf("%"),a="number"===e.type()?function(t){return cl(o?.01*t:t).format((e={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"}).hasOwnProperty(n=i)?e[n]:n);var n,e}:"date"===e.type()?function(t){return moment(t).format(r.get(n)||"YYYY")}:_.identity;return function(t){return"date"===e.type()?_.isDate(t)?a(t):t:a(t)}},getColorScale:function(t){var n=this.dataset,e=this.axes(!0).values,r=e.type(),i=this.get(t+".colors",function(t){var n=[{c:"#fff",p:0},{c:"#000",p:1}],e=t.theme(),r=e.colors?e.colors.gradients:null;if(!r)return n;var i=r[0];return!i||!_.isString(i[0])||i.length<2?n:i.map(function(t,n){return{c:t,p:n/(i.length-1)}})}(this)),o=this.get(t+".stops",function(t,n){var e=[{p:0,v:0},{p:1,v:1}],r=n.name();if(!r)return e;var i=t.column(r).range();return i?[{p:0,v:i[0]},{p:1,v:i[1]}]:e}(n,e));if(window.ds=n,"number"===r)return po(me().range(o.map(po("p"))).domain(o.map(po("v"))),me().clamp(!0).domain(i.map(po("p"))).range(i.map(po("c"))));var a,u,c,f,l,s,h=_.uniq(e.values()).filter(_.identity);return i=this.__categoryColors=(a=this.get("categories",{}),u=h,c=this.theme(),f=mt(a),l=[].concat(c.colors.palette).concat(c.colors.secondary).filter(function(t){return f.indexOf(t)<0}),s=_.extend({},a),u.forEach(function(t){if(!s[t]){var n=l.shift();s[t]=n}}),s),function t(r){var o=ct(),a=[],i=_t;function u(t){var n=t+"",e=o.get(n);if(!e){if(i!==_t)return i;o.set(n,e=a.push(t))}return r[(e-1)%r.length]}return r=null==r?[]:wt.call(r),u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=ct();for(var n,e,r=-1,i=t.length;++r<i;)o.has(e=(n=t[r])+"")||o.set(e,a.push(n));return u},u.range=function(t){return arguments.length?(r=wt.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return t().domain(a).range(r).unknown(i)},u}().domain(vt(i)).range(mt(i))}}),q.prototype.append=fo,q.prototype.st=go,dw.visualization.register("d3-maps-choropleth","d3-maps-core",{render:function(M){if($l)return!1;$l=!0;var E=M.get(0),k=this,t=k.theme(),S=k.size(),N=k.dataset.list(),T=Wl(t,"vis.d3-maps-choropleth.noDataFill","#dddddd"),C=k.get("min-label-zoom",3.5),A=k.get("avoid-label-overlap",!0),z=k.axes(),n=k.get("tooltip.title")+"/"+k.get("tooltip.body"),F=k.axes(!0).values;if(Il&&Il===k.get("basemap","bl")&&Zl&&Zl===n){if(Hl.svg){var e=k.size();Xl[0]!==e[0]||Xl[1]!==e[1]?(Xl=e,Hl.resizeMap(e)):r()}$l=!1,k.renderingComplete()}else Xl=k.size(),Zl=n,M.html("").off("click").off("mousemove").off("mouseenter").off("mouseover"),Il=k.get("basemap","bl"),k.initBaseMap(E,Il,function(t){Hl=t,r(),$l=!1,k.renderingComplete()});function r(){var e=[],i=k.colorMap(),r=k.get("highlighted-series");if(Hl.data){Hl.clearZoomLayer();var o=ft().key(function(t){return t[z.keys]}).rollup(function(t){return t[0]}).map(N),a=k.get("map-key-attr",function(){var t=__dw.params.d3maps_basemap[Il].meta,n=t.keys?t.keys:null;if(!n)return"id";var e=n[0]?n[0].value:null;return e||"id"}());Hl.data.forEach(function(t){var n=o.get(t.properties[a]);n&&(t.data=n,e.push(n))});var t=e.map(po(z.values)),u=k.getColorScale("gradient");if(k.get("hide-empty-regions")&&(Hl.region.g.classed("hidden",Hl.hasNoData),Hl.region.outline.classed("hidden",Hl.hasNoData),Hl.zoomVisRegions()),Hl.region.fill.style("fill",function(t){return Hl.hasNoData(t)?i(t.fill=T):i(t.fill=u(t.data[z.values]))}),Hl.region.outline.classed("has-data",function(t){return!Hl.hasNoData(t)}),Hl.borders.style("stroke",Hl.getThemeBgColor()),Hl.borders2&&Hl.borders2.style("stroke",Hl.getThemeBgColor()),Hl.innerborders&&Hl.innerborders.style("stroke",Hl.getThemeBgColor()),z.labels){var c=/<br *\/?>|\n/g;Hl.data.forEach(function(t){t.__area=Hl.path.area(t)});var n=Hl.data.sort(function(t,n){return n.__area-t.__area}),l=Hl.g.append("g.labels"),f=l.selectAll("g.label").data(n).enter().append("g.label").classed("inverted",m).each(function(t){var n=t.data&&t.data[z.labels]?t.data[z.labels].replace(/-/g,"- "):"";t.__lines=(n?n.match(n)?n.trim().split(c):function(t,n,e,r){var i,o,a,u,c,f,l=[],s=[],h=[];return(o=t.split(" ")).forEach(function(t,n){var e=t.split("-"),r=n<o.length-1?" ":"";1<e.length?e.forEach(function(t,n){s.push(t+(n<e.length-1?"-":r))}):s.push(t+r)}),a=n||40,u=e||Math.max(3,Math.min(.5*a,.75*s.map(function(t){return t.length}).sort(function(t,n){return t-n})[Math.round(s.length/2)])),c=a*vo.a,f=u*vo.a,i=0,s.forEach(function(t){var n=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}(t.split("").map(p));return c<i+n&&f<i&&(l.push(h.join("")),h.length=0,i=0),i+=n,h.push(t)}),h.length&&l.push(h.join("")),l.filter(function(t){return""!==t});function p(t){return!r&&vo[t]||vo.a}}(n,10):[]).map(function(t){return t.replace(/- /g,"-")})});f.append("text.buffer"),f.append("text.label").style("fill",function(t){return i(on(t.fill).darker(m(t)?-4:2.5)+"")}),f=l.selectAll("text").filter(po("anchor")).translate(po("anchor")),k.get("hide-empty-regions")&&f.classed("hidden",Hl.hasNoData),f.tspans(po("__lines"),12),g(),f.classed("lbl-hidden",v),Hl.addZoomLayer("labels",l,f),Hl.onZoom(function(){g(),f.classed("lbl-hidden",v)})}var s,b=k.get("tooltip");if(b){b.title_tpl=_.template(b.title),b.body_tpl=_.template(b.body),$(".dw-tooltip",E).remove();var w=J(E).append("div.dw-tooltip").style("max-height",.55*S[1]+"px").style("overflow-y","auto"),h=!1;Hl.region.outline.on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",function(t){h||"ontouchstart"in window||navigator.msMaxTouchPoints||(y(t),J(this).classed("hovered-region",!0))}).on("mousemove",function(t){h||"ontouchstart"in window||navigator.msMaxTouchPoints||y(t,!0)}).on("mouseout",function(){h||"ontouchstart"in window||navigator.msMaxTouchPoints||w.style("visibility","hidden")}).on("click",function(t){""===b.title&&""===b.body||(Hl.region.outline.classed("sticky",!1),h===t||Hl.hasNoData(t)?(h&&Hl.hasNoData(t)||h===t)&&x():(J(this).classed("sticky",!0),y(h=t)))}),$("rect.background").on("click",x)}if("number"===F.type()){var p=k.getFormat("map-key-format",k.axes(!0).values,".1f");s=!1===k.get("map-key-auto")?""!==k.get("map-key-stops")?k.get("map-key-stops").split("\n").map(function(t){var n=(t=t.split(",")).length,e="";if(2<n)for(var r=1;r<n;r++)e=""===e?t[r]:e+","+t[r];else e=t[1];return t[0]=+t[0],{value:t[0],color:i(u(t[0])),label:void 0===t[1]?p(t[0]):e}}):null:me().domain(function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e<=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(e<r&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e<=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(e<r&&(r=e),i<e&&(i=e));return[r,i]}(t.filter(function(t){return"number"==typeof t}))).ticks(5).map(function(t){return{value:t,color:i(u(t)),label:p(t)}})}else{var d=[];N.forEach(function(t){t[z.values]&&-1===d.indexOf(t[z.values])&&d.push(t[z.values])}),s=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}(k.__categoryColors).filter(function(t){return-1<d.indexOf(t.key)}).map(function(t){return{value:t.key,label:t.key,color:i(t.value)}})}_.isEmpty(s)||function(t){if($(".map-key",M).remove(),"hidden"===k.get("map-key-position","br"))return;var n=J(E).append("div.map-key.export-rect.map-key-"+k.get("map-key-position","br"));if(_.isEmpty(t))return;k.get("map-key-title")&&n.append("div.map-key-title.label").append("span").html(k.get("map-key-title"));var e=n.append("div.stops").selectAll(".stop").data(t).enter().append("div.stop");e.append("div.stop-swatch.export-rect").style("background",po("color")),e.append("div.stop-label.label").append("span").html(po("label"))}(s),Hl.fixZoom()}function g(){if(A){var c=[],f=Hl.svg.node().getBoundingClientRect();l.selectAll("g.label").each(function(n,t){var e=this.getBoundingClientRect(),r=e.top-f.top-.5,i=e.bottom-f.top+.5,o=e.left-f.left-.5,a=e.right-f.left+.5,u=!1;(o<0||r<0||i>f.height||a>f.width)&&(u=!0),u||c.forEach(function(t){r>t.b||a<t.l||i<t.t||o>t.r||n!==t.data&&(u=!0)}),u||c.push({t:r,l:o,b:i,r:a,data:n}),n._visible=!u})}}function v(t){return!((n=t)&&n.data&&r&&r.length&&z.labels&&-1<r.indexOf(n.data[z.labels]))&&(Hl.scale<C||!!A&&!t._visible);var n}function m(t){return on(t.fill).l<50}function x(){h=!1,Hl.region.outline.classed("sticky",!1),w.style("visibility","hidden")}function y(r,t){if(!Hl.hasNoData(r)&&(""!==b.title||""!==b.body)){var n=X(E);if(!t){var i={fmt:y,format:y,round:Mo};vt(b.fields).forEach(function(t){var n=k.dataset.column(k.dataset.indexOf(b.fields[t]));if(n){var e=k.chart().columnFormatter(n);i[t]=e(r.data[b.fields[t]])}});var e,o="<div class=\"tooltip-warning\"'>Woops! There's a javascript error in your template:"+(i=Gl(i=Gl(i,b.body_tpl),b.title_tpl)).jsError+"</div>",a=i.jsError?o:b.body_tpl(i).replace(/\n\n/g,"<br>"),u=i.jsError?"":b.title_tpl(i),c='style = "margin-bottom:'+(b.body&&!i.jsError?'10px"':'0px"'),f=(b.title?"<h2 "+c+">"+u+"</h2>":"")+(b.body?a:"");if(e="ontouchstart"in window?f+'<div class="dw-tooltip-close">&#x2715;</div>':f,""===f)return;w.style("visibility","visible").html(e)}if(w.select(".dw-tooltip-close").on("click",x),S[0]<400){var l=n[1]/S[1],s=!0===k.__chart.get("metadata.describe.hide-title")||""===k.__chart.get("metadata.describe.intro")&&""===k.__chart.get("title");w.st({top:l<.5?"auto":s?"0px":"-20px",bottom:l<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*S[1]+"px"})}else{var h=w.property("offsetWidth"),p=w.property("offsetHeight"),d=E.offsetWidth,g=E.offsetHeight,v=n[0]+10+h<d,m=n[1]+10+p<g;w.st({top:m?n[1]-10+"px":"auto",bottom:m?"auto":Math.min(g-p,g-n[1]+10)+"px",left:v?n[0]+10+"px":"auto",right:v?"auto":d-n[0]+10+"px"})}}function y(t,n){return cl(+n).format(t)}}}},reset:function(){}})}();